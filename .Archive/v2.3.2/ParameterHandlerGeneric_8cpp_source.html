<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MaCh3: Parameters/ParameterHandlerGeneric.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="MaCh3.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="mach3logo_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MaCh3
   &#160;<span id="projectnumber">2.3.2</span>
   </div>
   <div id="projectbrief">Reference Guide</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e05d56c3c81e8a80e8e7fed7226c4d57.html">Parameters</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ParameterHandlerGeneric.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ParameterHandlerGeneric_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ParameterHandlerGeneric_8h.html">Parameters/ParameterHandlerGeneric.h</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// ETA - YAML constructor</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// this will replace the root file constructor but let&#39;s keep it in</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// to do some validations</span></div>
<div class="line"><a name="l00007"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#a1ec14913d7763be8e433868f3e2fea2c">    7</a></span>&#160;<a class="code" href="classParameterHandlerGeneric.html#a1ec14913d7763be8e433868f3e2fea2c">ParameterHandlerGeneric::ParameterHandlerGeneric</a>(<span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; YAMLFile, std::string name, <span class="keywordtype">double</span> threshold, <span class="keywordtype">int</span> FirstPCA, <span class="keywordtype">int</span> LastPCA)</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;               : <a class="code" href="classParameterHandlerBase.html">ParameterHandlerBase</a>(YAMLFile, name, threshold, FirstPCA, LastPCA){</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#a9361012fcab6b74dbd47711a94ba8db6">InitParametersTypeFromConfig</a>();</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160; </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;  <span class="comment">//ETA - again this really doesn&#39;t need to be hear...</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classParameterHandlerBase.html#a8d9a71d60c526da6b9ef9d276b1a2fad">_fNumPar</a>; i++)</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;  {</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <span class="comment">// Sort out the print length</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <span class="keywordflow">if</span>(<span class="keywordtype">int</span>(<a class="code" href="classParameterHandlerBase.html#aa30828713375ceda767c9631157bd41d">_fNames</a>[i].length()) &gt; <a class="code" href="classParameterHandlerBase.html#aef9f160c6a95971f743b153bbc0a4a66">PrintLength</a>) <a class="code" href="classParameterHandlerBase.html#aef9f160c6a95971f743b153bbc0a4a66">PrintLength</a> = int(<a class="code" href="classParameterHandlerBase.html#aa30828713375ceda767c9631157bd41d">_fNames</a>[i].length());</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;  } <span class="comment">// end the for loop</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160; </div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a4db4657acad5c79ac4bbb66a9d1c5905">MACH3LOG_DEBUG</a>(<span class="stringliteral">&quot;Constructing instance of ParameterHandler&quot;</span>);</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#a55b99dcc79074929cad4b4187b83cc62">InitParams</a>();</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;  <span class="comment">// Print</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#a1a0df46f5d9f94c9671a8796865a2f73">Print</a>();</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;}</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#a9361012fcab6b74dbd47711a94ba8db6">   26</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classParameterHandlerGeneric.html#a9361012fcab6b74dbd47711a94ba8db6">ParameterHandlerGeneric::InitParametersTypeFromConfig</a>() {</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">_fSystToGlobalSystIndexMap</a>.resize(<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa32e7da18117f9defb24042a71776e5cb">SystType::kSystTypes</a>);</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#a6e412e6a3e8b954e1efcb97b03520f52">_fParamType</a> = std::vector&lt;SystType&gt;(<a class="code" href="classParameterHandlerBase.html#a8d9a71d60c526da6b9ef9d276b1a2fad">_fNumPar</a>);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#aeb3fea66be02cc59ca14af171e7dd746">_ParameterGroup</a> = std::vector&lt;std::string&gt;(<a class="code" href="classParameterHandlerBase.html#a8d9a71d60c526da6b9ef9d276b1a2fad">_fNumPar</a>);</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="comment">//KS: We know at most how params we expect so reserve memory for max possible params. Later we will shrink to size to not waste memory. Reserving means slightly faster loading and possible less memory fragmentation.</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>.reserve(<a class="code" href="classParameterHandlerBase.html#a8d9a71d60c526da6b9ef9d276b1a2fad">_fNumPar</a>);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#a0dd46fbd1eb07b54ba48e8fc7a5c03c1">SplineParams</a>.reserve(<a class="code" href="classParameterHandlerBase.html#a8d9a71d60c526da6b9ef9d276b1a2fad">_fNumPar</a>);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#a9c201ce36c40a731f23d9949009835b5">FuncParams</a>.reserve(<a class="code" href="classParameterHandlerBase.html#a8d9a71d60c526da6b9ef9d276b1a2fad">_fNumPar</a>);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#aad56dc883ea817fae4b37608c018e61e">OscParams</a>.reserve(<a class="code" href="classParameterHandlerBase.html#a8d9a71d60c526da6b9ef9d276b1a2fad">_fNumPar</a>);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ParamCounter[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa32e7da18117f9defb24042a71776e5cb">SystType::kSystTypes</a>] = {0};</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="comment">//ETA - read in the systematics. Would be good to add in some checks to make sure</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="comment">//that there are the correct number of entries i.e. are the _fNumPars for Names,</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="comment">//PreFitValues etc etc.</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> &amp;param : <a class="code" href="classParameterHandlerBase.html#a714a8a85df5986b40dfbdf13bb8a159d">_fYAMLDoc</a>[<span class="stringliteral">&quot;Systematics&quot;</span>])</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="classParameterHandlerGeneric.html#aeb3fea66be02cc59ca14af171e7dd746">_ParameterGroup</a>[i] = Get&lt;std::string&gt;(param[<span class="stringliteral">&quot;Systematic&quot;</span>][<span class="stringliteral">&quot;ParameterGroup&quot;</span>], __FILE__ , __LINE__);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="comment">//Fill the map to get the correlations later as well</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keyword">auto</span> ParamType = Get&lt;std::string&gt;(param[<span class="stringliteral">&quot;Systematic&quot;</span>][<span class="stringliteral">&quot;Type&quot;</span>], __FILE__ , __LINE__);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="comment">//Now load in variables for spline systematics only</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">if</span> (ParamType.find(<a class="code" href="ParameterStructs_8h.html#ad39c312dc44177340e2ebccd3d3f2d4c">SystType_ToString</a>(<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa29d6ccf6cf507f6e66c72b1d3c2aed00">SystType::kSpline</a>)) != std::string::npos)</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    {</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;      <span class="comment">//Set param type</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      <a class="code" href="classParameterHandlerGeneric.html#a6e412e6a3e8b954e1efcb97b03520f52">_fParamType</a>[i] = <a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa29d6ccf6cf507f6e66c72b1d3c2aed00">SystType::kSpline</a>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;      <span class="comment">// Fill Spline info</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      <a class="code" href="classParameterHandlerGeneric.html#a0dd46fbd1eb07b54ba48e8fc7a5c03c1">SplineParams</a>.push_back(<a class="code" href="classParameterHandlerGeneric.html#a1012d55e1779e7212b59593d0a8bfe46">GetSplineParameter</a>(param[<span class="stringliteral">&quot;Systematic&quot;</span>], i));</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;      <span class="keywordflow">if</span> (param[<span class="stringliteral">&quot;Systematic&quot;</span>][<span class="stringliteral">&quot;SplineInformation&quot;</span>][<span class="stringliteral">&quot;SplineName&quot;</span>]) {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <a class="code" href="classParameterHandlerGeneric.html#a24c0df68d9d476ea304c75310f18de2c">_fSplineNames</a>.push_back(param[<span class="stringliteral">&quot;Systematic&quot;</span>][<span class="stringliteral">&quot;SplineInformation&quot;</span>][<span class="stringliteral">&quot;SplineName&quot;</span>].as&lt;std::string&gt;());</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      }</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      <span class="comment">//Insert the mapping from the spline index i.e. the length of _fSplineNames etc</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      <span class="comment">//to the Systematic index i.e. the counter for things like _fSampleID</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      <a class="code" href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">_fSystToGlobalSystIndexMap</a>[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa29d6ccf6cf507f6e66c72b1d3c2aed00">SystType::kSpline</a>].insert(std::make_pair(ParamCounter[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa29d6ccf6cf507f6e66c72b1d3c2aed00">SystType::kSpline</a>], i));</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;      ParamCounter[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa29d6ccf6cf507f6e66c72b1d3c2aed00">SystType::kSpline</a>]++;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(param[<span class="stringliteral">&quot;Systematic&quot;</span>][<span class="stringliteral">&quot;Type&quot;</span>].as&lt;std::string&gt;() == <a class="code" href="ParameterStructs_8h.html#ad39c312dc44177340e2ebccd3d3f2d4c">SystType_ToString</a>(<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa085cb29127b1cf7b1ddd429ff4440b17">SystType::kNorm</a>)) {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      <a class="code" href="classParameterHandlerGeneric.html#a6e412e6a3e8b954e1efcb97b03520f52">_fParamType</a>[i] = <a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa085cb29127b1cf7b1ddd429ff4440b17">SystType::kNorm</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      <a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>.push_back(<a class="code" href="classParameterHandlerGeneric.html#a9066c2d7f9d6f118a96292c267ffefe0">GetNormParameter</a>(param[<span class="stringliteral">&quot;Systematic&quot;</span>], i));</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      <a class="code" href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">_fSystToGlobalSystIndexMap</a>[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa085cb29127b1cf7b1ddd429ff4440b17">SystType::kNorm</a>].insert(std::make_pair(ParamCounter[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa085cb29127b1cf7b1ddd429ff4440b17">SystType::kNorm</a>], i));</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      ParamCounter[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa085cb29127b1cf7b1ddd429ff4440b17">SystType::kNorm</a>]++;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(param[<span class="stringliteral">&quot;Systematic&quot;</span>][<span class="stringliteral">&quot;Type&quot;</span>].as&lt;std::string&gt;() == <a class="code" href="ParameterStructs_8h.html#ad39c312dc44177340e2ebccd3d3f2d4c">SystType_ToString</a>(<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fad9b1ac76e80f59684cfb7dc996fc870d">SystType::kFunc</a>)){</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      <a class="code" href="classParameterHandlerGeneric.html#a6e412e6a3e8b954e1efcb97b03520f52">_fParamType</a>[i] = <a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fad9b1ac76e80f59684cfb7dc996fc870d">SystType::kFunc</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      <a class="code" href="classParameterHandlerGeneric.html#a9c201ce36c40a731f23d9949009835b5">FuncParams</a>.push_back(<a class="code" href="classParameterHandlerGeneric.html#a0c1fa642060d0e39afb84e11ec83a703">GetFunctionalParameters</a>(param[<span class="stringliteral">&quot;Systematic&quot;</span>], i));</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      <a class="code" href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">_fSystToGlobalSystIndexMap</a>[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fad9b1ac76e80f59684cfb7dc996fc870d">SystType::kFunc</a>].insert(std::make_pair(ParamCounter[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fad9b1ac76e80f59684cfb7dc996fc870d">SystType::kFunc</a>], i));</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      ParamCounter[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fad9b1ac76e80f59684cfb7dc996fc870d">SystType::kFunc</a>]++;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(param[<span class="stringliteral">&quot;Systematic&quot;</span>][<span class="stringliteral">&quot;Type&quot;</span>].as&lt;std::string&gt;() == <a class="code" href="ParameterStructs_8h.html#ad39c312dc44177340e2ebccd3d3f2d4c">SystType_ToString</a>(<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa50ac44a09cc05fd1285a88637bdcf789">SystType::kOsc</a>)){</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      <a class="code" href="classParameterHandlerGeneric.html#a6e412e6a3e8b954e1efcb97b03520f52">_fParamType</a>[i] = <a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa50ac44a09cc05fd1285a88637bdcf789">SystType::kOsc</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      <a class="code" href="classParameterHandlerGeneric.html#aad56dc883ea817fae4b37608c018e61e">OscParams</a>.push_back(<a class="code" href="classParameterHandlerGeneric.html#adf13e088be243075c9242228dea71edf">GetOscillationParameters</a>(param[<span class="stringliteral">&quot;Systematic&quot;</span>], i));</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      <a class="code" href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">_fSystToGlobalSystIndexMap</a>[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa50ac44a09cc05fd1285a88637bdcf789">SystType::kOsc</a>].insert(std::make_pair(ParamCounter[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa50ac44a09cc05fd1285a88637bdcf789">SystType::kOsc</a>], i));</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      ParamCounter[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa50ac44a09cc05fd1285a88637bdcf789">SystType::kOsc</a>]++;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    } <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      <a class="code" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Given unrecognised systematic type: {}&quot;</span>, param[<span class="stringliteral">&quot;Systematic&quot;</span>][<span class="stringliteral">&quot;Type&quot;</span>].as&lt;std::string&gt;());</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      std::string expectedTypes = <span class="stringliteral">&quot;Expecting &quot;</span>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> s = 0; s &lt; <a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa32e7da18117f9defb24042a71776e5cb">SystType::kSystTypes</a>; ++s) {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keywordflow">if</span> (s &gt; 0) expectedTypes += <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        expectedTypes += <a class="code" href="ParameterStructs_8h.html#ad39c312dc44177340e2ebccd3d3f2d4c">SystType_ToString</a>(<span class="keyword">static_cast&lt;</span><a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2f">SystType</a><span class="keyword">&gt;</span>(s)) + <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      }</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      expectedTypes += <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      <a class="code" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(expectedTypes);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      <span class="keywordflow">throw</span> <a class="code" href="classMaCh3Exception.html">MaCh3Exception</a>(__FILE__, __LINE__);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    }</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    i++;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  } <span class="comment">//end loop over params</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="comment">//Add a sanity check,</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classParameterHandlerGeneric.html#a24c0df68d9d476ea304c75310f18de2c">_fSplineNames</a>.size() != ParamCounter[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa29d6ccf6cf507f6e66c72b1d3c2aed00">SystType::kSpline</a>]){</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;_fSplineNames is of size {} but found {} spline parameters&quot;</span>, <a class="code" href="classParameterHandlerGeneric.html#a24c0df68d9d476ea304c75310f18de2c">_fSplineNames</a>.size(), ParamCounter[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa29d6ccf6cf507f6e66c72b1d3c2aed00">SystType::kSpline</a>]);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">throw</span> <a class="code" href="classMaCh3Exception.html">MaCh3Exception</a>(__FILE__, __LINE__);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="comment">//KS We resized them above to all params to fight memory fragmentation, now let&#39;s resize to fit only allocated memory to save RAM</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>.shrink_to_fit();</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#a0dd46fbd1eb07b54ba48e8fc7a5c03c1">SplineParams</a>.shrink_to_fit();</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#a9c201ce36c40a731f23d9949009835b5">FuncParams</a>.shrink_to_fit();</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#aad56dc883ea817fae4b37608c018e61e">OscParams</a>.shrink_to_fit();</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#afff2f7a860031fb791e5f4538866fd9a">  108</a></span>&#160;<a class="code" href="classParameterHandlerGeneric.html#afff2f7a860031fb791e5f4538866fd9a">ParameterHandlerGeneric::~ParameterHandlerGeneric</a>() {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a4db4657acad5c79ac4bbb66a9d1c5905">MACH3LOG_DEBUG</a>(<span class="stringliteral">&quot;Deleting ParameterHandler&quot;</span>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;}</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">// DB Grab the Spline Names for the relevant SampleName</span></div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="group__ParameterHandlerGetters.html#gadc9644bbd41005c36945bc9504ef91fd">  115</a></span>&#160;<span class="keyword">const</span> std::vector&lt;std::string&gt; <a class="code" href="group__ParameterHandlerGetters.html#gadc9644bbd41005c36945bc9504ef91fd">ParameterHandlerGeneric::GetSplineParsNamesFromSampleName</a>(<span class="keyword">const</span> std::string&amp; SampleName) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  std::vector&lt;std::string&gt; returnVec;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;pair : <a class="code" href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">_fSystToGlobalSystIndexMap</a>[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa29d6ccf6cf507f6e66c72b1d3c2aed00">SystType::kSpline</a>]) {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keyword">auto</span> &amp;SplineIndex = pair.first;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keyword">auto</span> &amp;SystIndex = pair.second;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classParameterHandlerBase.html#a3c5d92e6b592f18ea4d6bd9afaca7ebd">AppliesToSample</a>(SystIndex, SampleName)) { <span class="comment">//If parameter applies to required Sample</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      returnVec.push_back(<a class="code" href="classParameterHandlerGeneric.html#a24c0df68d9d476ea304c75310f18de2c">_fSplineNames</a>.at(SplineIndex));</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keywordflow">return</span> returnVec;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="group__ParameterHandlerGetters.html#gaedc568e5a86735a4b3d823d204431f99">  129</a></span>&#160;<span class="keyword">const</span> std::vector&lt;SplineInterpolation&gt; <a class="code" href="group__ParameterHandlerGetters.html#gaedc568e5a86735a4b3d823d204431f99">ParameterHandlerGeneric::GetSplineInterpolationFromSampleName</a>(<span class="keyword">const</span> std::string&amp; SampleName) {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  std::vector&lt;SplineInterpolation&gt; returnVec;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;pair : <a class="code" href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">_fSystToGlobalSystIndexMap</a>[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa29d6ccf6cf507f6e66c72b1d3c2aed00">SystType::kSpline</a>]) {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keyword">auto</span> &amp;SplineIndex = pair.first;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keyword">auto</span> &amp;SystIndex = pair.second;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classParameterHandlerBase.html#a3c5d92e6b592f18ea4d6bd9afaca7ebd">AppliesToSample</a>(SystIndex, SampleName)) { <span class="comment">//If parameter applies to required SampleID</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      returnVec.push_back(<a class="code" href="classParameterHandlerGeneric.html#a0dd46fbd1eb07b54ba48e8fc7a5c03c1">SplineParams</a>.at(SplineIndex)._SplineInterpolationType);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keywordflow">return</span> returnVec;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">// DB Grab the Spline Modes for the relevant SampleName</span></div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="group__ParameterHandlerGetters.html#gaf39a139867ff4837b7c6845636c9dcdc">  145</a></span>&#160;<span class="keyword">const</span> std::vector&lt; std::vector&lt;int&gt; &gt; <a class="code" href="group__ParameterHandlerGetters.html#gaf39a139867ff4837b7c6845636c9dcdc">ParameterHandlerGeneric::GetSplineModeVecFromSampleName</a>(<span class="keyword">const</span> std::string&amp; SampleName) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  std::vector&lt; std::vector&lt;int&gt; &gt; returnVec;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="comment">//Need a counter or something to correctly get the index in _fSplineModes since it&#39;s not of length nPars</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="comment">//Should probably just make a std::map&lt;std::string, int&gt; for param name to FD spline index</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;pair : <a class="code" href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">_fSystToGlobalSystIndexMap</a>[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa29d6ccf6cf507f6e66c72b1d3c2aed00">SystType::kSpline</a>]) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keyword">auto</span> &amp;SplineIndex = pair.first;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keyword">auto</span> &amp;SystIndex = pair.second;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classParameterHandlerBase.html#a3c5d92e6b592f18ea4d6bd9afaca7ebd">AppliesToSample</a>(SystIndex, SampleName)) { <span class="comment">//If parameter applies to required SampleID</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      returnVec.push_back(<a class="code" href="classParameterHandlerGeneric.html#a0dd46fbd1eb07b54ba48e8fc7a5c03c1">SplineParams</a>.at(SplineIndex)._fSplineModes);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    }</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordflow">return</span> returnVec;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">// Get Norm params</span></div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#a9066c2d7f9d6f118a96292c267ffefe0">  162</a></span>&#160;<a class="code" href="structNormParameter.html">NormParameter</a> <a class="code" href="classParameterHandlerGeneric.html#a9066c2d7f9d6f118a96292c267ffefe0">ParameterHandlerGeneric::GetNormParameter</a>(<span class="keyword">const</span> YAML::Node&amp; param, <span class="keyword">const</span> <span class="keywordtype">int</span> Index) {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <a class="code" href="structNormParameter.html">NormParameter</a> norm;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#ae72a2e4c62d94ec7c6da96d21172cbc0">GetBaseParameter</a>(param, Index, norm);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  norm.<a class="code" href="structNormParameter.html#a68a2f690b1226fe6090b18fd0af47057">modes</a> = GetFromManager&lt;std::vector&lt;int&gt;&gt;(param[<span class="stringliteral">&quot;Mode&quot;</span>], {}, __FILE__ , __LINE__);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  norm.<a class="code" href="structNormParameter.html#a7f6ae54467bd8b8541e1dd5314610a1a">pdgs</a> = GetFromManager&lt;std::vector&lt;int&gt;&gt;(param[<span class="stringliteral">&quot;NeutrinoFlavour&quot;</span>], {}, __FILE__ , __LINE__);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  norm.<a class="code" href="structNormParameter.html#a07f0e59f4c9a969b8851e37c5b4e28b4">preoscpdgs</a> = GetFromManager&lt;std::vector&lt;int&gt;&gt;(param[<span class="stringliteral">&quot;NeutrinoFlavourUnosc&quot;</span>], {}, __FILE__ , __LINE__);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  norm.<a class="code" href="structNormParameter.html#ae2c0218617a00ed886ca7f697b4140eb">targets</a> = GetFromManager&lt;std::vector&lt;int&gt;&gt;(param[<span class="stringliteral">&quot;TargetNuclei&quot;</span>], {}, __FILE__ , __LINE__);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classParameterHandlerBase.html#a92d4696b92db78fd9e3a4549d3ab64a6">_fLowBound</a>[Index] &lt; 0.) {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Normalisation Parameter {} ({}), has lower parameters bound which can go below 0 and is equal {}&quot;</span>,</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                   <a class="code" href="group__ParameterHandlerGetters.html#ga65b61ae6c60d4eadbb06fdef9596cc7f">GetParFancyName</a>(Index), Index, <a class="code" href="classParameterHandlerBase.html#a92d4696b92db78fd9e3a4549d3ab64a6">_fLowBound</a>[Index]);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Normalisation parameters can&#39;t go bellow 0 as this is unphysical&quot;</span>);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">throw</span> <a class="code" href="classMaCh3Exception.html">MaCh3Exception</a>(__FILE__, __LINE__);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordtype">int</span> NumKinematicCuts = 0;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordflow">if</span>(param[<span class="stringliteral">&quot;KinematicCuts&quot;</span>]) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    NumKinematicCuts = int(param[<span class="stringliteral">&quot;KinematicCuts&quot;</span>].size());</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    std::vector&lt;std::string&gt; TempKinematicStrings;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    std::vector&lt;std::vector&lt;std::vector&lt;double&gt;&gt;&gt; TempKinematicBounds;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="comment">//First element of TempKinematicBounds is always -999, and size is then 3</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> KinVar_i = 0 ; KinVar_i &lt; NumKinematicCuts ; ++KinVar_i) {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <span class="comment">//ETA: This is a bit messy, Kinematic cuts is a list of maps</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      <span class="keywordflow">for</span> (YAML::const_iterator it = param[<span class="stringliteral">&quot;KinematicCuts&quot;</span>][KinVar_i].begin();it!=param[<span class="stringliteral">&quot;KinematicCuts&quot;</span>][KinVar_i].end();++it) {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        TempKinematicStrings.push_back(it-&gt;first.as&lt;std::string&gt;());</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        TempKinematicBounds.push_back(<a class="code" href="YamlHelper_8h.html#a236f7db41b3514852c36138d94d8015e">Get2DBounds</a>(it-&gt;second));</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <span class="keywordflow">if</span>(TempKinematicStrings.size() == 0) {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <a class="code" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Received a KinematicCuts node but couldn&#39;t read the contents (it&#39;s a list of single-element dictionaries (python) = map of pairs (C++))&quot;</span>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <a class="code" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;For Param {}&quot;</span>, norm.<a class="code" href="structTypeParameterBase.html#a9cec220ee7904196cc6a7d98c2b061f8">name</a>);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">throw</span> <a class="code" href="classMaCh3Exception.html">MaCh3Exception</a>(__FILE__, __LINE__);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }<span class="comment">//KinVar_i</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    norm.<a class="code" href="structNormParameter.html#a8d05813ef3311f38396bd7c9208248f9">KinematicVarStr</a> = TempKinematicStrings;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    norm.<a class="code" href="structNormParameter.html#a376a05a04e63c7dd2bf12e940925223c">Selection</a> = TempKinematicBounds;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="comment">//Next ones are kinematic bounds on where normalisation parameter should apply</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="comment">//We set a bool to see if any bounds exist so we can short-circuit checking all of them every step</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordtype">bool</span> HasKinBounds = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keywordflow">if</span>(norm.<a class="code" href="structNormParameter.html#a8d05813ef3311f38396bd7c9208248f9">KinematicVarStr</a>.size() &gt; 0) HasKinBounds = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  norm.<a class="code" href="structNormParameter.html#a3548401cd1640c97be51bf878ef853fc">hasKinBounds</a> = HasKinBounds;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="comment">//End of kinematic bound checking</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keywordflow">return</span> norm;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">// Get Base Param</span></div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#ae72a2e4c62d94ec7c6da96d21172cbc0">  218</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classParameterHandlerGeneric.html#ae72a2e4c62d94ec7c6da96d21172cbc0">ParameterHandlerGeneric::GetBaseParameter</a>(<span class="keyword">const</span> YAML::Node&amp; param, <span class="keyword">const</span> <span class="keywordtype">int</span> Index, <a class="code" href="structTypeParameterBase.html">TypeParameterBase</a>&amp; Parameter) {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="comment">// KS: For now we don&#39;t use so avoid compilation error</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  (void) param;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  Parameter.<a class="code" href="structTypeParameterBase.html#a9cec220ee7904196cc6a7d98c2b061f8">name</a> = <a class="code" href="group__ParameterHandlerGetters.html#ga65b61ae6c60d4eadbb06fdef9596cc7f">GetParFancyName</a>(Index);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="comment">// Set the global parameter index of the normalisation parameter</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  Parameter.<a class="code" href="structTypeParameterBase.html#a5723f938e8838c5742c841a38931f9bc">index</a> = Index;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;}</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">// Grab the global syst index for the relevant SampleName</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">// i.e. get a vector of size nSplines where each entry is filled with the global syst number</span></div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="group__ParameterHandlerGetters.html#ga58ccccc2b9a4280021e4663202612038">  233</a></span>&#160;<span class="keyword">const</span> std::vector&lt;int&gt; <a class="code" href="group__ParameterHandlerGetters.html#ga58ccccc2b9a4280021e4663202612038">ParameterHandlerGeneric::GetGlobalSystIndexFromSampleName</a>(<span class="keyword">const</span> std::string&amp; SampleName, <span class="keyword">const</span> <a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2f">SystType</a> Type) {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  std::vector&lt;int&gt; returnVec;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;pair : <a class="code" href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">_fSystToGlobalSystIndexMap</a>[Type]) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keyword">auto</span> &amp;SystIndex = pair.second;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classParameterHandlerBase.html#a3c5d92e6b592f18ea4d6bd9afaca7ebd">AppliesToSample</a>(SystIndex, SampleName)) { <span class="comment">//If parameter applies to required SampleID</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      returnVec.push_back(SystIndex);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keywordflow">return</span> returnVec;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;}</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">// Grab the global syst index for the relevant SampleName</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">// i.e. get a vector of size nSplines where each entry is filled with the global syst number</span></div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="group__ParameterHandlerGetters.html#ga45b0e33d7f1016e2df09419969198e72">  248</a></span>&#160;<span class="keyword">const</span> std::vector&lt;int&gt; <a class="code" href="group__ParameterHandlerGetters.html#ga45b0e33d7f1016e2df09419969198e72">ParameterHandlerGeneric::GetSystIndexFromSampleName</a>(<span class="keyword">const</span> std::string&amp; SampleName,  <span class="keyword">const</span> <a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2f">SystType</a> Type)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  std::vector&lt;int&gt; returnVec;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;pair : <a class="code" href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">_fSystToGlobalSystIndexMap</a>[Type]) {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keyword">auto</span> &amp;SplineIndex = pair.first;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keyword">auto</span> &amp;systIndex = pair.second;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classParameterHandlerBase.html#a3c5d92e6b592f18ea4d6bd9afaca7ebd">AppliesToSample</a>(systIndex, SampleName)) { <span class="comment">//If parameter applies to required SampleID</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      returnVec.push_back(SplineIndex);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  }</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keywordflow">return</span> returnVec;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">// Get Norm params</span></div>
<div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#a1012d55e1779e7212b59593d0a8bfe46">  263</a></span>&#160;<a class="code" href="structSplineParameter.html">SplineParameter</a> <a class="code" href="classParameterHandlerGeneric.html#a1012d55e1779e7212b59593d0a8bfe46">ParameterHandlerGeneric::GetSplineParameter</a>(<span class="keyword">const</span> YAML::Node&amp; param, <span class="keyword">const</span> <span class="keywordtype">int</span> Index) {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <a class="code" href="structSplineParameter.html">SplineParameter</a> Spline;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#ae72a2e4c62d94ec7c6da96d21172cbc0">GetBaseParameter</a>(param, Index, Spline);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="comment">//Now get the Spline interpolation type</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keywordflow">if</span> (param[<span class="stringliteral">&quot;SplineInformation&quot;</span>][<span class="stringliteral">&quot;InterpolationType&quot;</span>]){</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> InterpType = 0; InterpType &lt; <a class="code" href="ParameterStructs_8h.html#a6720d732608767153550aebebcf8fbf4a9e1a345912f2baebd863ab7d40c9ab7b">kSplineInterpolations</a> ; ++InterpType){</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <span class="keywordflow">if</span>(param[<span class="stringliteral">&quot;SplineInformation&quot;</span>][<span class="stringliteral">&quot;InterpolationType&quot;</span>].as&lt;std::string&gt;() == <a class="code" href="ParameterStructs_8h.html#a2d969ce667e41bd2492cff1775456837">SplineInterpolation_ToString</a>(<a class="code" href="ParameterStructs_8h.html#a6720d732608767153550aebebcf8fbf4">SplineInterpolation</a>(InterpType)))</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        Spline.<a class="code" href="structSplineParameter.html#a20f0571e0eb14ad8e6b2cd66ec63a155">_SplineInterpolationType</a> = <a class="code" href="ParameterStructs_8h.html#a6720d732608767153550aebebcf8fbf4">SplineInterpolation</a>(InterpType);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  } <span class="keywordflow">else</span> { <span class="comment">//KS: By default use TSpline3</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    Spline.<a class="code" href="structSplineParameter.html#a20f0571e0eb14ad8e6b2cd66ec63a155">_SplineInterpolationType</a> = <a class="code" href="ParameterStructs_8h.html#a6720d732608767153550aebebcf8fbf4a56c886e7b34c938027a7140748999c8a">kTSpline3</a>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  Spline.<a class="code" href="structSplineParameter.html#a27f7059791f0e1082d7eb854d145b41f">_SplineKnotUpBound</a> = GetFromManager&lt;double&gt;(param[<span class="stringliteral">&quot;SplineInformation&quot;</span>][<span class="stringliteral">&quot;SplineKnotUpBound&quot;</span>], <a class="code" href="namespaceM3.html#a177312c75e0c69358c89524fc1b06817">M3::DefSplineKnotUpBound</a>, __FILE__ , __LINE__);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  Spline.<a class="code" href="structSplineParameter.html#a3124f511b9b9033267d17e96f9c05937">_SplineKnotLowBound</a> = GetFromManager&lt;double&gt;(param[<span class="stringliteral">&quot;SplineInformation&quot;</span>][<span class="stringliteral">&quot;SplineKnotLowBound&quot;</span>], <a class="code" href="namespaceM3.html#a5845b81afc8b4028a72375d5da27bf3b">M3::DefSplineKnotLowBound</a>, __FILE__ , __LINE__);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordflow">if</span>(Spline.<a class="code" href="structSplineParameter.html#a27f7059791f0e1082d7eb854d145b41f">_SplineKnotUpBound</a> != <a class="code" href="namespaceM3.html#a177312c75e0c69358c89524fc1b06817">M3::DefSplineKnotUpBound</a> ||  Spline.<a class="code" href="structSplineParameter.html#a3124f511b9b9033267d17e96f9c05937">_SplineKnotLowBound</a> != <a class="code" href="namespaceM3.html#a5845b81afc8b4028a72375d5da27bf3b">M3::DefSplineKnotLowBound</a>) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="MaCh3Logger_8h.html#ad5b2eb6377721e3ac95def22c2386bb1">MACH3LOG_WARN</a>(<span class="stringliteral">&quot;Spline knot capping enabled with bounds [{}, {}]. For reliable fits, consider modifying the input generation instead.&quot;</span>,</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                  Spline.<a class="code" href="structSplineParameter.html#a3124f511b9b9033267d17e96f9c05937">_SplineKnotLowBound</a>, Spline.<a class="code" href="structSplineParameter.html#a27f7059791f0e1082d7eb854d145b41f">_SplineKnotUpBound</a>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="comment">//If there is no mode information given then this will be an empty vector</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  Spline.<a class="code" href="structSplineParameter.html#a3e2dacc950ff0c52fca0643a83824f82">_fSplineModes</a> = <a class="code" href="YamlHelper_8h.html#a7f6e595be684b5fa9397205140d62a75">GetFromManager</a>(param[<span class="stringliteral">&quot;SplineInformation&quot;</span>][<span class="stringliteral">&quot;Mode&quot;</span>], std::vector&lt;int&gt;(), __FILE__ , __LINE__);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordflow">return</span> Spline;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;}</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">// Get Func params</span></div>
<div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#a0c1fa642060d0e39afb84e11ec83a703">  292</a></span>&#160;<a class="code" href="structFunctionalParameter.html">FunctionalParameter</a> <a class="code" href="classParameterHandlerGeneric.html#a0c1fa642060d0e39afb84e11ec83a703">ParameterHandlerGeneric::GetFunctionalParameters</a>(<span class="keyword">const</span> YAML::Node&amp; param, <span class="keyword">const</span> <span class="keywordtype">int</span> Index) {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <a class="code" href="structFunctionalParameter.html">FunctionalParameter</a> func;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#ae72a2e4c62d94ec7c6da96d21172cbc0">GetBaseParameter</a>(param, Index, func);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  func.<a class="code" href="structFunctionalParameter.html#a9ac723d8cbffaa9adc498942d3c9d7c0">pdgs</a> = GetFromManager&lt;std::vector&lt;int&gt;&gt;(param[<span class="stringliteral">&quot;NeutrinoFlavour&quot;</span>], std::vector&lt;int&gt;(), __FILE__ , __LINE__);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  func.<a class="code" href="structFunctionalParameter.html#a76af17874ac4d58d37b9b94cf5e96421">targets</a> = GetFromManager&lt;std::vector&lt;int&gt;&gt;(param[<span class="stringliteral">&quot;TargetNuclei&quot;</span>], std::vector&lt;int&gt;(), __FILE__ , __LINE__);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  func.<a class="code" href="structFunctionalParameter.html#a443cac0801c6836746927c9e379f4359">modes</a> = GetFromManager&lt;std::vector&lt;int&gt;&gt;(param[<span class="stringliteral">&quot;Mode&quot;</span>], std::vector&lt;int&gt;(), __FILE__ , __LINE__);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  func.<a class="code" href="structFunctionalParameter.html#ab78004793d47bdf387052023dfbfddc9">preoscpdgs</a> = GetFromManager&lt;std::vector&lt;int&gt;&gt;(param[<span class="stringliteral">&quot;NeutrinoFlavourUnosc&quot;</span>], std::vector&lt;int&gt;(), __FILE__ , __LINE__);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="comment">// HH - Copied from GetXsecNorm</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="keywordtype">int</span> NumKinematicCuts = 0;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="keywordflow">if</span>(param[<span class="stringliteral">&quot;KinematicCuts&quot;</span>]){</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    NumKinematicCuts = int(param[<span class="stringliteral">&quot;KinematicCuts&quot;</span>].size());</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    std::vector&lt;std::string&gt; TempKinematicStrings;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    std::vector&lt;std::vector&lt;std::vector&lt;double&gt;&gt;&gt; TempKinematicBounds;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="comment">//First element of TempKinematicBounds is always -999, and size is then 3</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> KinVar_i = 0 ; KinVar_i &lt; NumKinematicCuts ; ++KinVar_i){</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <span class="comment">//ETA: This is a bit messy, Kinematic cuts is a list of maps</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="keywordflow">for</span> (YAML::const_iterator it = param[<span class="stringliteral">&quot;KinematicCuts&quot;</span>][KinVar_i].begin();it!=param[<span class="stringliteral">&quot;KinematicCuts&quot;</span>][KinVar_i].end();++it) {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        TempKinematicStrings.push_back(it-&gt;first.as&lt;std::string&gt;());</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        TempKinematicBounds.push_back(<a class="code" href="YamlHelper_8h.html#a236f7db41b3514852c36138d94d8015e">Get2DBounds</a>(it-&gt;second));</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="keywordflow">if</span>(TempKinematicStrings.size() == 0) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <a class="code" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Received a KinematicCuts node but couldn&#39;t read the contents (it&#39;s a list of single-element dictionaries (python) = map of pairs (C++))&quot;</span>);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <a class="code" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;For Param {}&quot;</span>, func.<a class="code" href="structTypeParameterBase.html#a9cec220ee7904196cc6a7d98c2b061f8">name</a>);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="keywordflow">throw</span> <a class="code" href="classMaCh3Exception.html">MaCh3Exception</a>(__FILE__, __LINE__);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    }<span class="comment">//KinVar_i</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    func.<a class="code" href="structFunctionalParameter.html#a46d6aa97d8c30fa2da877ab73f3f52f3">KinematicVarStr</a> = TempKinematicStrings;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    func.<a class="code" href="structFunctionalParameter.html#ab261275fa24252faef37cfb296fcba57">Selection</a> = TempKinematicBounds;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  func.<a class="code" href="structFunctionalParameter.html#a4be18ce2fe67e89237f74d5e54b04a09">valuePtr</a> = <a class="code" href="classParameterHandlerBase.html#a2929feac84b65e987bc92448754c5b1b">RetPointer</a>(Index);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keywordflow">return</span> func;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">// Get Osc params</span></div>
<div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#adf13e088be243075c9242228dea71edf">  332</a></span>&#160;<a class="code" href="structOscillationParameter.html">OscillationParameter</a> <a class="code" href="classParameterHandlerGeneric.html#adf13e088be243075c9242228dea71edf">ParameterHandlerGeneric::GetOscillationParameters</a>(<span class="keyword">const</span> YAML::Node&amp; param, <span class="keyword">const</span> <span class="keywordtype">int</span> Index) {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <a class="code" href="structOscillationParameter.html">OscillationParameter</a> OscParamInfo;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#ae72a2e4c62d94ec7c6da96d21172cbc0">GetBaseParameter</a>(param, Index, OscParamInfo);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keywordflow">return</span> OscParamInfo;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;}</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">// HH: Grab the Functional parameters for the relevant SampleName</span></div>
<div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="group__ParameterHandlerGetters.html#ga8f819bf0ef53544c864649d05479d95c">  342</a></span>&#160;<span class="keyword">const</span> std::vector&lt;FunctionalParameter&gt; <a class="code" href="group__ParameterHandlerGetters.html#ga8f819bf0ef53544c864649d05479d95c">ParameterHandlerGeneric::GetFunctionalParametersFromSampleName</a>(<span class="keyword">const</span> std::string&amp; SampleName)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classParameterHandlerGeneric.html#a982803878f2f6ee7a28c6b7f3fede8f8">GetTypeParamsFromSampleName</a>(<a class="code" href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">_fSystToGlobalSystIndexMap</a>[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fad9b1ac76e80f59684cfb7dc996fc870d">SystType::kFunc</a>], <a class="code" href="classParameterHandlerGeneric.html#a9c201ce36c40a731f23d9949009835b5">FuncParams</a>, SampleName);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;}</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">// DB Grab the Normalisation parameters for the relevant SampleName</span></div>
<div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="group__ParameterHandlerGetters.html#ga1564cde885453c57312f769e57d627ac">  349</a></span>&#160;<span class="keyword">const</span> std::vector&lt;NormParameter&gt; <a class="code" href="group__ParameterHandlerGetters.html#ga1564cde885453c57312f769e57d627ac">ParameterHandlerGeneric::GetNormParsFromSampleName</a>(<span class="keyword">const</span> std::string&amp; SampleName)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classParameterHandlerGeneric.html#a982803878f2f6ee7a28c6b7f3fede8f8">GetTypeParamsFromSampleName</a>(<a class="code" href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">_fSystToGlobalSystIndexMap</a>[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa085cb29127b1cf7b1ddd429ff4440b17">SystType::kNorm</a>], <a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>, SampleName);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;}</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">// KS Grab the Spline parameters for the relevant SampleName</span></div>
<div class="line"><a name="l00356"></a><span class="lineno"><a class="line" href="group__ParameterHandlerGetters.html#ga819070e379db0ddec32c5a87c67d6bdb">  356</a></span>&#160;<span class="keyword">const</span> std::vector&lt;SplineParameter&gt; <a class="code" href="group__ParameterHandlerGetters.html#ga819070e379db0ddec32c5a87c67d6bdb">ParameterHandlerGeneric::GetSplineParsFromSampleName</a>(<span class="keyword">const</span> std::string&amp; SampleName)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classParameterHandlerGeneric.html#a982803878f2f6ee7a28c6b7f3fede8f8">GetTypeParamsFromSampleName</a>(<a class="code" href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">_fSystToGlobalSystIndexMap</a>[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa29d6ccf6cf507f6e66c72b1d3c2aed00">SystType::kSpline</a>], <a class="code" href="classParameterHandlerGeneric.html#a0dd46fbd1eb07b54ba48e8fc7a5c03c1">SplineParams</a>, SampleName);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> ParamT&gt;</div>
<div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#a982803878f2f6ee7a28c6b7f3fede8f8">  363</a></span>&#160;std::vector&lt;ParamT&gt; <a class="code" href="classParameterHandlerGeneric.html#a982803878f2f6ee7a28c6b7f3fede8f8">ParameterHandlerGeneric::GetTypeParamsFromSampleName</a>(<span class="keyword">const</span> std::map&lt;int, int&gt;&amp; indexMap, <span class="keyword">const</span> std::vector&lt;ParamT&gt;&amp; params, <span class="keyword">const</span> std::string&amp; SampleName)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  std::vector&lt;ParamT&gt; returnVec;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; pair : indexMap) {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; localIndex = pair.first;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; globalIndex = pair.second;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classParameterHandlerBase.html#a3c5d92e6b592f18ea4d6bd9afaca7ebd">AppliesToSample</a>(globalIndex, SampleName)) {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      returnVec.push_back(params[localIndex]);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="keywordflow">return</span> returnVec;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;}</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">// DB Grab the number of parameters for the relevant SampleName</span></div>
<div class="line"><a name="l00378"></a><span class="lineno"><a class="line" href="group__ParameterHandlerGetters.html#ga9b25b6f2f2d032d086963293eeb981c4">  378</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__ParameterHandlerGetters.html#ga9b25b6f2f2d032d086963293eeb981c4">ParameterHandlerGeneric::GetNumParamsFromSampleName</a>(<span class="keyword">const</span> std::string&amp; SampleName, <span class="keyword">const</span> <a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2f">SystType</a> Type) {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordtype">int</span> returnVal = 0;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#ae708dcd0bbfac4a5dd599a5c536da62b">IterateOverParams</a>(SampleName,</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    [&amp;](<span class="keywordtype">int</span> i) { <span class="keywordflow">return</span> <a class="code" href="group__ParameterHandlerGetters.html#ga443f15a70ebeb62613c629b59447c503">GetParamType</a>(i) == Type; }, <span class="comment">// Filter condition</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    [&amp;](int) { returnVal += 1; } <span class="comment">// Action to perform if filter passes</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  );</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="keywordflow">return</span> returnVal;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;}</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">// DB Grab the parameter names for the relevant SampleName</span></div>
<div class="line"><a name="l00390"></a><span class="lineno"><a class="line" href="group__ParameterHandlerGetters.html#ga9b36c926e52b06b2b49df1deb7630151">  390</a></span>&#160;<span class="keyword">const</span> std::vector&lt;std::string&gt; <a class="code" href="group__ParameterHandlerGetters.html#ga9b36c926e52b06b2b49df1deb7630151">ParameterHandlerGeneric::GetParsNamesFromSampleName</a>(<span class="keyword">const</span> std::string&amp; SampleName, <span class="keyword">const</span> <a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2f">SystType</a> Type) {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  std::vector&lt;std::string&gt; returnVec;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#ae708dcd0bbfac4a5dd599a5c536da62b">IterateOverParams</a>(SampleName,</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    [&amp;](<span class="keywordtype">int</span> i) { <span class="keywordflow">return</span> <a class="code" href="group__ParameterHandlerGetters.html#ga443f15a70ebeb62613c629b59447c503">GetParamType</a>(i) == Type; }, <span class="comment">// Filter condition</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    [&amp;](<span class="keywordtype">int</span> i) { returnVec.push_back(<a class="code" href="group__ParameterHandlerGetters.html#ga65b61ae6c60d4eadbb06fdef9596cc7f">GetParFancyName</a>(i)); } <span class="comment">// Action to perform if filter passes</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  );</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="keywordflow">return</span> returnVec;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;}</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">// DB DB Grab the parameter indices for the relevant SampleName</span></div>
<div class="line"><a name="l00402"></a><span class="lineno"><a class="line" href="group__ParameterHandlerGetters.html#ga7e379966e0b525d3f0fea0f3be669ae5">  402</a></span>&#160;<span class="keyword">const</span> std::vector&lt;int&gt; <a class="code" href="group__ParameterHandlerGetters.html#ga7e379966e0b525d3f0fea0f3be669ae5">ParameterHandlerGeneric::GetParsIndexFromSampleName</a>(<span class="keyword">const</span> std::string&amp; SampleName, <span class="keyword">const</span> <a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2f">SystType</a> Type) {</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  std::vector&lt;int&gt; returnVec;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#ae708dcd0bbfac4a5dd599a5c536da62b">IterateOverParams</a>(SampleName,</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    [&amp;](<span class="keywordtype">int</span> i) { <span class="keywordflow">return</span> <a class="code" href="group__ParameterHandlerGetters.html#ga443f15a70ebeb62613c629b59447c503">GetParamType</a>(i) == Type; }, <span class="comment">// Filter condition</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    [&amp;](<span class="keywordtype">int</span> i) { returnVec.push_back(i); } <span class="comment">// Action to perform if filter passes</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  );</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="keywordflow">return</span> returnVec;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;}</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> FilterFunc, <span class="keyword">typename</span> ActionFunc&gt;</div>
<div class="line"><a name="l00414"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#ae708dcd0bbfac4a5dd599a5c536da62b">  414</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classParameterHandlerGeneric.html#ae708dcd0bbfac4a5dd599a5c536da62b">ParameterHandlerGeneric::IterateOverParams</a>(<span class="keyword">const</span> std::string&amp; SampleName, FilterFunc filter, ActionFunc action) {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classParameterHandlerBase.html#a8d9a71d60c526da6b9ef9d276b1a2fad">_fNumPar</a>; ++i) {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classParameterHandlerBase.html#a3c5d92e6b592f18ea4d6bd9afaca7ebd">AppliesToSample</a>(i, SampleName)) &amp;&amp; filter(i)) { <span class="comment">// Common filter logic</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      action(i); <span class="comment">// Specific action for each function</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    }</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;}</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00424"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#a55b99dcc79074929cad4b4187b83cc62">  424</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classParameterHandlerGeneric.html#a55b99dcc79074929cad4b4187b83cc62">ParameterHandlerGeneric::InitParams</a>() {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classParameterHandlerBase.html#a8d9a71d60c526da6b9ef9d276b1a2fad">_fNumPar</a>; ++i) {</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="comment">//ETA - set the name to be xsec_% as this is what ProcessorMCMC expects</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <a class="code" href="classParameterHandlerBase.html#aa30828713375ceda767c9631157bd41d">_fNames</a>[i] = <span class="stringliteral">&quot;xsec_&quot;</span>+std::to_string(i);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="comment">// KS: Plenty</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classParameterHandlerGeneric.html#a6e412e6a3e8b954e1efcb97b03520f52">_fParamType</a>[i] == <a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa50ac44a09cc05fd1285a88637bdcf789">kOsc</a>){</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      <a class="code" href="classParameterHandlerBase.html#aa30828713375ceda767c9631157bd41d">_fNames</a>[i] = <a class="code" href="classParameterHandlerBase.html#a56d40a78f16384b3b6e8ed10c76b899d">_fFancyNames</a>[i];</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="classParameterHandlerGeneric.html#aeb3fea66be02cc59ca14af171e7dd746">_ParameterGroup</a>[i] != <span class="stringliteral">&quot;Osc&quot;</span>){</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <a class="code" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Parameter {}, is of type Oscillation but doesn&#39;t belong to Osc group&quot;</span>, <a class="code" href="classParameterHandlerBase.html#a56d40a78f16384b3b6e8ed10c76b899d">_fFancyNames</a>[i]);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <a class="code" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;It belongs to {} group&quot;</span>, <a class="code" href="classParameterHandlerGeneric.html#aeb3fea66be02cc59ca14af171e7dd746">_ParameterGroup</a>[i]);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="keywordflow">throw</span> <a class="code" href="classMaCh3Exception.html">MaCh3Exception</a>(__FILE__ , __LINE__ );</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    }</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="comment">// Set ParameterHandler parameters (Curr = current, Prop = proposed, Sigma = step)</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <a class="code" href="classParameterHandlerBase.html#a93c8303daf13df6acb0870ad8eb56891">_fCurrVal</a>[i] = <a class="code" href="classParameterHandlerBase.html#a9f98cdf43f276a271da9a66509063ba6">_fPreFitValue</a>[i];</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <a class="code" href="classParameterHandlerBase.html#af1b1a75fbc837d788201ea8062aa6a3b">_fPropVal</a>[i] = <a class="code" href="classParameterHandlerBase.html#a93c8303daf13df6acb0870ad8eb56891">_fCurrVal</a>[i];</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <a class="code" href="classParameterHandlerBase.html#aa23c205ca3d033ce22cf2f04ee25324d">Randomize</a>();</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="comment">//KS: Transfer the starting parameters to the PCA basis, you don&#39;t want to start with zero..</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classParameterHandlerBase.html#ae036dc62d3a3710b78d5d767f280fa4b">pca</a>) {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="classParameterHandlerBase.html#a8d3b05f6bb6ec3f334af6d9891fa031e">PCAObj</a>-&gt;SetInitialParameters();</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;}</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment">// Print everything we know about the inputs we&#39;re Getting</span></div>
<div class="line"><a name="l00453"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#a1a0df46f5d9f94c9671a8796865a2f73">  453</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classParameterHandlerGeneric.html#a1a0df46f5d9f94c9671a8796865a2f73">ParameterHandlerGeneric::Print</a>() {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;#################################################&quot;</span>);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Printing ParameterHandlerGeneric:&quot;</span>);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#a8d180d60b02dde0964c7d07c7cb241de">PrintGlobablInfo</a>();</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#a0bb96c2bb30675999b92bd8129a5c092">PrintNormParams</a>();</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#a528519fa142f686b07bb17887245ee1b">PrintSplineParams</a>();</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#a76c6cd8203e46471022893aa033e6da9">PrintFunctionalParams</a>();</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#a3efb5b4e15b5fc617d5e34011a135912">PrintOscillationParams</a>();</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160; </div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#a0e26c21f5e9e129202477deae8286350">PrintParameterGroups</a>();</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160; </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Finished&quot;</span>);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;#################################################&quot;</span>);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <a class="code" href="classParameterHandlerGeneric.html#a7bd990c506d4f8927fcdcb15d7c3d24b">CheckCorrectInitialisation</a>();</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;} <span class="comment">// End</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160; </div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00477"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#a8d180d60b02dde0964c7d07c7cb241de">  477</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classParameterHandlerGeneric.html#a8d180d60b02dde0964c7d07c7cb241de">ParameterHandlerGeneric::PrintGlobablInfo</a>() {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;============================================================================================================================================================&quot;</span>);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;{:&lt;5} {:2} {:&lt;40} {:2} {:&lt;10} {:2} {:&lt;10} {:2} {:&lt;10} {:2} {:&lt;10} {:2} {:&lt;10} {:2} {:&lt;20} {:2} {:&lt;10}&quot;</span>, <span class="stringliteral">&quot;#&quot;</span>, <span class="stringliteral">&quot;|&quot;</span>, <span class="stringliteral">&quot;Name&quot;</span>, <span class="stringliteral">&quot;|&quot;</span>, <span class="stringliteral">&quot;Prior&quot;</span>, <span class="stringliteral">&quot;|&quot;</span>, <span class="stringliteral">&quot;Error&quot;</span>, <span class="stringliteral">&quot;|&quot;</span>, <span class="stringliteral">&quot;Lower&quot;</span>, <span class="stringliteral">&quot;|&quot;</span>, <span class="stringliteral">&quot;Upper&quot;</span>, <span class="stringliteral">&quot;|&quot;</span>, <span class="stringliteral">&quot;StepScale&quot;</span>, <span class="stringliteral">&quot;|&quot;</span>, <span class="stringliteral">&quot;SampleNames&quot;</span>, <span class="stringliteral">&quot;|&quot;</span>, <span class="stringliteral">&quot;Type&quot;</span>);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;------------------------------------------------------------------------------------------------------------------------------------------------------------&quot;</span>);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="group__ParameterHandlerGetters.html#ga042501dd3e6e0395d48b5d94a60eb7c7">GetNumParams</a>(); i++) {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    std::string ErrString = fmt::format(<span class="stringliteral">&quot;{:.2f}&quot;</span>, <a class="code" href="classParameterHandlerBase.html#a65f6056605f718d83a641680aa33fe88">_fError</a>[i]);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    std::string SampleNameString = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; SampleName : <a class="code" href="classParameterHandlerBase.html#af4ebe6b24b280c5263e6a5385b11a2c9">_fSampleNames</a>[i]) {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <span class="keywordflow">if</span> (!SampleNameString.empty()) {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        SampleNameString += <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      SampleNameString += SampleName;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    }</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;{:&lt;5} {:2} {:&lt;40} {:2} {:&lt;10} {:2} {:&lt;10} {:2} {:&lt;10} {:2} {:&lt;10} {:2} {:&lt;10} {:2} {:&lt;20} {:2} {:&lt;10}&quot;</span>, i, <span class="stringliteral">&quot;|&quot;</span>, <a class="code" href="group__ParameterHandlerGetters.html#ga65b61ae6c60d4eadbb06fdef9596cc7f">GetParFancyName</a>(i), <span class="stringliteral">&quot;|&quot;</span>, <a class="code" href="classParameterHandlerBase.html#a9f98cdf43f276a271da9a66509063ba6">_fPreFitValue</a>[i], <span class="stringliteral">&quot;|&quot;</span>, <span class="stringliteral">&quot;+/- &quot;</span> + ErrString, <span class="stringliteral">&quot;|&quot;</span>, <a class="code" href="classParameterHandlerBase.html#a92d4696b92db78fd9e3a4549d3ab64a6">_fLowBound</a>[i], <span class="stringliteral">&quot;|&quot;</span>, <a class="code" href="classParameterHandlerBase.html#aca38e417c05c6fa67a892ee5ddf1c2ac">_fUpBound</a>[i], <span class="stringliteral">&quot;|&quot;</span>, <a class="code" href="classParameterHandlerBase.html#ae042c1f0f79927b63744d820384ac28e">_fIndivStepScale</a>[i], <span class="stringliteral">&quot;|&quot;</span>, SampleNameString, <span class="stringliteral">&quot;|&quot;</span>, <a class="code" href="ParameterStructs_8h.html#ad39c312dc44177340e2ebccd3d3f2d4c">SystType_ToString</a>(<a class="code" href="classParameterHandlerGeneric.html#a6e412e6a3e8b954e1efcb97b03520f52">_fParamType</a>[i]));</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  }</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;============================================================================================================================================================&quot;</span>);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;}</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160; </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00497"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#a0bb96c2bb30675999b92bd8129a5c092">  497</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classParameterHandlerGeneric.html#a0bb96c2bb30675999b92bd8129a5c092">ParameterHandlerGeneric::PrintNormParams</a>() {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="comment">// Output the normalisation parameters as a sanity check!</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Normalisation parameters:  {}&quot;</span>, <a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>.size());</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">_fSystToGlobalSystIndexMap</a>[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa085cb29127b1cf7b1ddd429ff4440b17">SystType::kNorm</a>].size() == 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160; </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="keywordtype">bool</span> have_parameter_with_kin_bounds = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="comment">//KS: Consider making some class producing table..</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;{0:4}{1:10}{2:40}{3:20}{4:20}{5:20}&quot;</span>, <span class="stringliteral">&quot;#&quot;</span>, <span class="stringliteral">&quot;Global #&quot;</span>, <span class="stringliteral">&quot;Name&quot;</span>, <span class="stringliteral">&quot;Int. mode&quot;</span>, <span class="stringliteral">&quot;Target&quot;</span>, <span class="stringliteral">&quot;pdg&quot;</span>);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>.size(); ++i)</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    std::string intModeString;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>[i].modes.size(); j++) {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      intModeString += std::to_string(<a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>[i].modes[j]);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      intModeString += <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>[i].modes.empty()) intModeString += <span class="stringliteral">&quot;all&quot;</span>;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    std::string targetString;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>[i].targets.size(); j++) {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      targetString += std::to_string(<a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>[i].targets[j]);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      targetString += <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    }</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>[i].targets.empty()) targetString += <span class="stringliteral">&quot;all&quot;</span>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160; </div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    std::string pdgString;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>[i].pdgs.size(); j++) {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      pdgString += std::to_string(<a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>[i].pdgs[j]);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      pdgString += <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    }</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>[i].pdgs.empty()) pdgString += <span class="stringliteral">&quot;all&quot;</span>;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;{: &lt;4}{: &lt;10}{: &lt;40}{: &lt;20}{: &lt;20}{: &lt;20}&quot;</span>, i, <a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>[i].index, <a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>[i].name, intModeString, targetString, pdgString);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>[i].hasKinBounds) have_parameter_with_kin_bounds = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="keywordflow">if</span>(have_parameter_with_kin_bounds) {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Normalisation parameters KinematicCuts information&quot;</span>);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;{0:4}{1:10}{2:40}{3:20}{4:40}&quot;</span>, <span class="stringliteral">&quot;#&quot;</span>, <span class="stringliteral">&quot;Global #&quot;</span>, <span class="stringliteral">&quot;Name&quot;</span>, <span class="stringliteral">&quot;KinematicCut&quot;</span>, <span class="stringliteral">&quot;Value&quot;</span>);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>.size(); ++i)</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      <span class="comment">//skip parameters with no KinematicCuts</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      <span class="keywordflow">if</span>(!<a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>[i].hasKinBounds) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160; </div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">long</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ncuts = <a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>[i].KinematicVarStr.size();</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">long</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> icut = 0; icut &lt; ncuts; icut++) {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        std::string kinematicCutValueString;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span> &amp; value : <a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>[i].Selection[icut]) {</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; v : value) {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            kinematicCutValueString += fmt::format(<span class="stringliteral">&quot;{:.2f} &quot;</span>, v);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;          }</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        }</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="keywordflow">if</span>(icut == 0)</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;          <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;{: &lt;4}{: &lt;10}{: &lt;40}{: &lt;20}{: &lt;40}&quot;</span>, i, <a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>[i].index, <a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>[i].name, <a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>[i].KinematicVarStr[icut], kinematicCutValueString);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;          <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;{: &lt;4}{: &lt;10}{: &lt;40}{: &lt;20}{: &lt;40}&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">NormParams</a>[i].KinematicVarStr[icut], kinematicCutValueString);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      }<span class="comment">//icut</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    }<span class="comment">//i</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  }</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;No normalisation parameters have KinematicCuts defined&quot;</span>);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;}</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00570"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#a528519fa142f686b07bb17887245ee1b">  570</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classParameterHandlerGeneric.html#a528519fa142f686b07bb17887245ee1b">ParameterHandlerGeneric::PrintSplineParams</a>() {</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Spline parameters: {}&quot;</span>, <a class="code" href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">_fSystToGlobalSystIndexMap</a>[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa29d6ccf6cf507f6e66c72b1d3c2aed00">SystType::kSpline</a>].size());</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">_fSystToGlobalSystIndexMap</a>[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa29d6ccf6cf507f6e66c72b1d3c2aed00">SystType::kSpline</a>].size() == 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;=====================================================================================================================================================================&quot;</span>);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;{:&lt;4} {:&lt;2} {:&lt;40} {:&lt;2} {:&lt;40} {:&lt;2} {:&lt;20} {:&lt;2} {:&lt;20} {:&lt;2} {:&lt;20} {:&lt;2}&quot;</span>, <span class="stringliteral">&quot;#&quot;</span>, <span class="stringliteral">&quot;|&quot;</span>, <span class="stringliteral">&quot;Name&quot;</span>, <span class="stringliteral">&quot;|&quot;</span>, <span class="stringliteral">&quot;Spline Name&quot;</span>, <span class="stringliteral">&quot;|&quot;</span>, <span class="stringliteral">&quot;Spline Interpolation&quot;</span>, <span class="stringliteral">&quot;|&quot;</span>, <span class="stringliteral">&quot;Low Knot Bound&quot;</span>, <span class="stringliteral">&quot;|&quot;</span>, <span class="stringliteral">&quot;Up Knot Bound&quot;</span>, <span class="stringliteral">&quot;|&quot;</span>);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;---------------------------------------------------------------------------------------------------------------------------------------------------------------------&quot;</span>);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;pair : <a class="code" href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">_fSystToGlobalSystIndexMap</a>[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa29d6ccf6cf507f6e66c72b1d3c2aed00">SystType::kSpline</a>]) {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keyword">auto</span> &amp;SplineIndex = pair.first;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keyword">auto</span> &amp;GlobalIndex = pair.second;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;{:&lt;4} {:&lt;2} {:&lt;40} {:&lt;2} {:&lt;40} {:&lt;2} {:&lt;20} {:&lt;2} {:&lt;20} {:&lt;2} {:&lt;20} {:&lt;2}&quot;</span>,</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                  SplineIndex, <span class="stringliteral">&quot;|&quot;</span>, <a class="code" href="group__ParameterHandlerGetters.html#ga65b61ae6c60d4eadbb06fdef9596cc7f">GetParFancyName</a>(GlobalIndex), <span class="stringliteral">&quot;|&quot;</span>,</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                  <a class="code" href="classParameterHandlerGeneric.html#a24c0df68d9d476ea304c75310f18de2c">_fSplineNames</a>[SplineIndex], <span class="stringliteral">&quot;|&quot;</span>,</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                  <a class="code" href="ParameterStructs_8h.html#a2d969ce667e41bd2492cff1775456837">SplineInterpolation_ToString</a>(<a class="code" href="classParameterHandlerGeneric.html#ab1e11baf28cd23659897a4592e2ed2bd">GetParSplineInterpolation</a>(SplineIndex)), <span class="stringliteral">&quot;|&quot;</span>,</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                  <a class="code" href="group__ParameterHandlerGetters.html#gaf22a9af6dac17b9824a1accaccb93610">GetParSplineKnotLowerBound</a>(SplineIndex), <span class="stringliteral">&quot;|&quot;</span>,</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                  <a class="code" href="group__ParameterHandlerGetters.html#ga608ea55753c4528eb71ca2973eb3d026">GetParSplineKnotUpperBound</a>(SplineIndex), <span class="stringliteral">&quot;|&quot;</span>);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;=====================================================================================================================================================================&quot;</span>);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;}</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160; </div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00592"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#a76c6cd8203e46471022893aa033e6da9">  592</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classParameterHandlerGeneric.html#a76c6cd8203e46471022893aa033e6da9">ParameterHandlerGeneric::PrintFunctionalParams</a>() {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Functional parameters: {}&quot;</span>, <a class="code" href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">_fSystToGlobalSystIndexMap</a>[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fad9b1ac76e80f59684cfb7dc996fc870d">SystType::kFunc</a>].size());</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">_fSystToGlobalSystIndexMap</a>[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fad9b1ac76e80f59684cfb7dc996fc870d">SystType::kFunc</a>].size() == 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;{0:4}{1:10}{2:40}&quot;</span>, <span class="stringliteral">&quot;#&quot;</span>, <span class="stringliteral">&quot;Global #&quot;</span>, <span class="stringliteral">&quot;Name&quot;</span>);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;pair : <a class="code" href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">_fSystToGlobalSystIndexMap</a>[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fad9b1ac76e80f59684cfb7dc996fc870d">SystType::kFunc</a>]) {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keyword">auto</span> &amp;FuncIndex = pair.first;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keyword">auto</span> &amp;GlobalIndex = pair.second;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;{0:4}{1:&lt;10}{2:40}&quot;</span>, std::to_string(FuncIndex), GlobalIndex, <a class="code" href="group__ParameterHandlerGetters.html#ga65b61ae6c60d4eadbb06fdef9596cc7f">GetParFancyName</a>(GlobalIndex));</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  }</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;}</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00608"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#a3efb5b4e15b5fc617d5e34011a135912">  608</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classParameterHandlerGeneric.html#a3efb5b4e15b5fc617d5e34011a135912">ParameterHandlerGeneric::PrintOscillationParams</a>() {</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Oscillation parameters: {}&quot;</span>, <a class="code" href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">_fSystToGlobalSystIndexMap</a>[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa50ac44a09cc05fd1285a88637bdcf789">SystType::kOsc</a>].size());</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">_fSystToGlobalSystIndexMap</a>[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa50ac44a09cc05fd1285a88637bdcf789">SystType::kOsc</a>].size() == 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;{0:4}{1:10}{2:40}&quot;</span>, <span class="stringliteral">&quot;#&quot;</span>, <span class="stringliteral">&quot;Global #&quot;</span>, <span class="stringliteral">&quot;Name&quot;</span>);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;pair : <a class="code" href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">_fSystToGlobalSystIndexMap</a>[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa50ac44a09cc05fd1285a88637bdcf789">SystType::kOsc</a>]) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keyword">auto</span> &amp;OscIndex = pair.first;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keyword">auto</span> &amp;GlobalIndex = pair.second;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;{0:4}{1:&lt;10}{2:40}&quot;</span>, std::to_string(OscIndex), GlobalIndex, <a class="code" href="group__ParameterHandlerGetters.html#ga65b61ae6c60d4eadbb06fdef9596cc7f">GetParFancyName</a>(GlobalIndex));</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  }</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;}</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160; </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00624"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#a0e26c21f5e9e129202477deae8286350">  624</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classParameterHandlerGeneric.html#a0e26c21f5e9e129202477deae8286350">ParameterHandlerGeneric::PrintParameterGroups</a>() {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="comment">// KS: Create a map to store the counts of unique strings, in principle this could be in header file</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  std::unordered_map&lt;std::string, int&gt; paramCounts;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  std::for_each(<a class="code" href="classParameterHandlerGeneric.html#aeb3fea66be02cc59ca14af171e7dd746">_ParameterGroup</a>.begin(), <a class="code" href="classParameterHandlerGeneric.html#aeb3fea66be02cc59ca14af171e7dd746">_ParameterGroup</a>.end(),</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                [&amp;paramCounts](<span class="keyword">const</span> std::string&amp; param) {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                  paramCounts[param]++;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                });</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160; </div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Printing parameter groups&quot;</span>);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="comment">// Output the counts</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; pair : paramCounts) {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Found {}: {} params&quot;</span>, pair.second, pair.first);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;}</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160; </div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00642"></a><span class="lineno"><a class="line" href="group__ParameterHandlerGetters.html#gad72d3b78e073145d84318bbd4fae542f">  642</a></span>&#160;std::vector&lt;std::string&gt; <a class="code" href="group__ParameterHandlerGetters.html#gad72d3b78e073145d84318bbd4fae542f">ParameterHandlerGeneric::GetUniqueParameterGroups</a>() {</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  std::unordered_set&lt;std::string&gt; uniqueGroups;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160; </div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="comment">// Fill the set with unique values</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; param : <a class="code" href="classParameterHandlerGeneric.html#aeb3fea66be02cc59ca14af171e7dd746">_ParameterGroup</a>) {</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    uniqueGroups.insert(param);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  }</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160; </div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="comment">// Convert to vector and return</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  std::vector&lt;std::string&gt; result(uniqueGroups.begin(), uniqueGroups.end());</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;}</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160; </div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="comment">// KS: Check if matrix is correctly initialised</span></div>
<div class="line"><a name="l00658"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#a7bd990c506d4f8927fcdcb15d7c3d24b">  658</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classParameterHandlerGeneric.html#a7bd990c506d4f8927fcdcb15d7c3d24b">ParameterHandlerGeneric::CheckCorrectInitialisation</a>() {</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <span class="comment">// KS: Lambda Function which simply checks if there are no duplicates in std::vector</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keyword">auto</span> CheckForDuplicates = [](<span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; names, <span class="keyword">const</span> std::string&amp; nameType) {</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    std::unordered_map&lt;std::string, size_t&gt; seenStrings;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; names.size(); ++i) {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; name = names[i];</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <span class="keywordflow">if</span> (seenStrings.find(name) != seenStrings.end()) {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <span class="keywordtype">size_t</span> firstIndex = seenStrings[name];</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <a class="code" href="MaCh3Logger_8h.html#a07ff6d6a15b24f94afc88a1b89779beb">MACH3LOG_CRITICAL</a>(<span class="stringliteral">&quot;There are two systematics with the same {} &#39;{}&#39;, first at index {}, and again at index {}&quot;</span>, nameType, name, firstIndex, i);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        <span class="keywordflow">throw</span> <a class="code" href="classMaCh3Exception.html">MaCh3Exception</a>(__FILE__, __LINE__);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      seenStrings[name] = i;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    }</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  };</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160; </div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="comment">// KS: Checks if there are no duplicates in fancy names etc, this can happen if we merge configs etc</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  CheckForDuplicates(<a class="code" href="classParameterHandlerBase.html#a56d40a78f16384b3b6e8ed10c76b899d">_fFancyNames</a>, <span class="stringliteral">&quot;_fFancyNames&quot;</span>);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  CheckForDuplicates(<a class="code" href="classParameterHandlerGeneric.html#a24c0df68d9d476ea304c75310f18de2c">_fSplineNames</a>, <span class="stringliteral">&quot;_fSplineNames&quot;</span>);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;}</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160; </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="comment">// Function to set to prior parameters of a given group</span></div>
<div class="line"><a name="l00681"></a><span class="lineno"><a class="line" href="group__ParameterHandlerSetters.html#ga9b23f2004df65f0ec20eac0eeb6c9690">  681</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__ParameterHandlerSetters.html#ga6e373084bee94b52997b759f3aefa5e1">ParameterHandlerGeneric::SetGroupOnlyParameters</a>(<span class="keyword">const</span> std::vector&lt; std::string&gt;&amp; Groups) {</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i = 0; i &lt; Groups.size(); i++){</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <a class="code" href="group__ParameterHandlerSetters.html#ga6e373084bee94b52997b759f3aefa5e1">SetGroupOnlyParameters</a>(Groups[i]);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  }</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;}</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160; </div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="comment">// Function to set to prior parameters of a given group</span></div>
<div class="line"><a name="l00690"></a><span class="lineno"><a class="line" href="group__ParameterHandlerSetters.html#ga6e373084bee94b52997b759f3aefa5e1">  690</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__ParameterHandlerSetters.html#ga6e373084bee94b52997b759f3aefa5e1">ParameterHandlerGeneric::SetGroupOnlyParameters</a>(<span class="keyword">const</span> std::string&amp; Group, <span class="keyword">const</span> std::vector&lt;double&gt;&amp; Pars) {</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="comment">// If empty, set the proposed to prior</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <span class="keywordflow">if</span> (Pars.empty()) {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classParameterHandlerBase.html#a8d9a71d60c526da6b9ef9d276b1a2fad">_fNumPar</a>; i++) {</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="group__ParameterHandlerGetters.html#gae10980fefe473ec6a9875dad17dea334">IsParFromGroup</a>(i, Group)) <a class="code" href="classParameterHandlerBase.html#af1b1a75fbc837d788201ea8062aa6a3b">_fPropVal</a>[i] = <a class="code" href="classParameterHandlerBase.html#a9f98cdf43f276a271da9a66509063ba6">_fPreFitValue</a>[i];</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    }</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  } <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> ExpectedSize = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(<a class="code" href="group__ParameterHandlerGetters.html#gaf69c5edfc994fa7c371e92b204ae6ba4">GetNumParFromGroup</a>(Group));</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordflow">if</span> (Pars.size() != ExpectedSize) {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      <a class="code" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Number of param in group {} is {}, while you passed {}&quot;</span>, Group, ExpectedSize, Pars.size());</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      <span class="keywordflow">throw</span> <a class="code" href="classMaCh3Exception.html">MaCh3Exception</a>(__FILE__, __LINE__);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keywordtype">int</span> Counter = 0;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classParameterHandlerBase.html#a8d9a71d60c526da6b9ef9d276b1a2fad">_fNumPar</a>; i++) {</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      <span class="comment">// If belongs to group set value from parsed vector, otherwise use propose value</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="group__ParameterHandlerGetters.html#gae10980fefe473ec6a9875dad17dea334">IsParFromGroup</a>(i, Group)){</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        <a class="code" href="classParameterHandlerBase.html#af1b1a75fbc837d788201ea8062aa6a3b">_fPropVal</a>[i] = Pars[Counter];</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        Counter++;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      }</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    }</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  }</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <span class="comment">// And if pca make the transfer</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classParameterHandlerBase.html#ae036dc62d3a3710b78d5d767f280fa4b">pca</a>) {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <a class="code" href="classParameterHandlerBase.html#a8d3b05f6bb6ec3f334af6d9891fa031e">PCAObj</a>-&gt;TransferToPCA();</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <a class="code" href="classParameterHandlerBase.html#a8d3b05f6bb6ec3f334af6d9891fa031e">PCAObj</a>-&gt;TransferToParam();</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  }</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;}</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160; </div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="comment">// Toggle fix/free to parameters of a given group</span></div>
<div class="line"><a name="l00721"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#a45a23370757cb771b681082d35af2cb2">  721</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classParameterHandlerGeneric.html#a45a23370757cb771b681082d35af2cb2">ParameterHandlerGeneric::ToggleFixGroupOnlyParameters</a>(<span class="keyword">const</span> std::string&amp; Group) {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classParameterHandlerBase.html#a8d9a71d60c526da6b9ef9d276b1a2fad">_fNumPar</a>; ++i) </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="group__ParameterHandlerGetters.html#gae10980fefe473ec6a9875dad17dea334">IsParFromGroup</a>(i, Group)) <a class="code" href="classParameterHandlerBase.html#a0836c9264400aa1d9254d5aeec3e56af">ToggleFixParameter</a>(i);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;}</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160; </div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="comment">// Toggle fix/free to parameters of several groups</span></div>
<div class="line"><a name="l00729"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#aaab9de07e47efe939153c3b0e18263c1">  729</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classParameterHandlerGeneric.html#a45a23370757cb771b681082d35af2cb2">ParameterHandlerGeneric::ToggleFixGroupOnlyParameters</a>(<span class="keyword">const</span> std::vector&lt; std::string&gt;&amp; Groups) {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i = 0; i &lt; Groups.size(); i++)</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <a class="code" href="classParameterHandlerGeneric.html#a45a23370757cb771b681082d35af2cb2">ToggleFixGroupOnlyParameters</a>(Groups[i]); </div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;}</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160; </div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment">// Set parameters to be fixed in a given group</span></div>
<div class="line"><a name="l00737"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#ae3afd3b02bbad68bbdd66f86a148eed9">  737</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classParameterHandlerGeneric.html#ae3afd3b02bbad68bbdd66f86a148eed9">ParameterHandlerGeneric::SetFixGroupOnlyParameters</a>(<span class="keyword">const</span> std::string&amp; Group) {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classParameterHandlerBase.html#a8d9a71d60c526da6b9ef9d276b1a2fad">_fNumPar</a>; ++i) </div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="group__ParameterHandlerGetters.html#gae10980fefe473ec6a9875dad17dea334">IsParFromGroup</a>(i, Group)) <a class="code" href="classParameterHandlerBase.html#a6a761b5c4d6b38e6adc0af07ee241a02">SetFixParameter</a>(i);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;}</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160; </div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment">// Set parameters of several groups to be fixed</span></div>
<div class="line"><a name="l00745"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#a211ed080f27a030ca622fed6a34ec6df">  745</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classParameterHandlerGeneric.html#ae3afd3b02bbad68bbdd66f86a148eed9">ParameterHandlerGeneric::SetFixGroupOnlyParameters</a>(<span class="keyword">const</span> std::vector&lt; std::string&gt;&amp; Groups) {</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i = 0; i &lt; Groups.size(); i++)</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <a class="code" href="classParameterHandlerGeneric.html#ae3afd3b02bbad68bbdd66f86a148eed9">SetFixGroupOnlyParameters</a>(Groups[i]); </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;}</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160; </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="comment">// Set parameters to be free in a given group</span></div>
<div class="line"><a name="l00753"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#a8fd0e7d0d75f215005ddbee0b3533619">  753</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classParameterHandlerGeneric.html#a8fd0e7d0d75f215005ddbee0b3533619">ParameterHandlerGeneric::SetFreeGroupOnlyParameters</a>(<span class="keyword">const</span> std::string&amp; Group) {</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classParameterHandlerBase.html#a8d9a71d60c526da6b9ef9d276b1a2fad">_fNumPar</a>; ++i) </div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="group__ParameterHandlerGetters.html#gae10980fefe473ec6a9875dad17dea334">IsParFromGroup</a>(i, Group)) <a class="code" href="classParameterHandlerBase.html#ac6b47e5bef4831a35012a0b97ff2ee82">SetFreeParameter</a>(i);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;}</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160; </div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="comment">// Set parameters of several groups to be fixed</span></div>
<div class="line"><a name="l00761"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#aa30f25f522e4e81599b00ab2ec648388">  761</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classParameterHandlerGeneric.html#a8fd0e7d0d75f215005ddbee0b3533619">ParameterHandlerGeneric::SetFreeGroupOnlyParameters</a>(<span class="keyword">const</span> std::vector&lt; std::string&gt;&amp; Groups) {</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i = 0; i &lt; Groups.size(); i++)</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <a class="code" href="classParameterHandlerGeneric.html#a8fd0e7d0d75f215005ddbee0b3533619">SetFreeGroupOnlyParameters</a>(Groups[i]); </div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;}</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160; </div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment">// Checks if parameter belongs to a given group</span></div>
<div class="line"><a name="l00769"></a><span class="lineno"><a class="line" href="group__ParameterHandlerGetters.html#gae10980fefe473ec6a9875dad17dea334">  769</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="group__ParameterHandlerGetters.html#gae10980fefe473ec6a9875dad17dea334">ParameterHandlerGeneric::IsParFromGroup</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> i, <span class="keyword">const</span> std::string&amp; Group)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  std::string groupLower = Group;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  std::string paramGroupLower = <a class="code" href="classParameterHandlerGeneric.html#aeb3fea66be02cc59ca14af171e7dd746">_ParameterGroup</a>[i];</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160; </div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <span class="comment">// KS: Convert both strings to lowercase, this way comparison will be case insensitive</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  std::transform(groupLower.begin(), groupLower.end(), groupLower.begin(), ::tolower);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  std::transform(paramGroupLower.begin(), paramGroupLower.end(), paramGroupLower.begin(), ::tolower);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160; </div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="keywordflow">return</span> groupLower == paramGroupLower;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;}</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160; </div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00782"></a><span class="lineno"><a class="line" href="group__ParameterHandlerGetters.html#gaf69c5edfc994fa7c371e92b204ae6ba4">  782</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__ParameterHandlerGetters.html#gaf69c5edfc994fa7c371e92b204ae6ba4">ParameterHandlerGeneric::GetNumParFromGroup</a>(<span class="keyword">const</span> std::string&amp; Group)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="keywordtype">int</span> Counter = 0;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classParameterHandlerBase.html#a8d9a71d60c526da6b9ef9d276b1a2fad">_fNumPar</a>; i++) {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="group__ParameterHandlerGetters.html#gae10980fefe473ec6a9875dad17dea334">IsParFromGroup</a>(i, Group)) Counter++;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  }</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <span class="keywordflow">return</span> Counter;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;}</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160; </div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment">// DB Grab the Normalisation parameters for the relevant sample name</span></div>
<div class="line"><a name="l00793"></a><span class="lineno"><a class="line" href="group__ParameterHandlerGetters.html#gaf23d9cf44cd74cd00db919880d4ca913">  793</a></span>&#160;std::vector&lt;const double*&gt; <a class="code" href="group__ParameterHandlerGetters.html#gaf23d9cf44cd74cd00db919880d4ca913">ParameterHandlerGeneric::GetOscParsFromSampleName</a>(<span class="keyword">const</span> std::string&amp; SampleName) {</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  std::vector&lt;const double*&gt; returnVec;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; pair : <a class="code" href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">_fSystToGlobalSystIndexMap</a>[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa50ac44a09cc05fd1285a88637bdcf789">SystType::kOsc</a>]) {</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; globalIndex = pair.second;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classParameterHandlerBase.html#a3c5d92e6b592f18ea4d6bd9afaca7ebd">AppliesToSample</a>(globalIndex, SampleName)) {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      returnVec.push_back(<a class="code" href="classParameterHandlerBase.html#a2929feac84b65e987bc92448754c5b1b">RetPointer</a>(globalIndex));</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    }</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  }</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="keywordflow">return</span> returnVec;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;}</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160; </div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment">// Dump Matrix to ROOT file, useful when we need to pass matrix info to another fitting group</span></div>
<div class="line"><a name="l00807"></a><span class="lineno"><a class="line" href="classParameterHandlerGeneric.html#aad70f9b7c4c574c09a056693e3ecc0e0">  807</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classParameterHandlerGeneric.html#aad70f9b7c4c574c09a056693e3ecc0e0">ParameterHandlerGeneric::DumpMatrixToFile</a>(<span class="keyword">const</span> std::string&amp; Name) {</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="comment">// ********************************************</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  TFile* outputFile = <span class="keyword">new</span> TFile(Name.c_str(), <span class="stringliteral">&quot;RECREATE&quot;</span>);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160; </div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  TObjArray* xsec_param_names = <span class="keyword">new</span> TObjArray();</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  TObjArray* xsec_spline_interpolation = <span class="keyword">new</span> TObjArray();</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  TObjArray* xsec_spline_names = <span class="keyword">new</span> TObjArray();</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160; </div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  TVectorD* xsec_param_prior = <span class="keyword">new</span> TVectorD(<a class="code" href="classParameterHandlerBase.html#a8d9a71d60c526da6b9ef9d276b1a2fad">_fNumPar</a>);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  TVectorD* xsec_flat_prior = <span class="keyword">new</span> TVectorD(<a class="code" href="classParameterHandlerBase.html#a8d9a71d60c526da6b9ef9d276b1a2fad">_fNumPar</a>);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  TVectorD* xsec_stepscale = <span class="keyword">new</span> TVectorD(<a class="code" href="classParameterHandlerBase.html#a8d9a71d60c526da6b9ef9d276b1a2fad">_fNumPar</a>);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  TVectorD* xsec_param_lb = <span class="keyword">new</span> TVectorD(<a class="code" href="classParameterHandlerBase.html#a8d9a71d60c526da6b9ef9d276b1a2fad">_fNumPar</a>);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  TVectorD* xsec_param_ub = <span class="keyword">new</span> TVectorD(<a class="code" href="classParameterHandlerBase.html#a8d9a71d60c526da6b9ef9d276b1a2fad">_fNumPar</a>);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160; </div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  TVectorD* xsec_param_knot_weight_lb = <span class="keyword">new</span> TVectorD(<a class="code" href="classParameterHandlerBase.html#a8d9a71d60c526da6b9ef9d276b1a2fad">_fNumPar</a>);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  TVectorD* xsec_param_knot_weight_ub = <span class="keyword">new</span> TVectorD(<a class="code" href="classParameterHandlerBase.html#a8d9a71d60c526da6b9ef9d276b1a2fad">_fNumPar</a>);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  TVectorD* xsec_error = <span class="keyword">new</span> TVectorD(<a class="code" href="classParameterHandlerBase.html#a8d9a71d60c526da6b9ef9d276b1a2fad">_fNumPar</a>);</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160; </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classParameterHandlerBase.html#a8d9a71d60c526da6b9ef9d276b1a2fad">_fNumPar</a>; ++i)</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  {</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    TObjString* nameObj = <span class="keyword">new</span> TObjString(<a class="code" href="classParameterHandlerBase.html#a56d40a78f16384b3b6e8ed10c76b899d">_fFancyNames</a>[i].c_str());</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    xsec_param_names-&gt;AddLast(nameObj);</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160; </div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    TObjString* splineType = <span class="keyword">new</span> TObjString(<span class="stringliteral">&quot;TSpline3&quot;</span>);</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    xsec_spline_interpolation-&gt;AddLast(splineType);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160; </div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    TObjString* splineName = <span class="keyword">new</span> TObjString(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    xsec_spline_names-&gt;AddLast(splineName);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160; </div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    (*xsec_param_prior)[i] = <a class="code" href="classParameterHandlerBase.html#a9f98cdf43f276a271da9a66509063ba6">_fPreFitValue</a>[i];</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    (*xsec_flat_prior)[i] = <a class="code" href="classParameterHandlerBase.html#a5b71ff832ba3fc84969a7e3fc9dc0d62">_fFlatPrior</a>[i];</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    (*xsec_stepscale)[i] = <a class="code" href="classParameterHandlerBase.html#ae042c1f0f79927b63744d820384ac28e">_fIndivStepScale</a>[i];</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    (*xsec_error)[i] = <a class="code" href="classParameterHandlerBase.html#a65f6056605f718d83a641680aa33fe88">_fError</a>[i];</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160; </div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    (*xsec_param_lb)[i] = <a class="code" href="classParameterHandlerBase.html#a92d4696b92db78fd9e3a4549d3ab64a6">_fLowBound</a>[i];</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    (*xsec_param_ub)[i] = <a class="code" href="classParameterHandlerBase.html#aca38e417c05c6fa67a892ee5ddf1c2ac">_fUpBound</a>[i];</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160; </div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="comment">//Default values</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    (*xsec_param_knot_weight_lb)[i] = -9999;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    (*xsec_param_knot_weight_ub)[i] = +9999;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  }</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160; </div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;pair : <a class="code" href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">_fSystToGlobalSystIndexMap</a>[<a class="code" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa29d6ccf6cf507f6e66c72b1d3c2aed00">SystType::kSpline</a>]) {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keyword">auto</span> &amp;SplineIndex = pair.first;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keyword">auto</span> &amp;SystIndex = pair.second;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160; </div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    (*xsec_param_knot_weight_lb)[SystIndex] = <a class="code" href="classParameterHandlerGeneric.html#a0dd46fbd1eb07b54ba48e8fc7a5c03c1">SplineParams</a>.at(SplineIndex)._SplineKnotLowBound;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    (*xsec_param_knot_weight_ub)[SystIndex] = <a class="code" href="classParameterHandlerGeneric.html#a0dd46fbd1eb07b54ba48e8fc7a5c03c1">SplineParams</a>.at(SplineIndex)._SplineKnotUpBound;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160; </div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    TObjString* splineType = <span class="keyword">new</span> TObjString(<a class="code" href="ParameterStructs_8h.html#a2d969ce667e41bd2492cff1775456837">SplineInterpolation_ToString</a>(<a class="code" href="classParameterHandlerGeneric.html#a0dd46fbd1eb07b54ba48e8fc7a5c03c1">SplineParams</a>.at(SplineIndex)._SplineInterpolationType).c_str());</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    xsec_spline_interpolation-&gt;AddAt(splineType, SystIndex);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160; </div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    TObjString* splineName = <span class="keyword">new</span> TObjString(<a class="code" href="classParameterHandlerGeneric.html#a24c0df68d9d476ea304c75310f18de2c">_fSplineNames</a>[SplineIndex].c_str());</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    xsec_spline_names-&gt;AddAt(splineName, SystIndex);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  }</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  xsec_param_names-&gt;Write(<span class="stringliteral">&quot;xsec_param_names&quot;</span>, TObject::kSingleKey);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  <span class="keyword">delete</span> xsec_param_names;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  xsec_spline_interpolation-&gt;Write(<span class="stringliteral">&quot;xsec_spline_interpolation&quot;</span>, TObject::kSingleKey);</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <span class="keyword">delete</span> xsec_spline_interpolation;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  xsec_spline_names-&gt;Write(<span class="stringliteral">&quot;xsec_spline_names&quot;</span>, TObject::kSingleKey);</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  <span class="keyword">delete</span> xsec_spline_names;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160; </div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  xsec_param_prior-&gt;Write(<span class="stringliteral">&quot;xsec_param_prior&quot;</span>);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <span class="keyword">delete</span> xsec_param_prior;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  xsec_flat_prior-&gt;Write(<span class="stringliteral">&quot;xsec_flat_prior&quot;</span>);</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <span class="keyword">delete</span> xsec_flat_prior;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  xsec_stepscale-&gt;Write(<span class="stringliteral">&quot;xsec_stepscale&quot;</span>);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <span class="keyword">delete</span> xsec_stepscale;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  xsec_param_lb-&gt;Write(<span class="stringliteral">&quot;xsec_param_lb&quot;</span>);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  <span class="keyword">delete</span> xsec_param_lb;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  xsec_param_ub-&gt;Write(<span class="stringliteral">&quot;xsec_param_ub&quot;</span>);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  <span class="keyword">delete</span> xsec_param_ub;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160; </div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  xsec_param_knot_weight_lb-&gt;Write(<span class="stringliteral">&quot;xsec_param_knot_weight_lb&quot;</span>);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  <span class="keyword">delete</span> xsec_param_knot_weight_lb;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  xsec_param_knot_weight_ub-&gt;Write(<span class="stringliteral">&quot;xsec_param_knot_weight_ub&quot;</span>);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <span class="keyword">delete</span> xsec_param_knot_weight_ub;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  xsec_error-&gt;Write(<span class="stringliteral">&quot;xsec_error&quot;</span>);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  <span class="keyword">delete</span> xsec_error;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160; </div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  <a class="code" href="classParameterHandlerBase.html#a9d2ef9ea0260dffb1034fd565143ba71">covMatrix</a>-&gt;Write(<span class="stringliteral">&quot;xsec_cov&quot;</span>);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  TH2D* CorrMatrix = <a class="code" href="group__ParameterHandlerGetters.html#ga6745aac0b811863722e4030421adee92">GetCorrelationMatrix</a>();</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  CorrMatrix-&gt;Write(<span class="stringliteral">&quot;hcov&quot;</span>);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <span class="keyword">delete</span> CorrMatrix;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160; </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  outputFile-&gt;Close();</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="keyword">delete</span> outputFile;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160; </div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Finished dumping ParameterHandler object&quot;</span>);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;}</div>
<div class="ttc" id="aMaCh3Logger_8h_html_a07ff6d6a15b24f94afc88a1b89779beb"><div class="ttname"><a href="MaCh3Logger_8h.html#a07ff6d6a15b24f94afc88a1b89779beb">MACH3LOG_CRITICAL</a></div><div class="ttdeci">#define MACH3LOG_CRITICAL</div><div class="ttdef"><b>Definition:</b> <a href="MaCh3Logger_8h_source.html#l00038">MaCh3Logger.h:38</a></div></div>
<div class="ttc" id="aMaCh3Logger_8h_html_a4db4657acad5c79ac4bbb66a9d1c5905"><div class="ttname"><a href="MaCh3Logger_8h.html#a4db4657acad5c79ac4bbb66a9d1c5905">MACH3LOG_DEBUG</a></div><div class="ttdeci">#define MACH3LOG_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="MaCh3Logger_8h_source.html#l00034">MaCh3Logger.h:34</a></div></div>
<div class="ttc" id="aMaCh3Logger_8h_html_a61052119a625282d0ec6d4a97adf3ee2"><div class="ttname"><a href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a></div><div class="ttdeci">#define MACH3LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="MaCh3Logger_8h_source.html#l00037">MaCh3Logger.h:37</a></div></div>
<div class="ttc" id="aMaCh3Logger_8h_html_a95fa4dffc648e4c5536c9292c2bdcac3"><div class="ttname"><a href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a></div><div class="ttdeci">#define MACH3LOG_INFO</div><div class="ttdef"><b>Definition:</b> <a href="MaCh3Logger_8h_source.html#l00035">MaCh3Logger.h:35</a></div></div>
<div class="ttc" id="aMaCh3Logger_8h_html_ad5b2eb6377721e3ac95def22c2386bb1"><div class="ttname"><a href="MaCh3Logger_8h.html#ad5b2eb6377721e3ac95def22c2386bb1">MACH3LOG_WARN</a></div><div class="ttdeci">#define MACH3LOG_WARN</div><div class="ttdef"><b>Definition:</b> <a href="MaCh3Logger_8h_source.html#l00036">MaCh3Logger.h:36</a></div></div>
<div class="ttc" id="aParameterHandlerGeneric_8h_html"><div class="ttname"><a href="ParameterHandlerGeneric_8h.html">ParameterHandlerGeneric.h</a></div></div>
<div class="ttc" id="aParameterStructs_8h_html_a2d969ce667e41bd2492cff1775456837"><div class="ttname"><a href="ParameterStructs_8h.html#a2d969ce667e41bd2492cff1775456837">SplineInterpolation_ToString</a></div><div class="ttdeci">std::string SplineInterpolation_ToString(const SplineInterpolation i)</div><div class="ttdoc">Convert a LLH type to a string.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00306">ParameterStructs.h:306</a></div></div>
<div class="ttc" id="aParameterStructs_8h_html_a6720d732608767153550aebebcf8fbf4"><div class="ttname"><a href="ParameterStructs_8h.html#a6720d732608767153550aebebcf8fbf4">SplineInterpolation</a></div><div class="ttdeci">SplineInterpolation</div><div class="ttdoc">Make an enum of the spline interpolation type.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00240">ParameterStructs.h:240</a></div></div>
<div class="ttc" id="aParameterStructs_8h_html_a6720d732608767153550aebebcf8fbf4a56c886e7b34c938027a7140748999c8a"><div class="ttname"><a href="ParameterStructs_8h.html#a6720d732608767153550aebebcf8fbf4a56c886e7b34c938027a7140748999c8a">kTSpline3</a></div><div class="ttdeci">@ kTSpline3</div><div class="ttdoc">Default TSpline3 interpolation.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00241">ParameterStructs.h:241</a></div></div>
<div class="ttc" id="aParameterStructs_8h_html_a6720d732608767153550aebebcf8fbf4a9e1a345912f2baebd863ab7d40c9ab7b"><div class="ttname"><a href="ParameterStructs_8h.html#a6720d732608767153550aebebcf8fbf4a9e1a345912f2baebd863ab7d40c9ab7b">kSplineInterpolations</a></div><div class="ttdeci">@ kSplineInterpolations</div><div class="ttdoc">This only enumerates.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00248">ParameterStructs.h:247</a></div></div>
<div class="ttc" id="aParameterStructs_8h_html_ad39c312dc44177340e2ebccd3d3f2d4c"><div class="ttname"><a href="ParameterStructs_8h.html#ad39c312dc44177340e2ebccd3d3f2d4c">SystType_ToString</a></div><div class="ttdeci">std::string SystType_ToString(const SystType i)</div><div class="ttdoc">Convert a Syst type type to a string.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00369">ParameterStructs.h:369</a></div></div>
<div class="ttc" id="aParameterStructs_8h_html_affc27d8b7b82d3713f45af17873fde2f"><div class="ttname"><a href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2f">SystType</a></div><div class="ttdeci">SystType</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00343">ParameterStructs.h:343</a></div></div>
<div class="ttc" id="aParameterStructs_8h_html_affc27d8b7b82d3713f45af17873fde2fa085cb29127b1cf7b1ddd429ff4440b17"><div class="ttname"><a href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa085cb29127b1cf7b1ddd429ff4440b17">kNorm</a></div><div class="ttdeci">@ kNorm</div><div class="ttdoc">For normalisation parameters.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00344">ParameterStructs.h:344</a></div></div>
<div class="ttc" id="aParameterStructs_8h_html_affc27d8b7b82d3713f45af17873fde2fa29d6ccf6cf507f6e66c72b1d3c2aed00"><div class="ttname"><a href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa29d6ccf6cf507f6e66c72b1d3c2aed00">kSpline</a></div><div class="ttdeci">@ kSpline</div><div class="ttdoc">For splined parameters (1D)</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00345">ParameterStructs.h:345</a></div></div>
<div class="ttc" id="aParameterStructs_8h_html_affc27d8b7b82d3713f45af17873fde2fa32e7da18117f9defb24042a71776e5cb"><div class="ttname"><a href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa32e7da18117f9defb24042a71776e5cb">kSystTypes</a></div><div class="ttdeci">@ kSystTypes</div><div class="ttdoc">This only enumerates.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00349">ParameterStructs.h:348</a></div></div>
<div class="ttc" id="aParameterStructs_8h_html_affc27d8b7b82d3713f45af17873fde2fa50ac44a09cc05fd1285a88637bdcf789"><div class="ttname"><a href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fa50ac44a09cc05fd1285a88637bdcf789">kOsc</a></div><div class="ttdeci">@ kOsc</div><div class="ttdoc">For oscillation parameters.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00347">ParameterStructs.h:347</a></div></div>
<div class="ttc" id="aParameterStructs_8h_html_affc27d8b7b82d3713f45af17873fde2fad9b1ac76e80f59684cfb7dc996fc870d"><div class="ttname"><a href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2fad9b1ac76e80f59684cfb7dc996fc870d">kFunc</a></div><div class="ttdeci">@ kFunc</div><div class="ttdoc">For functional parameters.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00346">ParameterStructs.h:346</a></div></div>
<div class="ttc" id="aYamlHelper_8h_html_a236f7db41b3514852c36138d94d8015e"><div class="ttname"><a href="YamlHelper_8h.html#a236f7db41b3514852c36138d94d8015e">Get2DBounds</a></div><div class="ttdeci">#define Get2DBounds(filename)</div><div class="ttdef"><b>Definition:</b> <a href="YamlHelper_8h_source.html#l00590">YamlHelper.h:590</a></div></div>
<div class="ttc" id="aYamlHelper_8h_html_a7f6e595be684b5fa9397205140d62a75"><div class="ttname"><a href="YamlHelper_8h.html#a7f6e595be684b5fa9397205140d62a75">GetFromManager</a></div><div class="ttdeci">Type GetFromManager(const YAML::Node &amp;node, const Type defval, const std::string File=&quot;&quot;, const int Line=1)</div><div class="ttdoc">Get content of config file if node is not found take default value specified.</div><div class="ttdef"><b>Definition:</b> <a href="YamlHelper_8h_source.html#l00326">YamlHelper.h:326</a></div></div>
<div class="ttc" id="aclassMaCh3Exception_html"><div class="ttname"><a href="classMaCh3Exception.html">MaCh3Exception</a></div><div class="ttdoc">Custom exception class used throughout MaCh3.</div><div class="ttdef"><b>Definition:</b> <a href="MaCh3Exception_8h_source.html#l00023">MaCh3Exception.h:23</a></div></div>
<div class="ttc" id="aclassParameterHandlerBase_html"><div class="ttname"><a href="classParameterHandlerBase.html">ParameterHandlerBase</a></div><div class="ttdoc">Base class responsible for handling of systematic error parameters. Capable of using PCA or using ada...</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8h_source.html#l00016">ParameterHandlerBase.h:16</a></div></div>
<div class="ttc" id="aclassParameterHandlerBase_html_a0836c9264400aa1d9254d5aeec3e56af"><div class="ttname"><a href="classParameterHandlerBase.html#a0836c9264400aa1d9254d5aeec3e56af">ParameterHandlerBase::ToggleFixParameter</a></div><div class="ttdeci">void ToggleFixParameter(const int i)</div><div class="ttdoc">Toggle fixing parameter at prior values.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8cpp_source.html#l01011">ParameterHandlerBase.cpp:1011</a></div></div>
<div class="ttc" id="aclassParameterHandlerBase_html_a2929feac84b65e987bc92448754c5b1b"><div class="ttname"><a href="classParameterHandlerBase.html#a2929feac84b65e987bc92448754c5b1b">ParameterHandlerBase::RetPointer</a></div><div class="ttdeci">const double * RetPointer(const int iParam)</div><div class="ttdoc">DB Pointer return to param position.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8h_source.html#l00241">ParameterHandlerBase.h:241</a></div></div>
<div class="ttc" id="aclassParameterHandlerBase_html_a3c5d92e6b592f18ea4d6bd9afaca7ebd"><div class="ttname"><a href="classParameterHandlerBase.html#a3c5d92e6b592f18ea4d6bd9afaca7ebd">ParameterHandlerBase::AppliesToSample</a></div><div class="ttdeci">bool AppliesToSample(const int SystIndex, const std::string &amp;SampleName) const</div><div class="ttdoc">Check if parameter is affecting given sample name.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8cpp_source.html#l01453">ParameterHandlerBase.cpp:1453</a></div></div>
<div class="ttc" id="aclassParameterHandlerBase_html_a56d40a78f16384b3b6e8ed10c76b899d"><div class="ttname"><a href="classParameterHandlerBase.html#a56d40a78f16384b3b6e8ed10c76b899d">ParameterHandlerBase::_fFancyNames</a></div><div class="ttdeci">std::vector&lt; std::string &gt; _fFancyNames</div><div class="ttdoc">Fancy name for example rather than xsec_0 it is MAQE, useful for human reading.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8h_source.html#l00477">ParameterHandlerBase.h:477</a></div></div>
<div class="ttc" id="aclassParameterHandlerBase_html_a5b71ff832ba3fc84969a7e3fc9dc0d62"><div class="ttname"><a href="classParameterHandlerBase.html#a5b71ff832ba3fc84969a7e3fc9dc0d62">ParameterHandlerBase::_fFlatPrior</a></div><div class="ttdeci">std::vector&lt; bool &gt; _fFlatPrior</div><div class="ttdoc">Whether to apply flat prior or not.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8h_source.html#l00497">ParameterHandlerBase.h:497</a></div></div>
<div class="ttc" id="aclassParameterHandlerBase_html_a65f6056605f718d83a641680aa33fe88"><div class="ttname"><a href="classParameterHandlerBase.html#a65f6056605f718d83a641680aa33fe88">ParameterHandlerBase::_fError</a></div><div class="ttdeci">std::vector&lt; double &gt; _fError</div><div class="ttdoc">Prior error on the parameter.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8h_source.html#l00489">ParameterHandlerBase.h:489</a></div></div>
<div class="ttc" id="aclassParameterHandlerBase_html_a6a761b5c4d6b38e6adc0af07ee241a02"><div class="ttname"><a href="classParameterHandlerBase.html#a6a761b5c4d6b38e6adc0af07ee241a02">ParameterHandlerBase::SetFixParameter</a></div><div class="ttdeci">void SetFixParameter(const int i)</div><div class="ttdoc">Set parameter to be fixed at prior value.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8cpp_source.html#l00967">ParameterHandlerBase.cpp:967</a></div></div>
<div class="ttc" id="aclassParameterHandlerBase_html_a714a8a85df5986b40dfbdf13bb8a159d"><div class="ttname"><a href="classParameterHandlerBase.html#a714a8a85df5986b40dfbdf13bb8a159d">ParameterHandlerBase::_fYAMLDoc</a></div><div class="ttdeci">YAML::Node _fYAMLDoc</div><div class="ttdoc">Stores config describing systematics.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8h_source.html#l00479">ParameterHandlerBase.h:479</a></div></div>
<div class="ttc" id="aclassParameterHandlerBase_html_a8d3b05f6bb6ec3f334af6d9891fa031e"><div class="ttname"><a href="classParameterHandlerBase.html#a8d3b05f6bb6ec3f334af6d9891fa031e">ParameterHandlerBase::PCAObj</a></div><div class="ttdeci">std::unique_ptr&lt; PCAHandler &gt; PCAObj</div><div class="ttdoc">Struct containing information about PCA.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8h_source.html#l00521">ParameterHandlerBase.h:521</a></div></div>
<div class="ttc" id="aclassParameterHandlerBase_html_a8d9a71d60c526da6b9ef9d276b1a2fad"><div class="ttname"><a href="classParameterHandlerBase.html#a8d9a71d60c526da6b9ef9d276b1a2fad">ParameterHandlerBase::_fNumPar</a></div><div class="ttdeci">int _fNumPar</div><div class="ttdoc">Number of systematic parameters.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8h_source.html#l00481">ParameterHandlerBase.h:481</a></div></div>
<div class="ttc" id="aclassParameterHandlerBase_html_a92d4696b92db78fd9e3a4549d3ab64a6"><div class="ttname"><a href="classParameterHandlerBase.html#a92d4696b92db78fd9e3a4549d3ab64a6">ParameterHandlerBase::_fLowBound</a></div><div class="ttdeci">std::vector&lt; double &gt; _fLowBound</div><div class="ttdoc">Lowest physical bound, parameter will not be able to go beyond it.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8h_source.html#l00491">ParameterHandlerBase.h:491</a></div></div>
<div class="ttc" id="aclassParameterHandlerBase_html_a93c8303daf13df6acb0870ad8eb56891"><div class="ttname"><a href="classParameterHandlerBase.html#a93c8303daf13df6acb0870ad8eb56891">ParameterHandlerBase::_fCurrVal</a></div><div class="ttdeci">std::vector&lt; double &gt; _fCurrVal</div><div class="ttdoc">Current value of the parameter.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8h_source.html#l00485">ParameterHandlerBase.h:485</a></div></div>
<div class="ttc" id="aclassParameterHandlerBase_html_a9d2ef9ea0260dffb1034fd565143ba71"><div class="ttname"><a href="classParameterHandlerBase.html#a9d2ef9ea0260dffb1034fd565143ba71">ParameterHandlerBase::covMatrix</a></div><div class="ttdeci">TMatrixDSym * covMatrix</div><div class="ttdoc">The covariance matrix.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8h_source.html#l00455">ParameterHandlerBase.h:455</a></div></div>
<div class="ttc" id="aclassParameterHandlerBase_html_a9f98cdf43f276a271da9a66509063ba6"><div class="ttname"><a href="classParameterHandlerBase.html#a9f98cdf43f276a271da9a66509063ba6">ParameterHandlerBase::_fPreFitValue</a></div><div class="ttdeci">std::vector&lt; double &gt; _fPreFitValue</div><div class="ttdoc">Parameter value dictated by the prior model. Based on it penalty term is calculated.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8h_source.html#l00483">ParameterHandlerBase.h:483</a></div></div>
<div class="ttc" id="aclassParameterHandlerBase_html_aa23c205ca3d033ce22cf2f04ee25324d"><div class="ttname"><a href="classParameterHandlerBase.html#aa23c205ca3d033ce22cf2f04ee25324d">ParameterHandlerBase::Randomize</a></div><div class="ttdeci">void Randomize() _noexcept_</div><div class="ttdoc">&quot;Randomize&quot; the parameters in the covariance class for the proposed step. Used the proposal kernel an...</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8cpp_source.html#l00691">ParameterHandlerBase.cpp:691</a></div></div>
<div class="ttc" id="aclassParameterHandlerBase_html_aa30828713375ceda767c9631157bd41d"><div class="ttname"><a href="classParameterHandlerBase.html#aa30828713375ceda767c9631157bd41d">ParameterHandlerBase::_fNames</a></div><div class="ttdeci">std::vector&lt; std::string &gt; _fNames</div><div class="ttdoc">ETA _fNames is set automatically in the covariance class to be something like xsec_i,...</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8h_source.html#l00475">ParameterHandlerBase.h:475</a></div></div>
<div class="ttc" id="aclassParameterHandlerBase_html_ac6b47e5bef4831a35012a0b97ff2ee82"><div class="ttname"><a href="classParameterHandlerBase.html#ac6b47e5bef4831a35012a0b97ff2ee82">ParameterHandlerBase::SetFreeParameter</a></div><div class="ttdeci">void SetFreeParameter(const int i)</div><div class="ttdoc">Set parameter to be treated as free.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8cpp_source.html#l00989">ParameterHandlerBase.cpp:989</a></div></div>
<div class="ttc" id="aclassParameterHandlerBase_html_aca38e417c05c6fa67a892ee5ddf1c2ac"><div class="ttname"><a href="classParameterHandlerBase.html#aca38e417c05c6fa67a892ee5ddf1c2ac">ParameterHandlerBase::_fUpBound</a></div><div class="ttdeci">std::vector&lt; double &gt; _fUpBound</div><div class="ttdoc">Upper physical bound, parameter will not be able to go beyond it.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8h_source.html#l00493">ParameterHandlerBase.h:493</a></div></div>
<div class="ttc" id="aclassParameterHandlerBase_html_ae036dc62d3a3710b78d5d767f280fa4b"><div class="ttname"><a href="classParameterHandlerBase.html#ae036dc62d3a3710b78d5d767f280fa4b">ParameterHandlerBase::pca</a></div><div class="ttdeci">bool pca</div><div class="ttdoc">perform PCA or not</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8h_source.html#l00516">ParameterHandlerBase.h:516</a></div></div>
<div class="ttc" id="aclassParameterHandlerBase_html_ae042c1f0f79927b63744d820384ac28e"><div class="ttname"><a href="classParameterHandlerBase.html#ae042c1f0f79927b63744d820384ac28e">ParameterHandlerBase::_fIndivStepScale</a></div><div class="ttdeci">std::vector&lt; double &gt; _fIndivStepScale</div><div class="ttdoc">Individual step scale used by MCMC algorithm.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8h_source.html#l00495">ParameterHandlerBase.h:495</a></div></div>
<div class="ttc" id="aclassParameterHandlerBase_html_aef9f160c6a95971f743b153bbc0a4a66"><div class="ttname"><a href="classParameterHandlerBase.html#aef9f160c6a95971f743b153bbc0a4a66">ParameterHandlerBase::PrintLength</a></div><div class="ttdeci">int PrintLength</div><div class="ttdoc">KS: This is used when printing parameters, sometimes we have super long parameters name,...</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8h_source.html#l00472">ParameterHandlerBase.h:472</a></div></div>
<div class="ttc" id="aclassParameterHandlerBase_html_af1b1a75fbc837d788201ea8062aa6a3b"><div class="ttname"><a href="classParameterHandlerBase.html#af1b1a75fbc837d788201ea8062aa6a3b">ParameterHandlerBase::_fPropVal</a></div><div class="ttdeci">std::vector&lt; double &gt; _fPropVal</div><div class="ttdoc">Proposed value of the parameter.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8h_source.html#l00487">ParameterHandlerBase.h:487</a></div></div>
<div class="ttc" id="aclassParameterHandlerBase_html_af4ebe6b24b280c5263e6a5385b11a2c9"><div class="ttname"><a href="classParameterHandlerBase.html#af4ebe6b24b280c5263e6a5385b11a2c9">ParameterHandlerBase::_fSampleNames</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; std::string &gt; &gt; _fSampleNames</div><div class="ttdoc">Tells to which samples object param should be applied.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8h_source.html#l00499">ParameterHandlerBase.h:499</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_a0bb96c2bb30675999b92bd8129a5c092"><div class="ttname"><a href="classParameterHandlerGeneric.html#a0bb96c2bb30675999b92bd8129a5c092">ParameterHandlerGeneric::PrintNormParams</a></div><div class="ttdeci">void PrintNormParams()</div><div class="ttdoc">Prints normalization parameters.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00497">ParameterHandlerGeneric.cpp:497</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_a0c1fa642060d0e39afb84e11ec83a703"><div class="ttname"><a href="classParameterHandlerGeneric.html#a0c1fa642060d0e39afb84e11ec83a703">ParameterHandlerGeneric::GetFunctionalParameters</a></div><div class="ttdeci">FunctionalParameter GetFunctionalParameters(const YAML::Node &amp;param, const int Index)</div><div class="ttdoc">Get Func params.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00292">ParameterHandlerGeneric.cpp:292</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_a0dd46fbd1eb07b54ba48e8fc7a5c03c1"><div class="ttname"><a href="classParameterHandlerGeneric.html#a0dd46fbd1eb07b54ba48e8fc7a5c03c1">ParameterHandlerGeneric::SplineParams</a></div><div class="ttdeci">std::vector&lt; SplineParameter &gt; SplineParams</div><div class="ttdoc">Vector containing info for normalisation systematics.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8h_source.html#l00246">ParameterHandlerGeneric.h:246</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_a0e26c21f5e9e129202477deae8286350"><div class="ttname"><a href="classParameterHandlerGeneric.html#a0e26c21f5e9e129202477deae8286350">ParameterHandlerGeneric::PrintParameterGroups</a></div><div class="ttdeci">void PrintParameterGroups()</div><div class="ttdoc">Prints groups of parameters.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00624">ParameterHandlerGeneric.cpp:624</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_a1012d55e1779e7212b59593d0a8bfe46"><div class="ttname"><a href="classParameterHandlerGeneric.html#a1012d55e1779e7212b59593d0a8bfe46">ParameterHandlerGeneric::GetSplineParameter</a></div><div class="ttdeci">SplineParameter GetSplineParameter(const YAML::Node &amp;param, const int Index)</div><div class="ttdoc">Get Spline params.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00263">ParameterHandlerGeneric.cpp:263</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_a1a0df46f5d9f94c9671a8796865a2f73"><div class="ttname"><a href="classParameterHandlerGeneric.html#a1a0df46f5d9f94c9671a8796865a2f73">ParameterHandlerGeneric::Print</a></div><div class="ttdeci">void Print()</div><div class="ttdoc">Print information about the whole object once it is set.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00453">ParameterHandlerGeneric.cpp:453</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_a1ec14913d7763be8e433868f3e2fea2c"><div class="ttname"><a href="classParameterHandlerGeneric.html#a1ec14913d7763be8e433868f3e2fea2c">ParameterHandlerGeneric::ParameterHandlerGeneric</a></div><div class="ttdeci">ParameterHandlerGeneric(const std::vector&lt; std::string &gt; &amp;FileNames, std::string name=&quot;xsec_cov&quot;, double threshold=-1, int FirstPCAdpar=-999, int LastPCAdpar=-999)</div><div class="ttdoc">Constructor.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00007">ParameterHandlerGeneric.cpp:7</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_a24c0df68d9d476ea304c75310f18de2c"><div class="ttname"><a href="classParameterHandlerGeneric.html#a24c0df68d9d476ea304c75310f18de2c">ParameterHandlerGeneric::_fSplineNames</a></div><div class="ttdeci">std::vector&lt; std::string &gt; _fSplineNames</div><div class="ttdoc">Name of spline in TTree (TBranch),.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8h_source.html#l00237">ParameterHandlerGeneric.h:237</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_a3efb5b4e15b5fc617d5e34011a135912"><div class="ttname"><a href="classParameterHandlerGeneric.html#a3efb5b4e15b5fc617d5e34011a135912">ParameterHandlerGeneric::PrintOscillationParams</a></div><div class="ttdeci">void PrintOscillationParams()</div><div class="ttdoc">Prints oscillation parameters.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00608">ParameterHandlerGeneric.cpp:608</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_a45a23370757cb771b681082d35af2cb2"><div class="ttname"><a href="classParameterHandlerGeneric.html#a45a23370757cb771b681082d35af2cb2">ParameterHandlerGeneric::ToggleFixGroupOnlyParameters</a></div><div class="ttdeci">void ToggleFixGroupOnlyParameters(const std::string &amp;Group)</div><div class="ttdoc">TN Method to toggle fix/free parameters within a group.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00721">ParameterHandlerGeneric.cpp:721</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_a528519fa142f686b07bb17887245ee1b"><div class="ttname"><a href="classParameterHandlerGeneric.html#a528519fa142f686b07bb17887245ee1b">ParameterHandlerGeneric::PrintSplineParams</a></div><div class="ttdeci">void PrintSplineParams()</div><div class="ttdoc">Prints spline parameters.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00570">ParameterHandlerGeneric.cpp:570</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_a55b99dcc79074929cad4b4187b83cc62"><div class="ttname"><a href="classParameterHandlerGeneric.html#a55b99dcc79074929cad4b4187b83cc62">ParameterHandlerGeneric::InitParams</a></div><div class="ttdeci">void InitParams()</div><div class="ttdoc">Initializes the systematic parameters from the configuration file. This function loads parameters lik...</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00424">ParameterHandlerGeneric.cpp:424</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_a5c0bc9ff4fd8d08bdbd192f161365220"><div class="ttname"><a href="classParameterHandlerGeneric.html#a5c0bc9ff4fd8d08bdbd192f161365220">ParameterHandlerGeneric::NormParams</a></div><div class="ttdeci">std::vector&lt; NormParameter &gt; NormParams</div><div class="ttdoc">Vector containing info for normalisation systematics.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8h_source.html#l00249">ParameterHandlerGeneric.h:249</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_a67955522a48b4e340981b5ec1ca3b0da"><div class="ttname"><a href="classParameterHandlerGeneric.html#a67955522a48b4e340981b5ec1ca3b0da">ParameterHandlerGeneric::_fSystToGlobalSystIndexMap</a></div><div class="ttdeci">std::vector&lt; std::map&lt; int, int &gt; &gt; _fSystToGlobalSystIndexMap</div><div class="ttdoc">Map between number of given parameter type with global parameter numbering. For example 2nd norm para...</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8h_source.html#l00243">ParameterHandlerGeneric.h:243</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_a6e412e6a3e8b954e1efcb97b03520f52"><div class="ttname"><a href="classParameterHandlerGeneric.html#a6e412e6a3e8b954e1efcb97b03520f52">ParameterHandlerGeneric::_fParamType</a></div><div class="ttdeci">std::vector&lt; SystType &gt; _fParamType</div><div class="ttdoc">Type of parameter like norm, spline etc.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8h_source.html#l00234">ParameterHandlerGeneric.h:234</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_a76c6cd8203e46471022893aa033e6da9"><div class="ttname"><a href="classParameterHandlerGeneric.html#a76c6cd8203e46471022893aa033e6da9">ParameterHandlerGeneric::PrintFunctionalParams</a></div><div class="ttdeci">void PrintFunctionalParams()</div><div class="ttdoc">Prints functional parameters.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00592">ParameterHandlerGeneric.cpp:592</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_a7bd990c506d4f8927fcdcb15d7c3d24b"><div class="ttname"><a href="classParameterHandlerGeneric.html#a7bd990c506d4f8927fcdcb15d7c3d24b">ParameterHandlerGeneric::CheckCorrectInitialisation</a></div><div class="ttdeci">void CheckCorrectInitialisation()</div><div class="ttdoc">KS: Check if matrix is correctly initialised.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00658">ParameterHandlerGeneric.cpp:658</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_a8d180d60b02dde0964c7d07c7cb241de"><div class="ttname"><a href="classParameterHandlerGeneric.html#a8d180d60b02dde0964c7d07c7cb241de">ParameterHandlerGeneric::PrintGlobablInfo</a></div><div class="ttdeci">void PrintGlobablInfo()</div><div class="ttdoc">Prints general information about the ParameterHandler object.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00477">ParameterHandlerGeneric.cpp:477</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_a8fd0e7d0d75f215005ddbee0b3533619"><div class="ttname"><a href="classParameterHandlerGeneric.html#a8fd0e7d0d75f215005ddbee0b3533619">ParameterHandlerGeneric::SetFreeGroupOnlyParameters</a></div><div class="ttdeci">void SetFreeGroupOnlyParameters(const std::string &amp;Group)</div><div class="ttdoc">TN Method to set parameters within a group to be treated as free.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00753">ParameterHandlerGeneric.cpp:753</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_a9066c2d7f9d6f118a96292c267ffefe0"><div class="ttname"><a href="classParameterHandlerGeneric.html#a9066c2d7f9d6f118a96292c267ffefe0">ParameterHandlerGeneric::GetNormParameter</a></div><div class="ttdeci">NormParameter GetNormParameter(const YAML::Node &amp;param, const int Index)</div><div class="ttdoc">Get Norm params.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00162">ParameterHandlerGeneric.cpp:162</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_a9361012fcab6b74dbd47711a94ba8db6"><div class="ttname"><a href="classParameterHandlerGeneric.html#a9361012fcab6b74dbd47711a94ba8db6">ParameterHandlerGeneric::InitParametersTypeFromConfig</a></div><div class="ttdeci">void InitParametersTypeFromConfig()</div><div class="ttdoc">Parses the YAML configuration to set up cross-section parameters. The YAML file defines the types of ...</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00026">ParameterHandlerGeneric.cpp:26</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_a982803878f2f6ee7a28c6b7f3fede8f8"><div class="ttname"><a href="classParameterHandlerGeneric.html#a982803878f2f6ee7a28c6b7f3fede8f8">ParameterHandlerGeneric::GetTypeParamsFromSampleName</a></div><div class="ttdeci">std::vector&lt; ParamT &gt; GetTypeParamsFromSampleName(const std::map&lt; int, int &gt; &amp;indexMap, const std::vector&lt; ParamT &gt; &amp;params, const std::string &amp;SampleName) const</div><div class="ttdoc">Retrieve parameters that apply to a given sample name.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00363">ParameterHandlerGeneric.cpp:363</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_a9c201ce36c40a731f23d9949009835b5"><div class="ttname"><a href="classParameterHandlerGeneric.html#a9c201ce36c40a731f23d9949009835b5">ParameterHandlerGeneric::FuncParams</a></div><div class="ttdeci">std::vector&lt; FunctionalParameter &gt; FuncParams</div><div class="ttdoc">Vector containing info for functional systematics.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8h_source.html#l00252">ParameterHandlerGeneric.h:252</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_aad56dc883ea817fae4b37608c018e61e"><div class="ttname"><a href="classParameterHandlerGeneric.html#aad56dc883ea817fae4b37608c018e61e">ParameterHandlerGeneric::OscParams</a></div><div class="ttdeci">std::vector&lt; OscillationParameter &gt; OscParams</div><div class="ttdoc">Vector containing info for functional systematics.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8h_source.html#l00255">ParameterHandlerGeneric.h:255</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_aad70f9b7c4c574c09a056693e3ecc0e0"><div class="ttname"><a href="classParameterHandlerGeneric.html#aad70f9b7c4c574c09a056693e3ecc0e0">ParameterHandlerGeneric::DumpMatrixToFile</a></div><div class="ttdeci">void DumpMatrixToFile(const std::string &amp;Name)</div><div class="ttdoc">Dump Matrix to ROOT file, useful when we need to pass matrix info to another fitting group.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00807">ParameterHandlerGeneric.cpp:807</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_ab1e11baf28cd23659897a4592e2ed2bd"><div class="ttname"><a href="classParameterHandlerGeneric.html#ab1e11baf28cd23659897a4592e2ed2bd">ParameterHandlerGeneric::GetParSplineInterpolation</a></div><div class="ttdeci">SplineInterpolation GetParSplineInterpolation(const int i) const</div><div class="ttdoc">Get interpolation type for a given parameter.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8h_source.html#l00040">ParameterHandlerGeneric.h:40</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_adf13e088be243075c9242228dea71edf"><div class="ttname"><a href="classParameterHandlerGeneric.html#adf13e088be243075c9242228dea71edf">ParameterHandlerGeneric::GetOscillationParameters</a></div><div class="ttdeci">OscillationParameter GetOscillationParameters(const YAML::Node &amp;param, const int Index)</div><div class="ttdoc">Get Osc params.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00332">ParameterHandlerGeneric.cpp:332</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_ae3afd3b02bbad68bbdd66f86a148eed9"><div class="ttname"><a href="classParameterHandlerGeneric.html#ae3afd3b02bbad68bbdd66f86a148eed9">ParameterHandlerGeneric::SetFixGroupOnlyParameters</a></div><div class="ttdeci">void SetFixGroupOnlyParameters(const std::string &amp;Group)</div><div class="ttdoc">TN Method to set parameters within a group to be fixed to their prior values.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00737">ParameterHandlerGeneric.cpp:737</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_ae708dcd0bbfac4a5dd599a5c536da62b"><div class="ttname"><a href="classParameterHandlerGeneric.html#ae708dcd0bbfac4a5dd599a5c536da62b">ParameterHandlerGeneric::IterateOverParams</a></div><div class="ttdeci">void IterateOverParams(const std::string &amp;SampleName, FilterFunc filter, ActionFunc action)</div><div class="ttdoc">Iterates over parameters and applies a filter and action function.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00414">ParameterHandlerGeneric.cpp:414</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_ae72a2e4c62d94ec7c6da96d21172cbc0"><div class="ttname"><a href="classParameterHandlerGeneric.html#ae72a2e4c62d94ec7c6da96d21172cbc0">ParameterHandlerGeneric::GetBaseParameter</a></div><div class="ttdeci">void GetBaseParameter(const YAML::Node &amp;param, const int Index, TypeParameterBase &amp;Parameter)</div><div class="ttdoc">Fill base parameters.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00218">ParameterHandlerGeneric.cpp:218</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_aeb3fea66be02cc59ca14af171e7dd746"><div class="ttname"><a href="classParameterHandlerGeneric.html#aeb3fea66be02cc59ca14af171e7dd746">ParameterHandlerGeneric::_ParameterGroup</a></div><div class="ttdeci">std::vector&lt; std::string &gt; _ParameterGroup</div><div class="ttdoc">KS: Allow to group parameters for example to affect only cross-section or only flux etc.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8h_source.html#l00240">ParameterHandlerGeneric.h:240</a></div></div>
<div class="ttc" id="aclassParameterHandlerGeneric_html_afff2f7a860031fb791e5f4538866fd9a"><div class="ttname"><a href="classParameterHandlerGeneric.html#afff2f7a860031fb791e5f4538866fd9a">ParameterHandlerGeneric::~ParameterHandlerGeneric</a></div><div class="ttdeci">~ParameterHandlerGeneric()</div><div class="ttdoc">Destructor.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00108">ParameterHandlerGeneric.cpp:108</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_ga042501dd3e6e0395d48b5d94a60eb7c7"><div class="ttname"><a href="group__ParameterHandlerGetters.html#ga042501dd3e6e0395d48b5d94a60eb7c7">ParameterHandlerBase::GetNumParams</a></div><div class="ttdeci">int GetNumParams() const</div><div class="ttdoc">Get total number of parameters.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8h_source.html#l00249">ParameterHandlerBase.h:249</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_ga1564cde885453c57312f769e57d627ac"><div class="ttname"><a href="group__ParameterHandlerGetters.html#ga1564cde885453c57312f769e57d627ac">ParameterHandlerGeneric::GetNormParsFromSampleName</a></div><div class="ttdeci">const std::vector&lt; NormParameter &gt; GetNormParsFromSampleName(const std::string &amp;SampleName) const</div><div class="ttdoc">DB Get norm/func parameters depending on given SampleName.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00349">ParameterHandlerGeneric.cpp:349</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_ga443f15a70ebeb62613c629b59447c503"><div class="ttname"><a href="group__ParameterHandlerGetters.html#ga443f15a70ebeb62613c629b59447c503">ParameterHandlerGeneric::GetParamType</a></div><div class="ttdeci">SystType GetParamType(const int i) const</div><div class="ttdoc">Returns enum describing our param type.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8h_source.html#l00036">ParameterHandlerGeneric.h:36</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_ga45b0e33d7f1016e2df09419969198e72"><div class="ttname"><a href="group__ParameterHandlerGetters.html#ga45b0e33d7f1016e2df09419969198e72">ParameterHandlerGeneric::GetSystIndexFromSampleName</a></div><div class="ttdeci">const std::vector&lt; int &gt; GetSystIndexFromSampleName(const std::string &amp;SampleName, const SystType Type) const</div><div class="ttdoc">Grab the index of the syst relative to global numbering.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00248">ParameterHandlerGeneric.cpp:248</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_ga58ccccc2b9a4280021e4663202612038"><div class="ttname"><a href="group__ParameterHandlerGetters.html#ga58ccccc2b9a4280021e4663202612038">ParameterHandlerGeneric::GetGlobalSystIndexFromSampleName</a></div><div class="ttdeci">const std::vector&lt; int &gt; GetGlobalSystIndexFromSampleName(const std::string &amp;SampleName, const SystType Type)</div><div class="ttdoc">DB Get spline parameters depending on given SampleName.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00233">ParameterHandlerGeneric.cpp:233</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_ga608ea55753c4528eb71ca2973eb3d026"><div class="ttname"><a href="group__ParameterHandlerGetters.html#ga608ea55753c4528eb71ca2973eb3d026">ParameterHandlerGeneric::GetParSplineKnotUpperBound</a></div><div class="ttdeci">double GetParSplineKnotUpperBound(const int i) const</div><div class="ttdoc">EM: value at which we cap spline knot weight.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8h_source.html#l00055">ParameterHandlerGeneric.h:55</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_ga65b61ae6c60d4eadbb06fdef9596cc7f"><div class="ttname"><a href="group__ParameterHandlerGetters.html#ga65b61ae6c60d4eadbb06fdef9596cc7f">ParameterHandlerBase::GetParFancyName</a></div><div class="ttdeci">std::string GetParFancyName(const int i) const</div><div class="ttdoc">Get fancy name of the Parameter.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8h_source.html#l00175">ParameterHandlerBase.h:175</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_ga6745aac0b811863722e4030421adee92"><div class="ttname"><a href="group__ParameterHandlerGetters.html#ga6745aac0b811863722e4030421adee92">ParameterHandlerBase::GetCorrelationMatrix</a></div><div class="ttdeci">TH2D * GetCorrelationMatrix()</div><div class="ttdoc">KS: Convert covariance matrix to correlation matrix and return TH2D which can be used for fancy plott...</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerBase_8cpp_source.html#l01400">ParameterHandlerBase.cpp:1400</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_ga7e379966e0b525d3f0fea0f3be669ae5"><div class="ttname"><a href="group__ParameterHandlerGetters.html#ga7e379966e0b525d3f0fea0f3be669ae5">ParameterHandlerGeneric::GetParsIndexFromSampleName</a></div><div class="ttdeci">const std::vector&lt; int &gt; GetParsIndexFromSampleName(const std::string &amp;SampleName, const SystType Type)</div><div class="ttdoc">DB Grab the parameter indices for the relevant SampleName.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00402">ParameterHandlerGeneric.cpp:402</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_ga819070e379db0ddec32c5a87c67d6bdb"><div class="ttname"><a href="group__ParameterHandlerGetters.html#ga819070e379db0ddec32c5a87c67d6bdb">ParameterHandlerGeneric::GetSplineParsFromSampleName</a></div><div class="ttdeci">const std::vector&lt; SplineParameter &gt; GetSplineParsFromSampleName(const std::string &amp;SampleName) const</div><div class="ttdoc">KS: Grab the Spline parameters for the relevant SampleName.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00356">ParameterHandlerGeneric.cpp:356</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_ga8f819bf0ef53544c864649d05479d95c"><div class="ttname"><a href="group__ParameterHandlerGetters.html#ga8f819bf0ef53544c864649d05479d95c">ParameterHandlerGeneric::GetFunctionalParametersFromSampleName</a></div><div class="ttdeci">const std::vector&lt; FunctionalParameter &gt; GetFunctionalParametersFromSampleName(const std::string &amp;SampleName) const</div><div class="ttdoc">HH Get functional parameters for the relevant SampleName.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00342">ParameterHandlerGeneric.cpp:342</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_ga9b25b6f2f2d032d086963293eeb981c4"><div class="ttname"><a href="group__ParameterHandlerGetters.html#ga9b25b6f2f2d032d086963293eeb981c4">ParameterHandlerGeneric::GetNumParamsFromSampleName</a></div><div class="ttdeci">int GetNumParamsFromSampleName(const std::string &amp;SampleName, const SystType Type)</div><div class="ttdoc">DB Grab the number of parameters for the relevant SampleName.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00378">ParameterHandlerGeneric.cpp:378</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_ga9b36c926e52b06b2b49df1deb7630151"><div class="ttname"><a href="group__ParameterHandlerGetters.html#ga9b36c926e52b06b2b49df1deb7630151">ParameterHandlerGeneric::GetParsNamesFromSampleName</a></div><div class="ttdeci">const std::vector&lt; std::string &gt; GetParsNamesFromSampleName(const std::string &amp;SampleName, const SystType Type)</div><div class="ttdoc">DB Grab the parameter names for the relevant SampleName.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00390">ParameterHandlerGeneric.cpp:390</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_gad72d3b78e073145d84318bbd4fae542f"><div class="ttname"><a href="group__ParameterHandlerGetters.html#gad72d3b78e073145d84318bbd4fae542f">ParameterHandlerGeneric::GetUniqueParameterGroups</a></div><div class="ttdeci">std::vector&lt; std::string &gt; GetUniqueParameterGroups()</div><div class="ttdoc">KS: Get names of all unique parameter groups.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00642">ParameterHandlerGeneric.cpp:642</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_gadc9644bbd41005c36945bc9504ef91fd"><div class="ttname"><a href="group__ParameterHandlerGetters.html#gadc9644bbd41005c36945bc9504ef91fd">ParameterHandlerGeneric::GetSplineParsNamesFromSampleName</a></div><div class="ttdeci">const std::vector&lt; std::string &gt; GetSplineParsNamesFromSampleName(const std::string &amp;SampleName)</div><div class="ttdoc">DB Get spline parameters depending on given SampleName.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00115">ParameterHandlerGeneric.cpp:115</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_gae10980fefe473ec6a9875dad17dea334"><div class="ttname"><a href="group__ParameterHandlerGetters.html#gae10980fefe473ec6a9875dad17dea334">ParameterHandlerGeneric::IsParFromGroup</a></div><div class="ttdeci">bool IsParFromGroup(const int i, const std::string &amp;Group) const</div><div class="ttdoc">Checks if parameter belongs to a given group.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00769">ParameterHandlerGeneric.cpp:769</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_gaedc568e5a86735a4b3d823d204431f99"><div class="ttname"><a href="group__ParameterHandlerGetters.html#gaedc568e5a86735a4b3d823d204431f99">ParameterHandlerGeneric::GetSplineInterpolationFromSampleName</a></div><div class="ttdeci">const std::vector&lt; SplineInterpolation &gt; GetSplineInterpolationFromSampleName(const std::string &amp;SampleName)</div><div class="ttdoc">Get the interpolation types for splines affecting a particular SampleName.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00129">ParameterHandlerGeneric.cpp:129</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_gaf22a9af6dac17b9824a1accaccb93610"><div class="ttname"><a href="group__ParameterHandlerGetters.html#gaf22a9af6dac17b9824a1accaccb93610">ParameterHandlerGeneric::GetParSplineKnotLowerBound</a></div><div class="ttdeci">double GetParSplineKnotLowerBound(const int i) const</div><div class="ttdoc">EM: value at which we cap spline knot weight.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8h_source.html#l00059">ParameterHandlerGeneric.h:59</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_gaf23d9cf44cd74cd00db919880d4ca913"><div class="ttname"><a href="group__ParameterHandlerGetters.html#gaf23d9cf44cd74cd00db919880d4ca913">ParameterHandlerGeneric::GetOscParsFromSampleName</a></div><div class="ttdeci">std::vector&lt; const double * &gt; GetOscParsFromSampleName(const std::string &amp;SampleName)</div><div class="ttdoc">Get pointers to Osc params from Sample name.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00793">ParameterHandlerGeneric.cpp:793</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_gaf39a139867ff4837b7c6845636c9dcdc"><div class="ttname"><a href="group__ParameterHandlerGetters.html#gaf39a139867ff4837b7c6845636c9dcdc">ParameterHandlerGeneric::GetSplineModeVecFromSampleName</a></div><div class="ttdeci">const std::vector&lt; std::vector&lt; int &gt; &gt; GetSplineModeVecFromSampleName(const std::string &amp;SampleName)</div><div class="ttdoc">DB Grab the Spline Modes for the relevant SampleName.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00145">ParameterHandlerGeneric.cpp:145</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_gaf69c5edfc994fa7c371e92b204ae6ba4"><div class="ttname"><a href="group__ParameterHandlerGetters.html#gaf69c5edfc994fa7c371e92b204ae6ba4">ParameterHandlerGeneric::GetNumParFromGroup</a></div><div class="ttdeci">int GetNumParFromGroup(const std::string &amp;Group) const</div><div class="ttdoc">KS: Check how many parameters are associated with given group.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00782">ParameterHandlerGeneric.cpp:782</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerSetters_html_ga6e373084bee94b52997b759f3aefa5e1"><div class="ttname"><a href="group__ParameterHandlerSetters.html#ga6e373084bee94b52997b759f3aefa5e1">ParameterHandlerGeneric::SetGroupOnlyParameters</a></div><div class="ttdeci">void SetGroupOnlyParameters(const std::string &amp;Group, const std::vector&lt; double &gt; &amp;Pars={})</div><div class="ttdoc">KS Function to set to prior parameters of a given group or values from vector.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterHandlerGeneric_8cpp_source.html#l00690">ParameterHandlerGeneric.cpp:690</a></div></div>
<div class="ttc" id="anamespaceM3_html_a177312c75e0c69358c89524fc1b06817"><div class="ttname"><a href="namespaceM3.html#a177312c75e0c69358c89524fc1b06817">M3::DefSplineKnotUpBound</a></div><div class="ttdeci">constexpr static const double DefSplineKnotUpBound</div><div class="ttdoc">Default value for spline knot capping, default mean not capping is being applied.</div><div class="ttdef"><b>Definition:</b> <a href="Core_8h_source.html#l00086">Core.h:86</a></div></div>
<div class="ttc" id="anamespaceM3_html_a5845b81afc8b4028a72375d5da27bf3b"><div class="ttname"><a href="namespaceM3.html#a5845b81afc8b4028a72375d5da27bf3b">M3::DefSplineKnotLowBound</a></div><div class="ttdeci">constexpr static const double DefSplineKnotLowBound</div><div class="ttdoc">Default value for spline knot capping, default mean not capping is being applied.</div><div class="ttdef"><b>Definition:</b> <a href="Core_8h_source.html#l00088">Core.h:88</a></div></div>
<div class="ttc" id="astructFunctionalParameter_html"><div class="ttname"><a href="structFunctionalParameter.html">FunctionalParameter</a></div><div class="ttdoc">HH - Functional parameters Carrier for whether you want to apply a systematic to an event or not.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00201">ParameterStructs.h:201</a></div></div>
<div class="ttc" id="astructFunctionalParameter_html_a443cac0801c6836746927c9e379f4359"><div class="ttname"><a href="structFunctionalParameter.html#a443cac0801c6836746927c9e379f4359">FunctionalParameter::modes</a></div><div class="ttdeci">std::vector&lt; int &gt; modes</div><div class="ttdoc">Mode which parameter applies to.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00204">ParameterStructs.h:204</a></div></div>
<div class="ttc" id="astructFunctionalParameter_html_a46d6aa97d8c30fa2da877ab73f3f52f3"><div class="ttname"><a href="structFunctionalParameter.html#a46d6aa97d8c30fa2da877ab73f3f52f3">FunctionalParameter::KinematicVarStr</a></div><div class="ttdeci">std::vector&lt; std::string &gt; KinematicVarStr</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00223">ParameterStructs.h:223</a></div></div>
<div class="ttc" id="astructFunctionalParameter_html_a4be18ce2fe67e89237f74d5e54b04a09"><div class="ttname"><a href="structFunctionalParameter.html#a4be18ce2fe67e89237f74d5e54b04a09">FunctionalParameter::valuePtr</a></div><div class="ttdeci">const double * valuePtr</div><div class="ttdoc">Parameter value pointer.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00226">ParameterStructs.h:226</a></div></div>
<div class="ttc" id="astructFunctionalParameter_html_a76af17874ac4d58d37b9b94cf5e96421"><div class="ttname"><a href="structFunctionalParameter.html#a76af17874ac4d58d37b9b94cf5e96421">FunctionalParameter::targets</a></div><div class="ttdeci">std::vector&lt; int &gt; targets</div><div class="ttdoc">Targets which parameter applies to.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00212">ParameterStructs.h:212</a></div></div>
<div class="ttc" id="astructFunctionalParameter_html_a9ac723d8cbffaa9adc498942d3c9d7c0"><div class="ttname"><a href="structFunctionalParameter.html#a9ac723d8cbffaa9adc498942d3c9d7c0">FunctionalParameter::pdgs</a></div><div class="ttdeci">std::vector&lt; int &gt; pdgs</div><div class="ttdoc">PDG which parameter applies to.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00208">ParameterStructs.h:208</a></div></div>
<div class="ttc" id="astructFunctionalParameter_html_ab261275fa24252faef37cfb296fcba57"><div class="ttname"><a href="structFunctionalParameter.html#ab261275fa24252faef37cfb296fcba57">FunctionalParameter::Selection</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; std::vector&lt; double &gt; &gt; &gt; Selection</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00217">ParameterStructs.h:217</a></div></div>
<div class="ttc" id="astructFunctionalParameter_html_ab78004793d47bdf387052023dfbfddc9"><div class="ttname"><a href="structFunctionalParameter.html#ab78004793d47bdf387052023dfbfddc9">FunctionalParameter::preoscpdgs</a></div><div class="ttdeci">std::vector&lt; int &gt; preoscpdgs</div><div class="ttdoc">Preosc PDG which parameter applies to.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00210">ParameterStructs.h:210</a></div></div>
<div class="ttc" id="astructNormParameter_html"><div class="ttname"><a href="structNormParameter.html">NormParameter</a></div><div class="ttdoc">ETA - Normalisations for cross-section parameters Carrier for whether you want to apply a systematic ...</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00172">ParameterStructs.h:172</a></div></div>
<div class="ttc" id="astructNormParameter_html_a07f0e59f4c9a969b8851e37c5b4e28b4"><div class="ttname"><a href="structNormParameter.html#a07f0e59f4c9a969b8851e37c5b4e28b4">NormParameter::preoscpdgs</a></div><div class="ttdeci">std::vector&lt; int &gt; preoscpdgs</div><div class="ttdoc">Preosc PDG which parameter applies to.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00180">ParameterStructs.h:180</a></div></div>
<div class="ttc" id="astructNormParameter_html_a3548401cd1640c97be51bf878ef853fc"><div class="ttname"><a href="structNormParameter.html#a3548401cd1640c97be51bf878ef853fc">NormParameter::hasKinBounds</a></div><div class="ttdeci">bool hasKinBounds</div><div class="ttdoc">Does this parameter have kinematic bounds.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00184">ParameterStructs.h:184</a></div></div>
<div class="ttc" id="astructNormParameter_html_a376a05a04e63c7dd2bf12e940925223c"><div class="ttname"><a href="structNormParameter.html#a376a05a04e63c7dd2bf12e940925223c">NormParameter::Selection</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; std::vector&lt; double &gt; &gt; &gt; Selection</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00187">ParameterStructs.h:187</a></div></div>
<div class="ttc" id="astructNormParameter_html_a68a2f690b1226fe6090b18fd0af47057"><div class="ttname"><a href="structNormParameter.html#a68a2f690b1226fe6090b18fd0af47057">NormParameter::modes</a></div><div class="ttdeci">std::vector&lt; int &gt; modes</div><div class="ttdoc">Mode which parameter applies to.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00174">ParameterStructs.h:174</a></div></div>
<div class="ttc" id="astructNormParameter_html_a7f6ae54467bd8b8541e1dd5314610a1a"><div class="ttname"><a href="structNormParameter.html#a7f6ae54467bd8b8541e1dd5314610a1a">NormParameter::pdgs</a></div><div class="ttdeci">std::vector&lt; int &gt; pdgs</div><div class="ttdoc">PDG which parameter applies to.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00178">ParameterStructs.h:178</a></div></div>
<div class="ttc" id="astructNormParameter_html_a8d05813ef3311f38396bd7c9208248f9"><div class="ttname"><a href="structNormParameter.html#a8d05813ef3311f38396bd7c9208248f9">NormParameter::KinematicVarStr</a></div><div class="ttdeci">std::vector&lt; std::string &gt; KinematicVarStr</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00193">ParameterStructs.h:193</a></div></div>
<div class="ttc" id="astructNormParameter_html_ae2c0218617a00ed886ca7f697b4140eb"><div class="ttname"><a href="structNormParameter.html#ae2c0218617a00ed886ca7f697b4140eb">NormParameter::targets</a></div><div class="ttdeci">std::vector&lt; int &gt; targets</div><div class="ttdoc">Targets which parameter applies to.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00182">ParameterStructs.h:182</a></div></div>
<div class="ttc" id="astructOscillationParameter_html"><div class="ttname"><a href="structOscillationParameter.html">OscillationParameter</a></div><div class="ttdoc">KS: Struct holding info about oscillation Systematics.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00399">ParameterStructs.h:399</a></div></div>
<div class="ttc" id="astructSplineParameter_html"><div class="ttname"><a href="structSplineParameter.html">SplineParameter</a></div><div class="ttdoc">KS: Struct holding info about Spline Systematics.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00353">ParameterStructs.h:353</a></div></div>
<div class="ttc" id="astructSplineParameter_html_a20f0571e0eb14ad8e6b2cd66ec63a155"><div class="ttname"><a href="structSplineParameter.html#a20f0571e0eb14ad8e6b2cd66ec63a155">SplineParameter::_SplineInterpolationType</a></div><div class="ttdeci">SplineInterpolation _SplineInterpolationType</div><div class="ttdoc">Spline interpolation vector.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00356">ParameterStructs.h:356</a></div></div>
<div class="ttc" id="astructSplineParameter_html_a27f7059791f0e1082d7eb854d145b41f"><div class="ttname"><a href="structSplineParameter.html#a27f7059791f0e1082d7eb854d145b41f">SplineParameter::_SplineKnotUpBound</a></div><div class="ttdeci">double _SplineKnotUpBound</div><div class="ttdoc">EM: Cap spline knot higher value.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00364">ParameterStructs.h:364</a></div></div>
<div class="ttc" id="astructSplineParameter_html_a3124f511b9b9033267d17e96f9c05937"><div class="ttname"><a href="structSplineParameter.html#a3124f511b9b9033267d17e96f9c05937">SplineParameter::_SplineKnotLowBound</a></div><div class="ttdeci">double _SplineKnotLowBound</div><div class="ttdoc">EM: Cap spline knot lower value.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00362">ParameterStructs.h:362</a></div></div>
<div class="ttc" id="astructSplineParameter_html_a3e2dacc950ff0c52fca0643a83824f82"><div class="ttname"><a href="structSplineParameter.html#a3e2dacc950ff0c52fca0643a83824f82">SplineParameter::_fSplineModes</a></div><div class="ttdeci">std::vector&lt; int &gt; _fSplineModes</div><div class="ttdoc">Modes to which spline applies (valid only for binned splines)</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00359">ParameterStructs.h:359</a></div></div>
<div class="ttc" id="astructTypeParameterBase_html"><div class="ttname"><a href="structTypeParameterBase.html">TypeParameterBase</a></div><div class="ttdoc">Base class storing info for parameters types, helping unify codebase.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00160">ParameterStructs.h:160</a></div></div>
<div class="ttc" id="astructTypeParameterBase_html_a5723f938e8838c5742c841a38931f9bc"><div class="ttname"><a href="structTypeParameterBase.html#a5723f938e8838c5742c841a38931f9bc">TypeParameterBase::index</a></div><div class="ttdeci">int index</div><div class="ttdoc">Parameter number of this normalisation in current systematic model.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00166">ParameterStructs.h:166</a></div></div>
<div class="ttc" id="astructTypeParameterBase_html_a9cec220ee7904196cc6a7d98c2b061f8"><div class="ttname"><a href="structTypeParameterBase.html#a9cec220ee7904196cc6a7d98c2b061f8">TypeParameterBase::name</a></div><div class="ttdeci">std::string name</div><div class="ttdoc">Name of parameters.</div><div class="ttdef"><b>Definition:</b> <a href="ParameterStructs_8h_source.html#l00163">ParameterStructs.h:163</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- Footer for MaCh3 Doxygen documentation -->
<footer class="mach3-footer" style="text-align: center;">
    <div style="margin-bottom: 15px;">
        <span style="font-weight: bold;">The MaCh3 Collaboration</span>
    </div>
    <!-- Dropdown to jump between doc versions -->
    <div style="margin-bottom: 10px;">
        <span>Select Software Version: </span>
        <select id="versionSelector" onchange="window.location.href=this.value" style="padding: 5px; border-radius: 4px; border: 1px solid #ccc;">
            <option value="">-- Select --</option>
            <option value="https://mach3-software.github.io/MaCh3/">develop</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v2.3.0/index.html">v2.3.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v2.2.0/index.html">v2.2.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v2.1.0/index.html">v2.1.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v2.0.0/index.html">v2.0.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v1.5.0/index.html">v1.5.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v1.4.0/index.html">v1.4.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v1.3.0/index.html">v1.3.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v1.2.0/index.html">v1.2.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v1.1.0/index.html">v1.1.0</option>
        </select>
    </div>
    <!-- Footer info about doxygen -->
    <div style="font-size: 0.9em; color: #666; margin-top: 10px;">
        Documentation generated with
        <a href="https://www.doxygen.nl/" target="_blank" style="color: #666;">Doxygen</a>
        <span id="doxygenVersion"></span>
    </div>
    <!-- Now grab doxygen version from metadata -->
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        const meta = document.querySelector('meta[name="generator"]');
        if (meta) {
            const version = meta.getAttribute("content").replace("Doxygen ", "");
            document.getElementById("doxygenVersion").textContent = " " + version;
        }
    });
    </script>
</footer>

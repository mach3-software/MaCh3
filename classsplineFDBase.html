<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MaCh3: splineFDBase Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="MaCh3.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="mach3logo_small.png"/></td>
  <td id="projectalign">
   <div id="projectname">MaCh3<span id="projectnumber">&#160;1.3.2</span>
   </div>
   <div id="projectbrief">Reference Guide</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classsplineFDBase-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">splineFDBase Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>Bin-by-bin class calculating response for spline parameters.  
 <a href="classsplineFDBase.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="splineFDBase_8h_source.html">splines/splineFDBase.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for splineFDBase:</div>
<div class="dyncontent">
<div class="center"><img src="classsplineFDBase__inherit__graph.png" border="0" usemap="#asplineFDBase_inherit__map" alt="Inheritance graph"/></div>
<map name="asplineFDBase_inherit__map" id="asplineFDBase_inherit__map">
<area shape="rect" title="Bin&#45;by&#45;bin class calculating response for spline parameters." alt="" coords="5,79,116,104"/>
<area shape="rect" href="classSplineBase.html" title="Base class for calculating weight from spline." alt="" coords="13,5,108,31"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for splineFDBase:</div>
<div class="dyncontent">
<div class="center"><img src="classsplineFDBase__coll__graph.png" border="0" usemap="#asplineFDBase_coll__map" alt="Collaboration graph"/></div>
<map name="asplineFDBase_coll__map" id="asplineFDBase_coll__map">
<area shape="rect" title="Bin&#45;by&#45;bin class calculating response for spline parameters." alt="" coords="2383,1302,2493,1328"/>
<area shape="rect" href="classSplineBase.html" title="Base class for calculating weight from spline." alt="" coords="1999,16,2094,41"/>
<area shape="rect" href="classcovarianceXsec.html" title="Class responsible for handling of systematic error parameters with different types defined in the con..." alt="" coords="1985,733,2109,758"/>
<area shape="rect" href="classcovarianceBase.html" title="Base class responsible for handling of systematic error parameters. Capable of using PCA or using ada..." alt="" coords="1076,754,1201,780"/>
<area shape="rect" title=" " alt="" coords="259,176,346,201"/>
<area shape="rect" title=" " alt="" coords="653,124,840,149"/>
<area shape="rect" href="structXsecNorms4.html" title="ETA &#45; Normalisations for cross&#45;section parameters Carrier for whether you want to apply a systematic ..." alt="" coords="1087,224,1191,249"/>
<area shape="rect" title=" " alt="" coords="5,168,144,208"/>
<area shape="rect" title=" " alt="" coords="659,314,834,354"/>
<area shape="rect" title=" " alt="" coords="220,620,385,645"/>
<area shape="rect" href="classPCAHandler.html" title="Class responsible for handling Principal Component Analysis (PCA) of covariance matrix." alt="" coords="697,724,796,749"/>
<area shape="rect" href="classadaptive__mcmc_1_1AdaptiveMCMCHandler.html" title="Contains information about adaptive covariance matrix ." alt="" coords="604,838,889,864"/>
<area shape="rect" title=" " alt="" coords="657,774,836,814"/>
<area shape="rect" title=" " alt="" coords="193,788,412,813"/>
<area shape="rect" title=" " alt="" coords="672,952,821,977"/>
<area shape="rect" title=" " alt="" coords="233,954,372,980"/>
<area shape="rect" href="structXsecSplines1.html" title="KS: Struct holding info about Spline Systematics." alt="" coords="693,1053,801,1078"/>
<area shape="rect" title=" " alt="" coords="1493,644,1672,669"/>
<area shape="rect" title=" " alt="" coords="1501,694,1664,734"/>
<area shape="rect" title=" " alt="" coords="1063,701,1214,726"/>
<area shape="rect" title=" " alt="" coords="1251,922,1457,948"/>
<area shape="rect" title=" " alt="" coords="1481,434,1684,460"/>
<area shape="rect" title=" " alt="" coords="1959,1154,2134,1194"/>
<area shape="rect" title=" " alt="" coords="1495,1260,1670,1300"/>
<area shape="rect" title=" " alt="" coords="1955,1359,2138,1399"/>
<area shape="rect" title=" " alt="" coords="1941,1295,2153,1335"/>
<area shape="rect" title=" " alt="" coords="1951,1423,2142,1463"/>
<area shape="rect" title=" " alt="" coords="1959,1487,2134,1527"/>
<area shape="rect" title=" " alt="" coords="1487,1524,1678,1549"/>
<area shape="rect" title=" " alt="" coords="1925,1614,2168,1683"/>
<area shape="rect" title=" " alt="" coords="1965,1707,2128,1747"/>
<area shape="rect" href="classTSpline3__red.html" title="CW: Reduced TSpline3 class." alt="" coords="1529,1714,1636,1740"/>
<area shape="rect" href="classTResponseFunction__red.html" title="KS: A reduced ResponseFunction Generic function used for evaluating weight." alt="" coords="1051,1714,1227,1740"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a089883fce1a3f4180e3156215fb9c38a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a089883fce1a3f4180e3156215fb9c38a">splineFDBase</a> (<a class="el" href="classcovarianceXsec.html">covarianceXsec</a> *xsec_=NULL)</td></tr>
<tr class="memdesc:a089883fce1a3f4180e3156215fb9c38a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <br /></td></tr>
<tr class="separator:a089883fce1a3f4180e3156215fb9c38a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16c33124874a336255a3cba480b835c2"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a16c33124874a336255a3cba480b835c2">~splineFDBase</a> ()</td></tr>
<tr class="memdesc:a16c33124874a336255a3cba480b835c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <br /></td></tr>
<tr class="separator:a16c33124874a336255a3cba480b835c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a281be56a824e5057044e4ab1b073bc9d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a281be56a824e5057044e4ab1b073bc9d">SetupSplines</a> ()</td></tr>
<tr class="separator:a281be56a824e5057044e4ab1b073bc9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91521064517b5e4f0232570e6746bdf7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a91521064517b5e4f0232570e6746bdf7">SetupSplines</a> (int BinningOpt)</td></tr>
<tr class="separator:a91521064517b5e4f0232570e6746bdf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6e248be25f753c85c4fbf2f3b72cf88"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#af6e248be25f753c85c4fbf2f3b72cf88">Evaluate</a> ()</td></tr>
<tr class="memdesc:af6e248be25f753c85c4fbf2f3b72cf88"><td class="mdescLeft">&#160;</td><td class="mdescRight">CW: This Eval should be used when using two separate x,{y,a,b,c,d} arrays to store the weights; probably the best one here! Same thing but pass parameter spline segments instead of variations.  <br /></td></tr>
<tr class="separator:af6e248be25f753c85c4fbf2f3b72cf88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a464e0baa86158e9ffcc6918359da3b30"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a464e0baa86158e9ffcc6918359da3b30">AddSample</a> (std::string SampleName, int DetID, std::vector&lt; std::string &gt; OscChanFileNames, std::vector&lt; std::string &gt; SplineVarNames)</td></tr>
<tr class="separator:a464e0baa86158e9ffcc6918359da3b30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d1872fe4be72c735bd55fa00e1674b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a6d1872fe4be72c735bd55fa00e1674b8">TransferToMonolith</a> ()</td></tr>
<tr class="separator:a6d1872fe4be72c735bd55fa00e1674b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e765571776f8affeca355a184fef11a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a6e765571776f8affeca355a184fef11a">cleanUpMemory</a> ()</td></tr>
<tr class="separator:a6e765571776f8affeca355a184fef11a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addabdf30ee85c6975422c0ccf3f1844f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#addabdf30ee85c6975422c0ccf3f1844f">FillSampleArray</a> (std::string SampleName, std::vector&lt; std::string &gt; OscChanFileNames)=0</td></tr>
<tr class="separator:addabdf30ee85c6975422c0ccf3f1844f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62f37395f7b1eb73c3ad0a1204bb3c2d"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; std::vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a62f37395f7b1eb73c3ad0a1204bb3c2d">StripDuplicatedModes</a> (std::vector&lt; std::vector&lt; int &gt; &gt; InputVector)=0</td></tr>
<tr class="memdesc:a62f37395f7b1eb73c3ad0a1204bb3c2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if there are any repeated modes. This is used to reduce the number of modes in case many interaction modes get averaged into one spline.  <br /></td></tr>
<tr class="separator:a62f37395f7b1eb73c3ad0a1204bb3c2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6395bf5a4506f584661b36fbc32b3ca"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; std::vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#aa6395bf5a4506f584661b36fbc32b3ca">GetEventSplines</a> (std::string SampleName, int iOscChan, int EventMode, double Var1Val, double Var2Val, double Var3Val)=0</td></tr>
<tr class="memdesc:aa6395bf5a4506f584661b36fbc32b3ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the splines which affect a given event.  <br /></td></tr>
<tr class="separator:aa6395bf5a4506f584661b36fbc32b3ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00c0e93b4c4799ffacaa58578e5dcf6b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; TAxis * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a00c0e93b4c4799ffacaa58578e5dcf6b">FindSplineBinning</a> (std::string FileName, std::string SampleName)</td></tr>
<tr class="separator:a00c0e93b4c4799ffacaa58578e5dcf6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bfc616fab953333e6e938de52ce3bed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a0bfc616fab953333e6e938de52ce3bed">CountNumberOfLoadedSplines</a> (bool NonFlat=false, int Verbosity=0)</td></tr>
<tr class="separator:a0bfc616fab953333e6e938de52ce3bed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa37a0f892b96f6b0e3b6b7aa847e94cb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#aa37a0f892b96f6b0e3b6b7aa847e94cb">getNDim</a> (int BinningOpt)</td></tr>
<tr class="separator:aa37a0f892b96f6b0e3b6b7aa847e94cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85302df644fb84ff00201624c454636f"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a85302df644fb84ff00201624c454636f">getDimLabel</a> (int BinningOpt, unsigned int Axis)</td></tr>
<tr class="separator:a85302df644fb84ff00201624c454636f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d19b4bd235644d4c6a1ca6d589be6ca"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a2d19b4bd235644d4c6a1ca6d589be6ca">getSampleIndex</a> (std::string SampleName)</td></tr>
<tr class="separator:a2d19b4bd235644d4c6a1ca6d589be6ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66addf83262b03969d0b3b89737a42b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#ae66addf83262b03969d0b3b89737a42b">isValidSplineIndex</a> (std::string SampleName, int iSyst, int iOscChan, int iMode, int iVar1, int iVar2, int iVar3)</td></tr>
<tr class="separator:ae66addf83262b03969d0b3b89737a42b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa699bd90abc662ce3af907733b3b704"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#aaa699bd90abc662ce3af907733b3b704">BuildSampleIndexingArray</a> (std::string SampleName)</td></tr>
<tr class="separator:aaa699bd90abc662ce3af907733b3b704"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2eb495f4d63c9e4ee10b97c47e982b28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a2eb495f4d63c9e4ee10b97c47e982b28">PrepForReweight</a> ()</td></tr>
<tr class="separator:a2eb495f4d63c9e4ee10b97c47e982b28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b7b34479c3240a9827d6a0b5b7da4b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a8b7b34479c3240a9827d6a0b5b7da4b4">getSplineCoeff_SepMany</a> (int splineindex, <a class="el" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> *&amp;xArray, <a class="el" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> *&amp;manyArray)</td></tr>
<tr class="separator:a8b7b34479c3240a9827d6a0b5b7da4b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f5b16b65dc7da748f20bdc803b7e593"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a7f5b16b65dc7da748f20bdc803b7e593">PrintBinning</a> (TAxis *Axis)</td></tr>
<tr class="separator:a7f5b16b65dc7da748f20bdc803b7e593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ff003d3c05fe8a6f9723557910b7a90"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a7ff003d3c05fe8a6f9723557910b7a90">PrintSampleDetails</a> (std::string SampleName)</td></tr>
<tr class="separator:a7ff003d3c05fe8a6f9723557910b7a90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee80975a1a2892b61fb27b2044e7c9bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#aee80975a1a2892b61fb27b2044e7c9bc">PrintArrayDetails</a> (std::string SampleName)</td></tr>
<tr class="separator:aee80975a1a2892b61fb27b2044e7c9bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1f9479d702cfee2d0e5ea7edd2aca81"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#ab1f9479d702cfee2d0e5ea7edd2aca81">PrintArrayDimension</a> ()</td></tr>
<tr class="separator:ab1f9479d702cfee2d0e5ea7edd2aca81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedee1561e7995e4f876c1e544fa7b591"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#aedee1561e7995e4f876c1e544fa7b591">retPointer</a> (int sample, int oscchan, int syst, int mode, int var1bin, int var2bin, int var3bin)</td></tr>
<tr class="separator:aedee1561e7995e4f876c1e544fa7b591"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classSplineBase"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classSplineBase')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classSplineBase.html">SplineBase</a></td></tr>
<tr class="memitem:aa6965d1522cc68ecf81ac3bfd2dcd6f1 inherit pub_methods_classSplineBase"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSplineBase.html#aa6965d1522cc68ecf81ac3bfd2dcd6f1">SplineBase</a> ()</td></tr>
<tr class="memdesc:aa6965d1522cc68ecf81ac3bfd2dcd6f1 inherit pub_methods_classSplineBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <br /></td></tr>
<tr class="separator:aa6965d1522cc68ecf81ac3bfd2dcd6f1 inherit pub_methods_classSplineBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0de19b2322edb4197380506d594456bd inherit pub_methods_classSplineBase"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSplineBase.html#a0de19b2322edb4197380506d594456bd">~SplineBase</a> ()</td></tr>
<tr class="memdesc:a0de19b2322edb4197380506d594456bd inherit pub_methods_classSplineBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <br /></td></tr>
<tr class="separator:a0de19b2322edb4197380506d594456bd inherit pub_methods_classSplineBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86e629f3eef59b2f3800136c86fe90c3 inherit pub_methods_classSplineBase"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSplineBase.html#a86e629f3eef59b2f3800136c86fe90c3">Evaluate</a> ()=0</td></tr>
<tr class="memdesc:a86e629f3eef59b2f3800136c86fe90c3 inherit pub_methods_classSplineBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">CW: This Eval should be used when using two separate x,{y,a,b,c,d} arrays to store the weights; probably the best one here! Same thing but pass parameter spline segments instead of variations.  <br /></td></tr>
<tr class="separator:a86e629f3eef59b2f3800136c86fe90c3 inherit pub_methods_classSplineBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e1534f622ae1976b21df1ebf984eec5 inherit pub_methods_classSplineBase"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSplineBase.html#a2e1534f622ae1976b21df1ebf984eec5">GetName</a> () const</td></tr>
<tr class="memdesc:a2e1534f622ae1976b21df1ebf984eec5 inherit pub_methods_classSplineBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get class name.  <br /></td></tr>
<tr class="separator:a2e1534f622ae1976b21df1ebf984eec5 inherit pub_methods_classSplineBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ab4a852337aab961abbcaa0c9f70c88ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#ab4a852337aab961abbcaa0c9f70c88ba">FindSplineSegment</a> () override</td></tr>
<tr class="memdesc:ab4a852337aab961abbcaa0c9f70c88ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">CW:Code used in step by step reweighting, Find Spline Segment for each param.  <br /></td></tr>
<tr class="separator:ab4a852337aab961abbcaa0c9f70c88ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eceab58c0aa06b58eb4e3708c00ee0e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a9eceab58c0aa06b58eb4e3708c00ee0e">CalcSplineWeights</a> () override</td></tr>
<tr class="memdesc:a9eceab58c0aa06b58eb4e3708c00ee0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">CPU based code which eval weight for each spline.  <br /></td></tr>
<tr class="separator:a9eceab58c0aa06b58eb4e3708c00ee0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a237a8b8c3c165c82ebe15d2ca740c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a1a237a8b8c3c165c82ebe15d2ca740c7">ModifyWeights</a> () override</td></tr>
<tr class="memdesc:a1a237a8b8c3c165c82ebe15d2ca740c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calc total event weight, not used by Bin-by-bin splines.  <br /></td></tr>
<tr class="separator:a1a237a8b8c3c165c82ebe15d2ca740c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classSplineBase"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classSplineBase')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classSplineBase.html">SplineBase</a></td></tr>
<tr class="memitem:ae18e490295762416c8627d2db11ee98d inherit pro_methods_classSplineBase"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSplineBase.html#ae18e490295762416c8627d2db11ee98d">FindSplineSegment</a> ()=0</td></tr>
<tr class="memdesc:ae18e490295762416c8627d2db11ee98d inherit pro_methods_classSplineBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">CW:Code used in step by step reweighting, Find Spline Segment for each param.  <br /></td></tr>
<tr class="separator:ae18e490295762416c8627d2db11ee98d inherit pro_methods_classSplineBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ceacf5fee1fc8438501582bef93a9b5 inherit pro_methods_classSplineBase"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSplineBase.html#a1ceacf5fee1fc8438501582bef93a9b5">CalcSplineWeights</a> ()=0</td></tr>
<tr class="memdesc:a1ceacf5fee1fc8438501582bef93a9b5 inherit pro_methods_classSplineBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">CPU based code which eval weight for each spline.  <br /></td></tr>
<tr class="separator:a1ceacf5fee1fc8438501582bef93a9b5 inherit pro_methods_classSplineBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49665d2712b61b038085d25ace96a568 inherit pro_methods_classSplineBase"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSplineBase.html#a49665d2712b61b038085d25ace96a568">ModifyWeights</a> ()=0</td></tr>
<tr class="memdesc:a49665d2712b61b038085d25ace96a568 inherit pro_methods_classSplineBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calc total event weight.  <br /></td></tr>
<tr class="separator:a49665d2712b61b038085d25ace96a568 inherit pro_methods_classSplineBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8a5f86ac6f156a7e11ef188b06f425f inherit pro_methods_classSplineBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSplineBase.html#ac8a5f86ac6f156a7e11ef188b06f425f">getTF1Coeff</a> (<a class="el" href="classTF1__red.html">TF1_red</a> *&amp;spl, int &amp;nPoints, float *&amp;coeffs)</td></tr>
<tr class="memdesc:ac8a5f86ac6f156a7e11ef188b06f425f inherit pro_methods_classSplineBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">CW: Gets the polynomial coefficients for TF1.  <br /></td></tr>
<tr class="separator:ac8a5f86ac6f156a7e11ef188b06f425f inherit pro_methods_classSplineBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a891de87b873e079f6bbdb1355a9ff153"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcovarianceXsec.html">covarianceXsec</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a891de87b873e079f6bbdb1355a9ff153">xsec</a></td></tr>
<tr class="memdesc:a891de87b873e079f6bbdb1355a9ff153"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to covariance xsec.  <br /></td></tr>
<tr class="separator:a891de87b873e079f6bbdb1355a9ff153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78508c5d0d4ef09457beb723dc796208"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a78508c5d0d4ef09457beb723dc796208">SampleNames</a></td></tr>
<tr class="separator:a78508c5d0d4ef09457beb723dc796208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5f4c7bfc06ab3bcc769be433ad4708e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#ac5f4c7bfc06ab3bcc769be433ad4708e">BinningOpts</a></td></tr>
<tr class="separator:ac5f4c7bfc06ab3bcc769be433ad4708e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c28400605049bdee229885c46463dcd"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a6c28400605049bdee229885c46463dcd">Dimensions</a></td></tr>
<tr class="separator:a6c28400605049bdee229885c46463dcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00e1aeea8e9389c41f93469a26c83adc"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; std::string &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a00e1aeea8e9389c41f93469a26c83adc">DimensionLabels</a></td></tr>
<tr class="separator:a00e1aeea8e9389c41f93469a26c83adc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb743760ca4a477771132aaf0e334d15"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#aeb743760ca4a477771132aaf0e334d15">DetIDs</a></td></tr>
<tr class="separator:aeb743760ca4a477771132aaf0e334d15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad64c7c63db8ea676f86eb2279f04d40"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#aad64c7c63db8ea676f86eb2279f04d40">nSplineParams</a></td></tr>
<tr class="separator:aad64c7c63db8ea676f86eb2279f04d40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa10670a64bbdef3ffd69f4b8f102fff3"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#aa10670a64bbdef3ffd69f4b8f102fff3">nOscChans</a></td></tr>
<tr class="separator:aa10670a64bbdef3ffd69f4b8f102fff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0570b0b59ff6ba13af94c64c7271202d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a0570b0b59ff6ba13af94c64c7271202d">SplineParsIndex</a></td></tr>
<tr class="separator:a0570b0b59ff6ba13af94c64c7271202d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af71b65713518f42e59c543dbad5dab70"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; std::vector&lt; TAxis * &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#af71b65713518f42e59c543dbad5dab70">SplineBinning</a></td></tr>
<tr class="separator:af71b65713518f42e59c543dbad5dab70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5619363447e607cd835c46d601b10675"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; std::string &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a5619363447e607cd835c46d601b10675">SplineFileParPrefixNames</a></td></tr>
<tr class="separator:a5619363447e607cd835c46d601b10675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b7aeec6d03dad01975582226b39632b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; std::vector&lt; int &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a6b7aeec6d03dad01975582226b39632b">SplineModeVecs</a></td></tr>
<tr class="separator:a6b7aeec6d03dad01975582226b39632b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af036372a158b4e463683a8d02a20ec3d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#af036372a158b4e463683a8d02a20ec3d">GlobalSystIndex</a></td></tr>
<tr class="memdesc:af036372a158b4e463683a8d02a20ec3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This holds the global spline index and is used to grab the current parameter value to evaluate splines at. Each internal vector will be of size of the number of spline systematics which affect that sample.  <br /></td></tr>
<tr class="separator:af036372a158b4e463683a8d02a20ec3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabc74a6dd8b13fc6925e975bf5f92cff"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; <a class="el" href="Structs_8h.html#a6720d732608767153550aebebcf8fbf4">SplineInterpolation</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#aabc74a6dd8b13fc6925e975bf5f92cff">SplineInterpolationTypes</a></td></tr>
<tr class="memdesc:aabc74a6dd8b13fc6925e975bf5f92cff"><td class="mdescLeft">&#160;</td><td class="mdescRight">spline interpolation types for each sample. These vectors are from a call to GetSplineInterpolationFromDetID()  <br /></td></tr>
<tr class="separator:aabc74a6dd8b13fc6925e975bf5f92cff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d42cbfc22f21906264af285fd57b1af"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a0d42cbfc22f21906264af285fd57b1af">nUniqueSysts</a></td></tr>
<tr class="separator:a0d42cbfc22f21906264af285fd57b1af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacf850f4ec22e4f7338f243999ecc7dd"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#aacf850f4ec22e4f7338f243999ecc7dd">UniqueSystNames</a></td></tr>
<tr class="separator:aacf850f4ec22e4f7338f243999ecc7dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b821b95c2db6063a9baa244b28aeaa6"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a3b821b95c2db6063a9baa244b28aeaa6">UniqueSystIndices</a></td></tr>
<tr class="separator:a3b821b95c2db6063a9baa244b28aeaa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a176d42bb137d3c8c3771eb1a4a8440c8"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a176d42bb137d3c8c3771eb1a4a8440c8">UniqueSystNKnots</a></td></tr>
<tr class="separator:a176d42bb137d3c8c3771eb1a4a8440c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa36e6889d054ad0f86f33a53dd3fe036"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#aa36e6889d054ad0f86f33a53dd3fe036">UniqueSystCurrSegment</a></td></tr>
<tr class="separator:aa36e6889d054ad0f86f33a53dd3fe036"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5112a1bbd658d3a90c6a785c12aebf34"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; <a class="el" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a5112a1bbd658d3a90c6a785c12aebf34">UniqueSystXPts</a></td></tr>
<tr class="separator:a5112a1bbd658d3a90c6a785c12aebf34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3a4e79bfe675a4070597557e6226e12"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; std::vector&lt; std::vector&lt; std::vector&lt; std::vector&lt; std::vector&lt; int &gt; &gt; &gt; &gt; &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a></td></tr>
<tr class="memdesc:ab3a4e79bfe675a4070597557e6226e12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variables related to determined which modes have splines and which piggy-back of other modes.  <br /></td></tr>
<tr class="separator:ab3a4e79bfe675a4070597557e6226e12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af63885ddb6731f77808d029372e6b187"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#af63885ddb6731f77808d029372e6b187">coeffindexvec</a></td></tr>
<tr class="separator:af63885ddb6731f77808d029372e6b187"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a564f5748f16d97ebf1e1c300a1cc5c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a7a564f5748f16d97ebf1e1c300a1cc5c">uniquecoeffindices</a></td></tr>
<tr class="separator:a7a564f5748f16d97ebf1e1c300a1cc5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84ec9ea208503053b9735b1cb1bc417d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classTSpline3__red.html">TSpline3_red</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a84ec9ea208503053b9735b1cb1bc417d">splinevec_Monolith</a></td></tr>
<tr class="separator:a84ec9ea208503053b9735b1cb1bc417d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1fefa7f796f2a28a69f5336f5777bce"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#ad1fefa7f796f2a28a69f5336f5777bce">MonolithSize</a></td></tr>
<tr class="separator:ad1fefa7f796f2a28a69f5336f5777bce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addec38a8493974ccc3ee16931d5b794a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#addec38a8493974ccc3ee16931d5b794a">MonolithIndex</a></td></tr>
<tr class="separator:addec38a8493974ccc3ee16931d5b794a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcff04fee3e6790a099a0df9dbee74c2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#abcff04fee3e6790a099a0df9dbee74c2">CoeffIndex</a></td></tr>
<tr class="separator:abcff04fee3e6790a099a0df9dbee74c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a324c4b50910454092ba45d945ef57bda"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a324c4b50910454092ba45d945ef57bda">xVarArray</a></td></tr>
<tr class="separator:a324c4b50910454092ba45d945ef57bda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8a204355df78af3f79bf8f2815258d3"><td class="memItemLeft" align="right" valign="top">bool *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#aa8a204355df78af3f79bf8f2815258d3">isflatarray</a></td></tr>
<tr class="separator:aa8a204355df78af3f79bf8f2815258d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00f046c4c64c0aa11334b32b0701a9f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a00f046c4c64c0aa11334b32b0701a9f1">xcoeff_arr</a></td></tr>
<tr class="separator:a00f046c4c64c0aa11334b32b0701a9f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab883a1f2cdae707c36fa27b86ed7f279"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#ab883a1f2cdae707c36fa27b86ed7f279">manycoeff_arr</a></td></tr>
<tr class="separator:ab883a1f2cdae707c36fa27b86ed7f279"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a107c337ce7053208795747a3223f04e1"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#a107c337ce7053208795747a3223f04e1">weightvec_Monolith</a></td></tr>
<tr class="separator:a107c337ce7053208795747a3223f04e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae237cc1c6d97e35bf4f7f64e369a5781"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsplineFDBase.html#ae237cc1c6d97e35bf4f7f64e369a5781">uniquesplinevec_Monolith</a></td></tr>
<tr class="separator:ae237cc1c6d97e35bf4f7f64e369a5781"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Bin-by-bin class calculating response for spline parameters. </p>
<dl class="section see"><dt>See also</dt><dd>For more details, visit the <a href="https://github.com/mach3-software/MaCh3/wiki/05.-Splines">Wiki</a>. </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Dan Barrow </dd>
<dd>
Ed Atkin </dd>
<dd>
Henry Wallace </dd></dl>

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00015">15</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a089883fce1a3f4180e3156215fb9c38a" name="a089883fce1a3f4180e3156215fb9c38a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a089883fce1a3f4180e3156215fb9c38a">&#9670;&#160;</a></span>splineFDBase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">splineFDBase::splineFDBase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcovarianceXsec.html">covarianceXsec</a> *&#160;</td>
          <td class="paramname"><em>xsec_</em> = <code>NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>ETA - do all of these functions and members actually need to be public? </dd></dl>

<p class="definition">Definition at line <a class="el" href="splineFDBase_8cpp_source.html#l00009">9</a> of file <a class="el" href="splineFDBase_8cpp_source.html">splineFDBase.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   10</span>              : <a class="code hl_function" href="classSplineBase.html#aa6965d1522cc68ecf81ac3bfd2dcd6f1">SplineBase</a>() {</div>
<div class="line"><span class="lineno">   11</span><span class="comment">//****************************************</span></div>
<div class="line"><span class="lineno">   12</span>  <span class="keywordflow">if</span> (!xsec_) {</div>
<div class="line"><span class="lineno">   13</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Trying to create splineFDBase with uninitialised covariance object&quot;</span>);</div>
<div class="line"><span class="lineno">   14</span>    <span class="keywordflow">throw</span> <a class="code hl_class" href="classMaCh3Exception.html">MaCh3Exception</a>(__FILE__, __LINE__);</div>
<div class="line"><span class="lineno">   15</span>  }</div>
<div class="line"><span class="lineno">   16</span>  <a class="code hl_variable" href="classsplineFDBase.html#a891de87b873e079f6bbdb1355a9ff153">xsec</a> = xsec_;</div>
<div class="line"><span class="lineno">   17</span> </div>
<div class="line"><span class="lineno">   18</span>  <span class="comment">// Keep these in class scope, important for using 1 monolith/sample!</span></div>
<div class="line"><span class="lineno">   19</span>  <a class="code hl_variable" href="classsplineFDBase.html#addec38a8493974ccc3ee16931d5b794a">MonolithIndex</a> = 0; <span class="comment">//Keeps track of the monolith index we&#39;re on when filling arrays (declared here so we can have multiple FillSampleArray calls)</span></div>
<div class="line"><span class="lineno">   20</span>  <a class="code hl_variable" href="classsplineFDBase.html#abcff04fee3e6790a099a0df9dbee74c2">CoeffIndex</a> = 0; <span class="comment">//Keeps track of our indexing the coefficient arrays [x, ybcd]</span></div>
<div class="line"><span class="lineno">   21</span>}</div>
<div class="ttc" id="aMaCh3Logger_8h_html_a61052119a625282d0ec6d4a97adf3ee2"><div class="ttname"><a href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a></div><div class="ttdeci">#define MACH3LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="MaCh3Logger_8h_source.html#l00019">MaCh3Logger.h:19</a></div></div>
<div class="ttc" id="aclassMaCh3Exception_html"><div class="ttname"><a href="classMaCh3Exception.html">MaCh3Exception</a></div><div class="ttdoc">Custom exception class for MaCh3 errors.</div><div class="ttdef"><b>Definition:</b> <a href="MaCh3Exception_8h_source.html#l00012">MaCh3Exception.h:12</a></div></div>
<div class="ttc" id="aclassSplineBase_html_aa6965d1522cc68ecf81ac3bfd2dcd6f1"><div class="ttname"><a href="classSplineBase.html#aa6965d1522cc68ecf81ac3bfd2dcd6f1">SplineBase::SplineBase</a></div><div class="ttdeci">SplineBase()</div><div class="ttdoc">Constructor.</div><div class="ttdef"><b>Definition:</b> <a href="SplineBase_8cpp_source.html#l00007">SplineBase.cpp:7</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_a891de87b873e079f6bbdb1355a9ff153"><div class="ttname"><a href="classsplineFDBase.html#a891de87b873e079f6bbdb1355a9ff153">splineFDBase::xsec</a></div><div class="ttdeci">covarianceXsec * xsec</div><div class="ttdoc">Pointer to covariance xsec.</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00076">splineFDBase.h:76</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_abcff04fee3e6790a099a0df9dbee74c2"><div class="ttname"><a href="classsplineFDBase.html#abcff04fee3e6790a099a0df9dbee74c2">splineFDBase::CoeffIndex</a></div><div class="ttdeci">int CoeffIndex</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00118">splineFDBase.h:118</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_addec38a8493974ccc3ee16931d5b794a"><div class="ttname"><a href="classsplineFDBase.html#addec38a8493974ccc3ee16931d5b794a">splineFDBase::MonolithIndex</a></div><div class="ttdeci">int MonolithIndex</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00117">splineFDBase.h:117</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a16c33124874a336255a3cba480b835c2" name="a16c33124874a336255a3cba480b835c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16c33124874a336255a3cba480b835c2">&#9670;&#160;</a></span>~splineFDBase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">splineFDBase::~splineFDBase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>it need some love </dd></dl>

<p class="definition">Definition at line <a class="el" href="splineFDBase_8cpp_source.html#l00023">23</a> of file <a class="el" href="splineFDBase_8cpp_source.html">splineFDBase.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   23</span>                           {</div>
<div class="line"><span class="lineno">   24</span><span class="comment">//****************************************</span></div>
<div class="line"><span class="lineno">   25</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classsplineFDBase.html#ab883a1f2cdae707c36fa27b86ed7f279">manycoeff_arr</a> != <span class="keyword">nullptr</span>) <span class="keyword">delete</span>[] <a class="code hl_variable" href="classsplineFDBase.html#ab883a1f2cdae707c36fa27b86ed7f279">manycoeff_arr</a>;</div>
<div class="line"><span class="lineno">   26</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classsplineFDBase.html#a00f046c4c64c0aa11334b32b0701a9f1">xcoeff_arr</a> != <span class="keyword">nullptr</span>) <span class="keyword">delete</span>[] <a class="code hl_variable" href="classsplineFDBase.html#a00f046c4c64c0aa11334b32b0701a9f1">xcoeff_arr</a>;</div>
<div class="line"><span class="lineno">   27</span> </div>
<div class="line"><span class="lineno">   28</span>}</div>
<div class="ttc" id="aclasssplineFDBase_html_a00f046c4c64c0aa11334b32b0701a9f1"><div class="ttname"><a href="classsplineFDBase.html#a00f046c4c64c0aa11334b32b0701a9f1">splineFDBase::xcoeff_arr</a></div><div class="ttdeci">M3::float_t * xcoeff_arr</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00123">splineFDBase.h:123</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_ab883a1f2cdae707c36fa27b86ed7f279"><div class="ttname"><a href="classsplineFDBase.html#ab883a1f2cdae707c36fa27b86ed7f279">splineFDBase::manycoeff_arr</a></div><div class="ttdeci">M3::float_t * manycoeff_arr</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00124">splineFDBase.h:124</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a464e0baa86158e9ffcc6918359da3b30" name="a464e0baa86158e9ffcc6918359da3b30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a464e0baa86158e9ffcc6918359da3b30">&#9670;&#160;</a></span>AddSample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool splineFDBase::AddSample </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>SampleName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>DetID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>OscChanFileNames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>SplineVarNames</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8cpp_source.html#l00057">57</a> of file <a class="el" href="splineFDBase_8cpp_source.html">splineFDBase.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   60</span>{</div>
<div class="line"><span class="lineno">   61</span>  <a class="code hl_variable" href="classsplineFDBase.html#a78508c5d0d4ef09457beb723dc796208">SampleNames</a>.push_back(SampleName);</div>
<div class="line"><span class="lineno">   62</span>  <a class="code hl_variable" href="classsplineFDBase.html#a6c28400605049bdee229885c46463dcd">Dimensions</a>.push_back(<span class="keywordtype">int</span>(SplineVarNames.size()));</div>
<div class="line"><span class="lineno">   63</span>  <a class="code hl_variable" href="classsplineFDBase.html#a00e1aeea8e9389c41f93469a26c83adc">DimensionLabels</a>.push_back(SplineVarNames);</div>
<div class="line"><span class="lineno">   64</span>  <a class="code hl_variable" href="classsplineFDBase.html#aeb743760ca4a477771132aaf0e334d15">DetIDs</a>.push_back(DetID);</div>
<div class="line"><span class="lineno">   65</span> </div>
<div class="line"><span class="lineno">   66</span>  <span class="keywordtype">int</span> nSplineParam = <a class="code hl_variable" href="classsplineFDBase.html#a891de87b873e079f6bbdb1355a9ff153">xsec</a>-&gt;<a class="code hl_function" href="classcovarianceXsec.html#a0103e8fe156dccedee05619697fe0467">GetNumParamsFromDetID</a>(DetID, SystType::kSpline);</div>
<div class="line"><span class="lineno">   67</span>  <a class="code hl_variable" href="classsplineFDBase.html#aad64c7c63db8ea676f86eb2279f04d40">nSplineParams</a>.push_back(nSplineParam);</div>
<div class="line"><span class="lineno">   68</span> </div>
<div class="line"><span class="lineno">   69</span>  <span class="comment">//This holds the global index of the spline i.e. 0 -&gt; _fNumPar</span></div>
<div class="line"><span class="lineno">   70</span>  std::vector&lt;int&gt; GlobalSystIndex_Sample = <a class="code hl_variable" href="classsplineFDBase.html#a891de87b873e079f6bbdb1355a9ff153">xsec</a>-&gt;<a class="code hl_function" href="classcovarianceXsec.html#a7669f8e01cc0aba5670784c786ff2645">GetGlobalSystIndexFromDetID</a>(DetID, SystType::kSpline);</div>
<div class="line"><span class="lineno">   71</span>  <span class="comment">//Keep track of this for all the samples</span></div>
<div class="line"><span class="lineno">   72</span>  <a class="code hl_variable" href="classsplineFDBase.html#af036372a158b4e463683a8d02a20ec3d">GlobalSystIndex</a>.push_back(GlobalSystIndex_Sample);</div>
<div class="line"><span class="lineno">   73</span> </div>
<div class="line"><span class="lineno">   74</span>  std::vector&lt;SplineInterpolation&gt; SplineInterpolation_Sample = <a class="code hl_variable" href="classsplineFDBase.html#a891de87b873e079f6bbdb1355a9ff153">xsec</a>-&gt;<a class="code hl_function" href="classcovarianceXsec.html#ac1b149bd12637390477c5a1d82eef195">GetSplineInterpolationFromDetID</a>(DetID);</div>
<div class="line"><span class="lineno">   75</span>  <span class="comment">// Keep track of this for all samples</span></div>
<div class="line"><span class="lineno">   76</span>  <a class="code hl_variable" href="classsplineFDBase.html#aabc74a6dd8b13fc6925e975bf5f92cff">SplineInterpolationTypes</a>.push_back(SplineInterpolation_Sample);</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span>  <span class="comment">//std::vector&lt;int&gt; SplineParsIndex_Sample_temp = xsec-&gt;GetSplineParsIndexFromDetID(DetID);</span></div>
<div class="line"><span class="lineno">   79</span> </div>
<div class="line"><span class="lineno">   80</span>  std::vector&lt;std::string&gt; SplineFileParPrefixNames_Sample = <a class="code hl_variable" href="classsplineFDBase.html#a891de87b873e079f6bbdb1355a9ff153">xsec</a>-&gt;<a class="code hl_function" href="classcovarianceXsec.html#a7678bbdb59c36f032fb414d62928f47e">GetSplineParsNamesFromDetID</a>(DetID);</div>
<div class="line"><span class="lineno">   81</span>  <a class="code hl_variable" href="classsplineFDBase.html#a5619363447e607cd835c46d601b10675">SplineFileParPrefixNames</a>.push_back(SplineFileParPrefixNames_Sample);</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span>  <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Create SplineModeVecs_Sample&quot;</span>);</div>
<div class="line"><span class="lineno">   84</span>  std::vector&lt;std::vector&lt;int&gt;&gt; SplineModeVecs_Sample = <a class="code hl_function" href="classsplineFDBase.html#a62f37395f7b1eb73c3ad0a1204bb3c2d">StripDuplicatedModes</a>(<a class="code hl_variable" href="classsplineFDBase.html#a891de87b873e079f6bbdb1355a9ff153">xsec</a>-&gt;<a class="code hl_function" href="classcovarianceXsec.html#a63b4fb1e0caf3b71f372db7273c40c47">GetSplineModeVecFromDetID</a>(DetID));</div>
<div class="line"><span class="lineno">   85</span>  <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;SplineModeVecs_Sample is of size {}&quot;</span>, SplineModeVecs_Sample.size());</div>
<div class="line"><span class="lineno">   86</span>  <a class="code hl_variable" href="classsplineFDBase.html#a6b7aeec6d03dad01975582226b39632b">SplineModeVecs</a>.push_back(SplineModeVecs_Sample);</div>
<div class="line"><span class="lineno">   87</span>  <span class="comment">// for(auto SplineMode : SplineModeVecs_Sample){</span></div>
<div class="line"><span class="lineno">   88</span>  <span class="comment">//   std::cout &lt;&lt; SplineMode &lt;&lt; &quot;,&quot;;</span></div>
<div class="line"><span class="lineno">   89</span>  <span class="comment">// }</span></div>
<div class="line"><span class="lineno">   90</span>  std::cout &lt;&lt; <span class="stringliteral">&quot;/n&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">   91</span> </div>
<div class="line"><span class="lineno">   92</span>  <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;SplineModeVecs is of size {}&quot;</span>, <a class="code hl_variable" href="classsplineFDBase.html#a6b7aeec6d03dad01975582226b39632b">SplineModeVecs</a>.size());</div>
<div class="line"><span class="lineno">   93</span> </div>
<div class="line"><span class="lineno">   94</span>  <span class="keywordtype">int</span> nOscChan = int(OscChanFileNames.size());</div>
<div class="line"><span class="lineno">   95</span>  <a class="code hl_variable" href="classsplineFDBase.html#aa10670a64bbdef3ffd69f4b8f102fff3">nOscChans</a>.push_back(nOscChan);</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>  <a class="code hl_function" href="classsplineFDBase.html#a7ff003d3c05fe8a6f9723557910b7a90">PrintSampleDetails</a>(SampleName);</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>  std::vector&lt;std::vector&lt;TAxis *&gt;&gt; SampleBinning(nOscChan);</div>
<div class="line"><span class="lineno">  100</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iOscChan = 0; iOscChan &lt; nOscChan; iOscChan++)</div>
<div class="line"><span class="lineno">  101</span>  {</div>
<div class="line"><span class="lineno">  102</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;#----------------------------------------------------------------------------------------------------------------------------------#&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  103</span>    SampleBinning[iOscChan] = <a class="code hl_function" href="classsplineFDBase.html#a00c0e93b4c4799ffacaa58578e5dcf6b">FindSplineBinning</a>(OscChanFileNames[iOscChan], SampleName);</div>
<div class="line"><span class="lineno">  104</span>  }</div>
<div class="line"><span class="lineno">  105</span>  std::cout &lt;&lt; <span class="stringliteral">&quot;#----------------------------------------------------------------------------------------------------------------------------------#&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  106</span>  <a class="code hl_variable" href="classsplineFDBase.html#af71b65713518f42e59c543dbad5dab70">SplineBinning</a>.push_back(SampleBinning);</div>
<div class="line"><span class="lineno">  107</span> </div>
<div class="line"><span class="lineno">  108</span>  <a class="code hl_function" href="classsplineFDBase.html#aaa699bd90abc662ce3af907733b3b704">BuildSampleIndexingArray</a>(SampleName);</div>
<div class="line"><span class="lineno">  109</span>  <a class="code hl_function" href="classsplineFDBase.html#aee80975a1a2892b61fb27b2044e7c9bc">PrintArrayDetails</a>(SampleName);</div>
<div class="line"><span class="lineno">  110</span>  std::cout &lt;&lt; <span class="stringliteral">&quot;#----------------------------------------------------------------------------------------------------------------------------------#&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>  <a class="code hl_function" href="classsplineFDBase.html#addabdf30ee85c6975422c0ccf3f1844f">FillSampleArray</a>(SampleName, OscChanFileNames);</div>
<div class="line"><span class="lineno">  113</span>  std::cout &lt;&lt; <span class="stringliteral">&quot;#----------------------------------------------------------------------------------------------------------------------------------#&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  116</span>}</div>
<div class="ttc" id="aMaCh3Logger_8h_html_a95fa4dffc648e4c5536c9292c2bdcac3"><div class="ttname"><a href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a></div><div class="ttdeci">#define MACH3LOG_INFO</div><div class="ttdef"><b>Definition:</b> <a href="MaCh3Logger_8h_source.html#l00017">MaCh3Logger.h:17</a></div></div>
<div class="ttc" id="aclasscovarianceXsec_html_a0103e8fe156dccedee05619697fe0467"><div class="ttname"><a href="classcovarianceXsec.html#a0103e8fe156dccedee05619697fe0467">covarianceXsec::GetNumParamsFromDetID</a></div><div class="ttdeci">int GetNumParamsFromDetID(const int DetID, const SystType Type)</div><div class="ttdoc">DB Grab the number of parameters for the relevant DetID.</div><div class="ttdef"><b>Definition:</b> <a href="covarianceXsec_8cpp_source.html#l00285">covarianceXsec.cpp:285</a></div></div>
<div class="ttc" id="aclasscovarianceXsec_html_a63b4fb1e0caf3b71f372db7273c40c47"><div class="ttname"><a href="classcovarianceXsec.html#a63b4fb1e0caf3b71f372db7273c40c47">covarianceXsec::GetSplineModeVecFromDetID</a></div><div class="ttdeci">const std::vector&lt; std::vector&lt; int &gt; &gt; GetSplineModeVecFromDetID(const int DetID)</div><div class="ttdoc">DB Grab the Spline Modes for the relevant DetID.</div><div class="ttdef"><b>Definition:</b> <a href="covarianceXsec_8cpp_source.html#l00139">covarianceXsec.cpp:139</a></div></div>
<div class="ttc" id="aclasscovarianceXsec_html_a7669f8e01cc0aba5670784c786ff2645"><div class="ttname"><a href="classcovarianceXsec.html#a7669f8e01cc0aba5670784c786ff2645">covarianceXsec::GetGlobalSystIndexFromDetID</a></div><div class="ttdeci">const std::vector&lt; int &gt; GetGlobalSystIndexFromDetID(const int DetID, const SystType Type)</div><div class="ttdef"><b>Definition:</b> <a href="covarianceXsec_8cpp_source.html#l00216">covarianceXsec.cpp:216</a></div></div>
<div class="ttc" id="aclasscovarianceXsec_html_a7678bbdb59c36f032fb414d62928f47e"><div class="ttname"><a href="classcovarianceXsec.html#a7678bbdb59c36f032fb414d62928f47e">covarianceXsec::GetSplineParsNamesFromDetID</a></div><div class="ttdeci">const std::vector&lt; std::string &gt; GetSplineParsNamesFromDetID(const int DetID)</div><div class="ttdoc">DB Get spline parameters depending on given DetID.</div><div class="ttdef"><b>Definition:</b> <a href="covarianceXsec_8cpp_source.html#l00108">covarianceXsec.cpp:108</a></div></div>
<div class="ttc" id="aclasscovarianceXsec_html_ac1b149bd12637390477c5a1d82eef195"><div class="ttname"><a href="classcovarianceXsec.html#ac1b149bd12637390477c5a1d82eef195">covarianceXsec::GetSplineInterpolationFromDetID</a></div><div class="ttdeci">const std::vector&lt; SplineInterpolation &gt; GetSplineInterpolationFromDetID(int DetID)</div><div class="ttdoc">Get the interpolation types for splines affecting a particular DetID.</div><div class="ttdef"><b>Definition:</b> <a href="covarianceXsec_8cpp_source.html#l00123">covarianceXsec.cpp:123</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_a00c0e93b4c4799ffacaa58578e5dcf6b"><div class="ttname"><a href="classsplineFDBase.html#a00c0e93b4c4799ffacaa58578e5dcf6b">splineFDBase::FindSplineBinning</a></div><div class="ttdeci">std::vector&lt; TAxis * &gt; FindSplineBinning(std::string FileName, std::string SampleName)</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8cpp_source.html#l00406">splineFDBase.cpp:406</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_a00e1aeea8e9389c41f93469a26c83adc"><div class="ttname"><a href="classsplineFDBase.html#a00e1aeea8e9389c41f93469a26c83adc">splineFDBase::DimensionLabels</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; std::string &gt; &gt; DimensionLabels</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00082">splineFDBase.h:82</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_a5619363447e607cd835c46d601b10675"><div class="ttname"><a href="classsplineFDBase.html#a5619363447e607cd835c46d601b10675">splineFDBase::SplineFileParPrefixNames</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; std::string &gt; &gt; SplineFileParPrefixNames</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00089">splineFDBase.h:89</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_a62f37395f7b1eb73c3ad0a1204bb3c2d"><div class="ttname"><a href="classsplineFDBase.html#a62f37395f7b1eb73c3ad0a1204bb3c2d">splineFDBase::StripDuplicatedModes</a></div><div class="ttdeci">virtual std::vector&lt; std::vector&lt; int &gt; &gt; StripDuplicatedModes(std::vector&lt; std::vector&lt; int &gt; &gt; InputVector)=0</div><div class="ttdoc">Check if there are any repeated modes. This is used to reduce the number of modes in case many intera...</div></div>
<div class="ttc" id="aclasssplineFDBase_html_a6b7aeec6d03dad01975582226b39632b"><div class="ttname"><a href="classsplineFDBase.html#a6b7aeec6d03dad01975582226b39632b">splineFDBase::SplineModeVecs</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; std::vector&lt; int &gt; &gt; &gt; SplineModeVecs</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00093">splineFDBase.h:93</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_a6c28400605049bdee229885c46463dcd"><div class="ttname"><a href="classsplineFDBase.html#a6c28400605049bdee229885c46463dcd">splineFDBase::Dimensions</a></div><div class="ttdeci">std::vector&lt; int &gt; Dimensions</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00081">splineFDBase.h:81</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_a78508c5d0d4ef09457beb723dc796208"><div class="ttname"><a href="classsplineFDBase.html#a78508c5d0d4ef09457beb723dc796208">splineFDBase::SampleNames</a></div><div class="ttdeci">std::vector&lt; std::string &gt; SampleNames</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00079">splineFDBase.h:79</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_a7ff003d3c05fe8a6f9723557910b7a90"><div class="ttname"><a href="classsplineFDBase.html#a7ff003d3c05fe8a6f9723557910b7a90">splineFDBase::PrintSampleDetails</a></div><div class="ttdeci">void PrintSampleDetails(std::string SampleName)</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8cpp_source.html#l00827">splineFDBase.cpp:827</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_aa10670a64bbdef3ffd69f4b8f102fff3"><div class="ttname"><a href="classsplineFDBase.html#aa10670a64bbdef3ffd69f4b8f102fff3">splineFDBase::nOscChans</a></div><div class="ttdeci">std::vector&lt; int &gt; nOscChans</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00085">splineFDBase.h:85</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_aaa699bd90abc662ce3af907733b3b704"><div class="ttname"><a href="classsplineFDBase.html#aaa699bd90abc662ce3af907733b3b704">splineFDBase::BuildSampleIndexingArray</a></div><div class="ttdeci">void BuildSampleIndexingArray(std::string SampleName)</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8cpp_source.html#l00363">splineFDBase.cpp:363</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_aabc74a6dd8b13fc6925e975bf5f92cff"><div class="ttname"><a href="classsplineFDBase.html#aabc74a6dd8b13fc6925e975bf5f92cff">splineFDBase::SplineInterpolationTypes</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; SplineInterpolation &gt; &gt; SplineInterpolationTypes</div><div class="ttdoc">spline interpolation types for each sample. These vectors are from a call to GetSplineInterpolationFr...</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00100">splineFDBase.h:100</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_aad64c7c63db8ea676f86eb2279f04d40"><div class="ttname"><a href="classsplineFDBase.html#aad64c7c63db8ea676f86eb2279f04d40">splineFDBase::nSplineParams</a></div><div class="ttdeci">std::vector&lt; int &gt; nSplineParams</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00084">splineFDBase.h:84</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_addabdf30ee85c6975422c0ccf3f1844f"><div class="ttname"><a href="classsplineFDBase.html#addabdf30ee85c6975422c0ccf3f1844f">splineFDBase::FillSampleArray</a></div><div class="ttdeci">virtual void FillSampleArray(std::string SampleName, std::vector&lt; std::string &gt; OscChanFileNames)=0</div></div>
<div class="ttc" id="aclasssplineFDBase_html_aeb743760ca4a477771132aaf0e334d15"><div class="ttname"><a href="classsplineFDBase.html#aeb743760ca4a477771132aaf0e334d15">splineFDBase::DetIDs</a></div><div class="ttdeci">std::vector&lt; int &gt; DetIDs</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00083">splineFDBase.h:83</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_aee80975a1a2892b61fb27b2044e7c9bc"><div class="ttname"><a href="classsplineFDBase.html#aee80975a1a2892b61fb27b2044e7c9bc">splineFDBase::PrintArrayDetails</a></div><div class="ttdeci">void PrintArrayDetails(std::string SampleName)</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8cpp_source.html#l00842">splineFDBase.cpp:842</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_af036372a158b4e463683a8d02a20ec3d"><div class="ttname"><a href="classsplineFDBase.html#af036372a158b4e463683a8d02a20ec3d">splineFDBase::GlobalSystIndex</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; int &gt; &gt; GlobalSystIndex</div><div class="ttdoc">This holds the global spline index and is used to grab the current parameter value to evaluate spline...</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00097">splineFDBase.h:97</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_af71b65713518f42e59c543dbad5dab70"><div class="ttname"><a href="classsplineFDBase.html#af71b65713518f42e59c543dbad5dab70">splineFDBase::SplineBinning</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; std::vector&lt; TAxis * &gt; &gt; &gt; SplineBinning</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00088">splineFDBase.h:88</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaa699bd90abc662ce3af907733b3b704" name="aaa699bd90abc662ce3af907733b3b704"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa699bd90abc662ce3af907733b3b704">&#9670;&#160;</a></span>BuildSampleIndexingArray()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void splineFDBase::BuildSampleIndexingArray </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>SampleName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8cpp_source.html#l00363">363</a> of file <a class="el" href="splineFDBase_8cpp_source.html">splineFDBase.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  367</span>{  </div>
<div class="line"><span class="lineno">  368</span>  <span class="keywordtype">int</span> iSample = <a class="code hl_function" href="classsplineFDBase.html#a2d19b4bd235644d4c6a1ca6d589be6ca">getSampleIndex</a>(SampleName);</div>
<div class="line"><span class="lineno">  369</span>  <span class="keywordtype">int</span> nSplineSysts = <a class="code hl_variable" href="classsplineFDBase.html#aad64c7c63db8ea676f86eb2279f04d40">nSplineParams</a>[iSample];</div>
<div class="line"><span class="lineno">  370</span>  <span class="keywordtype">int</span> nOscChannels = <a class="code hl_variable" href="classsplineFDBase.html#aa10670a64bbdef3ffd69f4b8f102fff3">nOscChans</a>[iSample];</div>
<div class="line"><span class="lineno">  371</span>  std::vector&lt;std::vector&lt;std::vector&lt;std::vector&lt;std::vector&lt;std::vector&lt;int&gt;&gt;&gt;&gt;&gt;&gt; indexvec_OscChan;</div>
<div class="line"><span class="lineno">  372</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iOscChan = 0; iOscChan &lt; nOscChannels; iOscChan++)</div>
<div class="line"><span class="lineno">  373</span>  { <span class="comment">// Loop over oscillation channels</span></div>
<div class="line"><span class="lineno">  374</span>    std::vector&lt;std::vector&lt;std::vector&lt;std::vector&lt;std::vector&lt;int &gt;&gt;&gt;&gt;&gt; indexvec_Syst;</div>
<div class="line"><span class="lineno">  375</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iSyst = 0; iSyst &lt; nSplineSysts; iSyst++)</div>
<div class="line"><span class="lineno">  376</span>    { <span class="comment">// Loop over systematics</span></div>
<div class="line"><span class="lineno">  377</span>      std::vector&lt;std::vector&lt;std::vector&lt;std::vector&lt;int &gt;&gt;&gt;&gt; indexvec_Mode;</div>
<div class="line"><span class="lineno">  378</span>      <span class="keywordtype">int</span> nModesInSyst = int(<a class="code hl_variable" href="classsplineFDBase.html#a6b7aeec6d03dad01975582226b39632b">SplineModeVecs</a>[iSample][iSyst].<a class="code hl_variable" href="GetPenaltyTerm_8cpp.html#a439227feff9d7f55384e8780cfc2eb82">size</a>());</div>
<div class="line"><span class="lineno">  379</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iMode = 0; iMode &lt; nModesInSyst; iMode++)</div>
<div class="line"><span class="lineno">  380</span>      { <span class="comment">// Loop over modes</span></div>
<div class="line"><span class="lineno">  381</span>        std::vector&lt;std::vector&lt;std::vector&lt;int &gt;&gt;&gt; indexvec_Var1;</div>
<div class="line"><span class="lineno">  382</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iVar1 = 0; iVar1 &lt; (<a class="code hl_variable" href="classsplineFDBase.html#af71b65713518f42e59c543dbad5dab70">SplineBinning</a>[iSample][iOscChan][0])-&gt;GetNbins(); iVar1++)</div>
<div class="line"><span class="lineno">  383</span>        { <span class="comment">// Loop over first dimension</span></div>
<div class="line"><span class="lineno">  384</span>          std::vector&lt;std::vector&lt;int &gt;&gt; indexvec_Var2;</div>
<div class="line"><span class="lineno">  385</span>          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iVar2 = 0; iVar2 &lt; (<a class="code hl_variable" href="classsplineFDBase.html#af71b65713518f42e59c543dbad5dab70">SplineBinning</a>[iSample][iOscChan][1])-&gt;GetNbins(); iVar2++)</div>
<div class="line"><span class="lineno">  386</span>          { <span class="comment">// Loop over second dimension</span></div>
<div class="line"><span class="lineno">  387</span>            std::vector&lt;int&gt; indexvec_Var3;</div>
<div class="line"><span class="lineno">  388</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iVar3 = 0; iVar3 &lt; (<a class="code hl_variable" href="classsplineFDBase.html#af71b65713518f42e59c543dbad5dab70">SplineBinning</a>[iSample][iOscChan][2])-&gt;GetNbins(); iVar3++)</div>
<div class="line"><span class="lineno">  389</span>            { <span class="comment">// Loop over third dimension</span></div>
<div class="line"><span class="lineno">  390</span>              indexvec_Var3.push_back(0); <span class="comment">//Don&#39;t start counting yet!</span></div>
<div class="line"><span class="lineno">  391</span>            } <span class="comment">// end iVar3 loop</span></div>
<div class="line"><span class="lineno">  392</span>            indexvec_Var2.push_back(indexvec_Var3);</div>
<div class="line"><span class="lineno">  393</span>          } <span class="comment">// end iVar2 loop</span></div>
<div class="line"><span class="lineno">  394</span>          indexvec_Var1.push_back(indexvec_Var2);</div>
<div class="line"><span class="lineno">  395</span>        } <span class="comment">// end iVar1 loop</span></div>
<div class="line"><span class="lineno">  396</span>        indexvec_Mode.push_back(indexvec_Var1);</div>
<div class="line"><span class="lineno">  397</span>      } <span class="comment">// end of iMode loop</span></div>
<div class="line"><span class="lineno">  398</span>      indexvec_Syst.push_back(indexvec_Mode);</div>
<div class="line"><span class="lineno">  399</span>    } <span class="comment">// end of iOscChan loop</span></div>
<div class="line"><span class="lineno">  400</span>    indexvec_OscChan.push_back(indexvec_Syst);</div>
<div class="line"><span class="lineno">  401</span>  } <span class="comment">// end of iSyst loop</span></div>
<div class="line"><span class="lineno">  402</span>  <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>.push_back(indexvec_OscChan);</div>
<div class="line"><span class="lineno">  403</span>}</div>
<div class="ttc" id="aGetPenaltyTerm_8cpp_html_a439227feff9d7f55384e8780cfc2eb82"><div class="ttname"><a href="GetPenaltyTerm_8cpp.html#a439227feff9d7f55384e8780cfc2eb82">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="GetPenaltyTerm_8cpp_source.html#l00038">GetPenaltyTerm.cpp:38</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_a2d19b4bd235644d4c6a1ca6d589be6ca"><div class="ttname"><a href="classsplineFDBase.html#a2d19b4bd235644d4c6a1ca6d589be6ca">splineFDBase::getSampleIndex</a></div><div class="ttdeci">int getSampleIndex(std::string SampleName)</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8cpp_source.html#l00809">splineFDBase.cpp:809</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_ab3a4e79bfe675a4070597557e6226e12"><div class="ttname"><a href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">splineFDBase::indexvec</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; std::vector&lt; std::vector&lt; std::vector&lt; std::vector&lt; std::vector&lt; int &gt; &gt; &gt; &gt; &gt; &gt; &gt; indexvec</div><div class="ttdoc">Variables related to determined which modes have splines and which piggy-back of other modes.</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00110">splineFDBase.h:110</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9eceab58c0aa06b58eb4e3708c00ee0e" name="a9eceab58c0aa06b58eb4e3708c00ee0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eceab58c0aa06b58eb4e3708c00ee0e">&#9670;&#160;</a></span>CalcSplineWeights()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void splineFDBase::CalcSplineWeights </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>CPU based code which eval weight for each spline. </p>

<p>Implements <a class="el" href="classSplineBase.html#a1ceacf5fee1fc8438501582bef93a9b5">SplineBase</a>.</p>

<p class="definition">Definition at line <a class="el" href="splineFDBase_8cpp_source.html#l00313">313</a> of file <a class="el" href="splineFDBase_8cpp_source.html">splineFDBase.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  315</span>{</div>
<div class="line"><span class="lineno">  316</span><span class="preprocessor">  #ifdef MULTITHREAD</span></div>
<div class="line"><span class="lineno">  317</span><span class="preprocessor">  #pragma omp parallel for simd</span></div>
<div class="line"><span class="lineno">  318</span><span class="preprocessor">  #endif</span></div>
<div class="line"><span class="lineno">  319</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iCoeff = 0; iCoeff &lt; <a class="code hl_variable" href="classsplineFDBase.html#a7a564f5748f16d97ebf1e1c300a1cc5c">uniquecoeffindices</a>.size(); iCoeff++)</div>
<div class="line"><span class="lineno">  320</span>  {</div>
<div class="line"><span class="lineno">  321</span> </div>
<div class="line"><span class="lineno">  322</span>    <span class="keywordtype">int</span> iSpline = <a class="code hl_variable" href="classsplineFDBase.html#a7a564f5748f16d97ebf1e1c300a1cc5c">uniquecoeffindices</a>[iCoeff];</div>
<div class="line"><span class="lineno">  323</span>    <span class="keywordtype">short</span> <span class="keywordtype">int</span> uniqueIndex=short(<a class="code hl_variable" href="classsplineFDBase.html#ae237cc1c6d97e35bf4f7f64e369a5781">uniquesplinevec_Monolith</a>[iSpline]);</div>
<div class="line"><span class="lineno">  324</span>    <span class="keywordtype">short</span> <span class="keywordtype">int</span> currentsegment=short(<a class="code hl_variable" href="classsplineFDBase.html#aa36e6889d054ad0f86f33a53dd3fe036">UniqueSystCurrSegment</a>[uniqueIndex]);</div>
<div class="line"><span class="lineno">  325</span> </div>
<div class="line"><span class="lineno">  326</span>    <span class="keywordtype">int</span> segCoeff = <a class="code hl_variable" href="classsplineFDBase.html#af63885ddb6731f77808d029372e6b187">coeffindexvec</a>[iSpline]+currentsegment;</div>
<div class="line"><span class="lineno">  327</span> </div>
<div class="line"><span class="lineno">  328</span>    <span class="comment">// These are what we can extract from the TSpline3</span></div>
<div class="line"><span class="lineno">  329</span>    <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> x = <a class="code hl_variable" href="classsplineFDBase.html#a00f046c4c64c0aa11334b32b0701a9f1">xcoeff_arr</a>[segCoeff];</div>
<div class="line"><span class="lineno">  330</span>    <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> y = <a class="code hl_variable" href="classsplineFDBase.html#ab883a1f2cdae707c36fa27b86ed7f279">manycoeff_arr</a>[(segCoeff)*4+<a class="code hl_enumvalue" href="SplineCommon_8h.html#aac6312c7a4c683e6d016d9fccdc7d7c0a9e87d802f64d8929291c58eeb0eb16e6">kCoeffY</a>];</div>
<div class="line"><span class="lineno">  331</span>    <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> b = <a class="code hl_variable" href="classsplineFDBase.html#ab883a1f2cdae707c36fa27b86ed7f279">manycoeff_arr</a>[(segCoeff)*4+<a class="code hl_enumvalue" href="SplineCommon_8h.html#aac6312c7a4c683e6d016d9fccdc7d7c0a546352c58e328d9b57692a033eee8a42">kCoeffB</a>];</div>
<div class="line"><span class="lineno">  332</span>    <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> c = <a class="code hl_variable" href="classsplineFDBase.html#ab883a1f2cdae707c36fa27b86ed7f279">manycoeff_arr</a>[(segCoeff)*4+<a class="code hl_enumvalue" href="SplineCommon_8h.html#aac6312c7a4c683e6d016d9fccdc7d7c0af73b429597449e82d2920f69d03cef36">kCoeffC</a>];</div>
<div class="line"><span class="lineno">  333</span>    <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> d = <a class="code hl_variable" href="classsplineFDBase.html#ab883a1f2cdae707c36fa27b86ed7f279">manycoeff_arr</a>[(segCoeff)*4+<a class="code hl_enumvalue" href="SplineCommon_8h.html#aac6312c7a4c683e6d016d9fccdc7d7c0a82b4ea363cc5a4b0429efcc46582769d">kCoeffD</a>];</div>
<div class="line"><span class="lineno">  334</span> </div>
<div class="line"><span class="lineno">  335</span>    <span class="comment">// Get the variation for this reconfigure for the ith parameter</span></div>
<div class="line"><span class="lineno">  336</span>    <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> xvar = <a class="code hl_variable" href="classsplineFDBase.html#a324c4b50910454092ba45d945ef57bda">xVarArray</a>[uniqueIndex];</div>
<div class="line"><span class="lineno">  337</span>    <span class="comment">// The Delta(x)</span></div>
<div class="line"><span class="lineno">  338</span>    <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> dx = xvar - x;</div>
<div class="line"><span class="lineno">  339</span> </div>
<div class="line"><span class="lineno">  340</span>    <span class="comment">//Speedy 1% time boost https://en.cppreference.com/w/c/numeric/math/fma (see ND code!)</span></div>
<div class="line"><span class="lineno">  341</span>    <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> weight = 0;</div>
<div class="line"><span class="lineno">  342</span><span class="preprocessor">#ifdef _LOW_MEMORY_STRUCTS_</span></div>
<div class="line"><span class="lineno">  343</span>      weight = std::fmaf(dx, std::fmaf(dx, std::fmaf(dx, d, c), b), y);</div>
<div class="line"><span class="lineno">  344</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  345</span>      weight = std::fma(dx, std::fma(dx, std::fma(dx, d, c), b), y);</div>
<div class="line"><span class="lineno">  346</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  347</span>    <span class="comment">//This is the speedy version of writing dx^3+b*dx^2+c*dx+d</span></div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span> </div>
<div class="line"><span class="lineno">  350</span>    <span class="comment">//ETA - do we need this? We check later for negative weights and I wonder if this is even</span></div>
<div class="line"><span class="lineno">  351</span>    <span class="comment">//possible with the fmaf line above?</span></div>
<div class="line"><span class="lineno">  352</span>    <span class="keywordflow">if</span>(weight&lt;0){weight=0;}  <span class="comment">//Stops is getting negative weights</span></div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span><span class="comment">// LP - ignore the diagnostic here as it is only useless if M3::float_t = double</span></div>
<div class="line"><span class="lineno">  355</span><span class="preprocessor">#pragma GCC diagnostic push</span></div>
<div class="line"><span class="lineno">  356</span><span class="preprocessor">#pragma GCC diagnostic ignored &quot;-Wuseless-cast&quot;</span></div>
<div class="line"><span class="lineno">  357</span>    <a class="code hl_variable" href="classsplineFDBase.html#a107c337ce7053208795747a3223f04e1">weightvec_Monolith</a>[iSpline] = double(weight);</div>
<div class="line"><span class="lineno">  358</span><span class="preprocessor">#pragma GCC diagnostic pop</span></div>
<div class="line"><span class="lineno">  359</span>  }</div>
<div class="line"><span class="lineno">  360</span>}</div>
<div class="ttc" id="aSplineCommon_8h_html_aac6312c7a4c683e6d016d9fccdc7d7c0a546352c58e328d9b57692a033eee8a42"><div class="ttname"><a href="SplineCommon_8h.html#aac6312c7a4c683e6d016d9fccdc7d7c0a546352c58e328d9b57692a033eee8a42">kCoeffB</a></div><div class="ttdeci">@ kCoeffB</div><div class="ttdoc">Coefficient B.</div><div class="ttdef"><b>Definition:</b> <a href="SplineCommon_8h_source.html#l00025">SplineCommon.h:25</a></div></div>
<div class="ttc" id="aSplineCommon_8h_html_aac6312c7a4c683e6d016d9fccdc7d7c0a82b4ea363cc5a4b0429efcc46582769d"><div class="ttname"><a href="SplineCommon_8h.html#aac6312c7a4c683e6d016d9fccdc7d7c0a82b4ea363cc5a4b0429efcc46582769d">kCoeffD</a></div><div class="ttdeci">@ kCoeffD</div><div class="ttdoc">Coefficient D.</div><div class="ttdef"><b>Definition:</b> <a href="SplineCommon_8h_source.html#l00028">SplineCommon.h:27</a></div></div>
<div class="ttc" id="aSplineCommon_8h_html_aac6312c7a4c683e6d016d9fccdc7d7c0a9e87d802f64d8929291c58eeb0eb16e6"><div class="ttname"><a href="SplineCommon_8h.html#aac6312c7a4c683e6d016d9fccdc7d7c0a9e87d802f64d8929291c58eeb0eb16e6">kCoeffY</a></div><div class="ttdeci">@ kCoeffY</div><div class="ttdoc">Coefficient Y.</div><div class="ttdef"><b>Definition:</b> <a href="SplineCommon_8h_source.html#l00024">SplineCommon.h:24</a></div></div>
<div class="ttc" id="aSplineCommon_8h_html_aac6312c7a4c683e6d016d9fccdc7d7c0af73b429597449e82d2920f69d03cef36"><div class="ttname"><a href="SplineCommon_8h.html#aac6312c7a4c683e6d016d9fccdc7d7c0af73b429597449e82d2920f69d03cef36">kCoeffC</a></div><div class="ttdeci">@ kCoeffC</div><div class="ttdoc">Coefficient C.</div><div class="ttdef"><b>Definition:</b> <a href="SplineCommon_8h_source.html#l00026">SplineCommon.h:26</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_a107c337ce7053208795747a3223f04e1"><div class="ttname"><a href="classsplineFDBase.html#a107c337ce7053208795747a3223f04e1">splineFDBase::weightvec_Monolith</a></div><div class="ttdeci">std::vector&lt; M3::float_t &gt; weightvec_Monolith</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00126">splineFDBase.h:126</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_a324c4b50910454092ba45d945ef57bda"><div class="ttname"><a href="classsplineFDBase.html#a324c4b50910454092ba45d945ef57bda">splineFDBase::xVarArray</a></div><div class="ttdeci">M3::float_t * xVarArray</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00121">splineFDBase.h:121</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_a7a564f5748f16d97ebf1e1c300a1cc5c"><div class="ttname"><a href="classsplineFDBase.html#a7a564f5748f16d97ebf1e1c300a1cc5c">splineFDBase::uniquecoeffindices</a></div><div class="ttdeci">std::vector&lt; int &gt; uniquecoeffindices</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00112">splineFDBase.h:112</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_aa36e6889d054ad0f86f33a53dd3fe036"><div class="ttname"><a href="classsplineFDBase.html#aa36e6889d054ad0f86f33a53dd3fe036">splineFDBase::UniqueSystCurrSegment</a></div><div class="ttdeci">std::vector&lt; int &gt; UniqueSystCurrSegment</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00106">splineFDBase.h:106</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_ae237cc1c6d97e35bf4f7f64e369a5781"><div class="ttname"><a href="classsplineFDBase.html#ae237cc1c6d97e35bf4f7f64e369a5781">splineFDBase::uniquesplinevec_Monolith</a></div><div class="ttdeci">std::vector&lt; int &gt; uniquesplinevec_Monolith</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00127">splineFDBase.h:127</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_af63885ddb6731f77808d029372e6b187"><div class="ttname"><a href="classsplineFDBase.html#af63885ddb6731f77808d029372e6b187">splineFDBase::coeffindexvec</a></div><div class="ttdeci">std::vector&lt; int &gt; coeffindexvec</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00111">splineFDBase.h:111</a></div></div>
<div class="ttc" id="anamespaceM3_html_a1f95274549f25fc19fe7db343c8a7a68"><div class="ttname"><a href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a></div><div class="ttdeci">double float_t</div><div class="ttdef"><b>Definition:</b> <a href="Structs_8h_source.html#l00015">Structs.h:15</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6e765571776f8affeca355a184fef11a" name="a6e765571776f8affeca355a184fef11a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e765571776f8affeca355a184fef11a">&#9670;&#160;</a></span>cleanUpMemory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void splineFDBase::cleanUpMemory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8cpp_source.html#l00030">30</a> of file <a class="el" href="splineFDBase_8cpp_source.html">splineFDBase.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   30</span>                                 {</div>
<div class="line"><span class="lineno">   31</span><span class="comment">//****************************************</span></div>
<div class="line"><span class="lineno">   32</span> </div>
<div class="line"><span class="lineno">   33</span>  <span class="comment">//Call once everything&#39;s been allocated in samplePDFSKBase, cleans up junk from memory!</span></div>
<div class="line"><span class="lineno">   34</span>  <span class="comment">//Not a huge saving but it&#39;s better than leaving everything up to the compiler</span></div>
<div class="line"><span class="lineno">   35</span>  <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Cleaning up spline memory&quot;</span>);</div>
<div class="line"><span class="lineno">   36</span> </div>
<div class="line"><span class="lineno">   37</span>  <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>.clear();</div>
<div class="line"><span class="lineno">   38</span>  <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>.shrink_to_fit();</div>
<div class="line"><span class="lineno">   39</span>  <a class="code hl_variable" href="classsplineFDBase.html#a5619363447e607cd835c46d601b10675">SplineFileParPrefixNames</a>.clear();</div>
<div class="line"><span class="lineno">   40</span>  <a class="code hl_variable" href="classsplineFDBase.html#a5619363447e607cd835c46d601b10675">SplineFileParPrefixNames</a>.shrink_to_fit();</div>
<div class="line"><span class="lineno">   41</span>  <a class="code hl_variable" href="classsplineFDBase.html#af71b65713518f42e59c543dbad5dab70">SplineBinning</a>.clear();</div>
<div class="line"><span class="lineno">   42</span>  <a class="code hl_variable" href="classsplineFDBase.html#af71b65713518f42e59c543dbad5dab70">SplineBinning</a>.shrink_to_fit();</div>
<div class="line"><span class="lineno">   43</span>  <a class="code hl_variable" href="classsplineFDBase.html#af036372a158b4e463683a8d02a20ec3d">GlobalSystIndex</a>.clear();</div>
<div class="line"><span class="lineno">   44</span>  <a class="code hl_variable" href="classsplineFDBase.html#af036372a158b4e463683a8d02a20ec3d">GlobalSystIndex</a>.shrink_to_fit();</div>
<div class="line"><span class="lineno">   45</span>  <a class="code hl_variable" href="classsplineFDBase.html#aacf850f4ec22e4f7338f243999ecc7dd">UniqueSystNames</a>.clear();</div>
<div class="line"><span class="lineno">   46</span>  <a class="code hl_variable" href="classsplineFDBase.html#aacf850f4ec22e4f7338f243999ecc7dd">UniqueSystNames</a>.shrink_to_fit();</div>
<div class="line"><span class="lineno">   47</span>  <span class="comment">//Really make sure all the memory is cleared</span></div>
<div class="line"><span class="lineno">   48</span>  <span class="keywordflow">for</span>(<span class="keyword">auto</span> Spline : <a class="code hl_variable" href="classsplineFDBase.html#a84ec9ea208503053b9735b1cb1bc417d">splinevec_Monolith</a>){</div>
<div class="line"><span class="lineno">   49</span>    <span class="keywordflow">if</span>(Spline){<span class="keyword">delete</span> Spline;}</div>
<div class="line"><span class="lineno">   50</span>  }</div>
<div class="line"><span class="lineno">   51</span>  <a class="code hl_variable" href="classsplineFDBase.html#a84ec9ea208503053b9735b1cb1bc417d">splinevec_Monolith</a>.clear();</div>
<div class="line"><span class="lineno">   52</span>  <a class="code hl_variable" href="classsplineFDBase.html#a84ec9ea208503053b9735b1cb1bc417d">splinevec_Monolith</a>.shrink_to_fit();</div>
<div class="line"><span class="lineno">   53</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classsplineFDBase.html#aa8a204355df78af3f79bf8f2815258d3">isflatarray</a> != <span class="keyword">nullptr</span>) <span class="keyword">delete</span> <a class="code hl_variable" href="classsplineFDBase.html#aa8a204355df78af3f79bf8f2815258d3">isflatarray</a>;</div>
<div class="line"><span class="lineno">   54</span>}</div>
<div class="ttc" id="aclasssplineFDBase_html_a84ec9ea208503053b9735b1cb1bc417d"><div class="ttname"><a href="classsplineFDBase.html#a84ec9ea208503053b9735b1cb1bc417d">splineFDBase::splinevec_Monolith</a></div><div class="ttdeci">std::vector&lt; TSpline3_red * &gt; splinevec_Monolith</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00114">splineFDBase.h:114</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_aa8a204355df78af3f79bf8f2815258d3"><div class="ttname"><a href="classsplineFDBase.html#aa8a204355df78af3f79bf8f2815258d3">splineFDBase::isflatarray</a></div><div class="ttdeci">bool * isflatarray</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00122">splineFDBase.h:122</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_aacf850f4ec22e4f7338f243999ecc7dd"><div class="ttname"><a href="classsplineFDBase.html#aacf850f4ec22e4f7338f243999ecc7dd">splineFDBase::UniqueSystNames</a></div><div class="ttdeci">std::vector&lt; std::string &gt; UniqueSystNames</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00103">splineFDBase.h:103</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0bfc616fab953333e6e938de52ce3bed" name="a0bfc616fab953333e6e938de52ce3bed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bfc616fab953333e6e938de52ce3bed">&#9670;&#160;</a></span>CountNumberOfLoadedSplines()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int splineFDBase::CountNumberOfLoadedSplines </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>NonFlat</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Verbosity</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8cpp_source.html#l00522">522</a> of file <a class="el" href="splineFDBase_8cpp_source.html">splineFDBase.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  524</span>{</div>
<div class="line"><span class="lineno">  525</span>  <span class="keywordtype">int</span> SampleCounter_NonFlat = 0;</div>
<div class="line"><span class="lineno">  526</span>  <span class="keywordtype">int</span> SampleCounter_All = 0;</div>
<div class="line"><span class="lineno">  527</span>  <span class="keywordtype">int</span> FullCounter_NonFlat = 0;</div>
<div class="line"><span class="lineno">  528</span>  <span class="keywordtype">int</span> FullCounter_All = 0;</div>
<div class="line"><span class="lineno">  529</span> </div>
<div class="line"><span class="lineno">  530</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iSample = 0; iSample &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>.size(); iSample++)</div>
<div class="line"><span class="lineno">  531</span>  { <span class="comment">// Loop over systematics</span></div>
<div class="line"><span class="lineno">  532</span>    SampleCounter_NonFlat = 0;</div>
<div class="line"><span class="lineno">  533</span>    SampleCounter_All = 0;</div>
<div class="line"><span class="lineno">  534</span>    std::string SampleName = <a class="code hl_variable" href="classsplineFDBase.html#a78508c5d0d4ef09457beb723dc796208">SampleNames</a>[iSample];</div>
<div class="line"><span class="lineno">  535</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iOscChan = 0; iOscChan &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample].size(); iOscChan++)</div>
<div class="line"><span class="lineno">  536</span>    { <span class="comment">// Loop over oscillation channels</span></div>
<div class="line"><span class="lineno">  537</span>      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iSyst = 0; iSyst &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan].size(); iSyst++)</div>
<div class="line"><span class="lineno">  538</span>      { <span class="comment">// Loop over systematics</span></div>
<div class="line"><span class="lineno">  539</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iMode = 0; iMode &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst].size(); iMode++)</div>
<div class="line"><span class="lineno">  540</span>        { <span class="comment">// Loop over modes</span></div>
<div class="line"><span class="lineno">  541</span>          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iVar1 = 0; iVar1 &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst][iMode].size(); iVar1++)</div>
<div class="line"><span class="lineno">  542</span>          { <span class="comment">// Loop over first dimension</span></div>
<div class="line"><span class="lineno">  543</span>            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iVar2 = 0; iVar2 &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst][iMode][iVar1].size(); iVar2++)</div>
<div class="line"><span class="lineno">  544</span>            { <span class="comment">// Loop over second dimension</span></div>
<div class="line"><span class="lineno">  545</span>              <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iVar3 = 0; iVar3 &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst][iMode][iVar1][iVar2].size(); iVar3++)</div>
<div class="line"><span class="lineno">  546</span>              { <span class="comment">// Loop over third dimension</span></div>
<div class="line"><span class="lineno">  547</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="classsplineFDBase.html#ae66addf83262b03969d0b3b89737a42b">isValidSplineIndex</a>(SampleName, iOscChan, iSyst, iMode, iVar1, iVar2, iVar3))</div>
<div class="line"><span class="lineno">  548</span>                {</div>
<div class="line"><span class="lineno">  549</span>                  <span class="keywordtype">int</span> splineindex = <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst][iMode][iVar1][iVar2][iVar3];</div>
<div class="line"><span class="lineno">  550</span>                  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classsplineFDBase.html#a84ec9ea208503053b9735b1cb1bc417d">splinevec_Monolith</a>[splineindex])</div>
<div class="line"><span class="lineno">  551</span>                  {</div>
<div class="line"><span class="lineno">  552</span>                    SampleCounter_NonFlat += 1;</div>
<div class="line"><span class="lineno">  553</span>                  }</div>
<div class="line"><span class="lineno">  554</span>                  SampleCounter_All += 1;</div>
<div class="line"><span class="lineno">  555</span>                }</div>
<div class="line"><span class="lineno">  556</span>              }</div>
<div class="line"><span class="lineno">  557</span>            }</div>
<div class="line"><span class="lineno">  558</span>          }</div>
<div class="line"><span class="lineno">  559</span>        }</div>
<div class="line"><span class="lineno">  560</span>      }</div>
<div class="line"><span class="lineno">  561</span>    }</div>
<div class="line"><span class="lineno">  562</span>    <span class="keywordflow">if</span> (Verbosity &gt; 0)</div>
<div class="line"><span class="lineno">  563</span>    {</div>
<div class="line"><span class="lineno">  564</span>      std::cout &lt;&lt; std::setw(10) &lt;&lt; <a class="code hl_variable" href="classsplineFDBase.html#a78508c5d0d4ef09457beb723dc796208">SampleNames</a>[iSample] &lt;&lt; <span class="stringliteral">&quot; has &quot;</span> &lt;&lt; std::setw(10) &lt;&lt; SampleCounter_All &lt;&lt; <span class="stringliteral">&quot; splines, of which &quot;</span> &lt;&lt; std::setw(10) &lt;&lt; SampleCounter_NonFlat &lt;&lt; <span class="stringliteral">&quot; are not flat&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  565</span>    }</div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span>    FullCounter_NonFlat += SampleCounter_NonFlat;</div>
<div class="line"><span class="lineno">  568</span>    FullCounter_All += SampleCounter_All;</div>
<div class="line"><span class="lineno">  569</span>  }</div>
<div class="line"><span class="lineno">  570</span> </div>
<div class="line"><span class="lineno">  571</span>  <span class="keywordflow">if</span> (Verbosity &gt; 0)</div>
<div class="line"><span class="lineno">  572</span>  {</div>
<div class="line"><span class="lineno">  573</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Total number of splines loaded: {}&quot;</span>, FullCounter_All);</div>
<div class="line"><span class="lineno">  574</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Total number of non-flat splines loaded: {}&quot;</span>, FullCounter_NonFlat);</div>
<div class="line"><span class="lineno">  575</span>  }</div>
<div class="line"><span class="lineno">  576</span> </div>
<div class="line"><span class="lineno">  577</span>  <span class="keywordflow">if</span> (NonFlat)</div>
<div class="line"><span class="lineno">  578</span>  {</div>
<div class="line"><span class="lineno">  579</span>    <span class="keywordflow">return</span> FullCounter_NonFlat;</div>
<div class="line"><span class="lineno">  580</span>  }</div>
<div class="line"><span class="lineno">  581</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  582</span>  {</div>
<div class="line"><span class="lineno">  583</span>    <span class="keywordflow">return</span> FullCounter_All;</div>
<div class="line"><span class="lineno">  584</span>  }</div>
<div class="line"><span class="lineno">  585</span>}</div>
<div class="ttc" id="aclasssplineFDBase_html_ae66addf83262b03969d0b3b89737a42b"><div class="ttname"><a href="classsplineFDBase.html#ae66addf83262b03969d0b3b89737a42b">splineFDBase::isValidSplineIndex</a></div><div class="ttdeci">bool isValidSplineIndex(std::string SampleName, int iSyst, int iOscChan, int iMode, int iVar1, int iVar2, int iVar3)</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8cpp_source.html#l00910">splineFDBase.cpp:910</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af6e248be25f753c85c4fbf2f3b72cf88" name="af6e248be25f753c85c4fbf2f3b72cf88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6e248be25f753c85c4fbf2f3b72cf88">&#9670;&#160;</a></span>Evaluate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void splineFDBase::Evaluate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>CW: This Eval should be used when using two separate x,{y,a,b,c,d} arrays to store the weights; probably the best one here! Same thing but pass parameter spline segments instead of variations. </p>

<p>Implements <a class="el" href="classSplineBase.html#a86e629f3eef59b2f3800136c86fe90c3">SplineBase</a>.</p>

<p class="definition">Definition at line <a class="el" href="splineFDBase_8cpp_source.html#l00218">218</a> of file <a class="el" href="splineFDBase_8cpp_source.html">splineFDBase.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  218</span>                            {</div>
<div class="line"><span class="lineno">  219</span><span class="comment">// *****************************************</span></div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span>  <span class="comment">// There&#39;s a parameter mapping that goes from spline parameter to a global parameter index</span></div>
<div class="line"><span class="lineno">  222</span>  <span class="comment">// Find the spline segments</span></div>
<div class="line"><span class="lineno">  223</span>  <a class="code hl_function" href="classsplineFDBase.html#ab4a852337aab961abbcaa0c9f70c88ba">FindSplineSegment</a>();</div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span>  <span class="comment">//KS: Huge MP loop over all valid splines</span></div>
<div class="line"><span class="lineno">  226</span>  <a class="code hl_function" href="classsplineFDBase.html#a9eceab58c0aa06b58eb4e3708c00ee0e">CalcSplineWeights</a>();</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>  <span class="comment">//KS: Huge MP loop over all events calculating total weight</span></div>
<div class="line"><span class="lineno">  229</span>  <a class="code hl_function" href="classsplineFDBase.html#a1a237a8b8c3c165c82ebe15d2ca740c7">ModifyWeights</a>();</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>  <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  232</span>}</div>
<div class="ttc" id="aclasssplineFDBase_html_a1a237a8b8c3c165c82ebe15d2ca740c7"><div class="ttname"><a href="classsplineFDBase.html#a1a237a8b8c3c165c82ebe15d2ca740c7">splineFDBase::ModifyWeights</a></div><div class="ttdeci">void ModifyWeights() override</div><div class="ttdoc">Calc total event weight, not used by Bin-by-bin splines.</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00074">splineFDBase.h:74</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_a9eceab58c0aa06b58eb4e3708c00ee0e"><div class="ttname"><a href="classsplineFDBase.html#a9eceab58c0aa06b58eb4e3708c00ee0e">splineFDBase::CalcSplineWeights</a></div><div class="ttdeci">void CalcSplineWeights() override</div><div class="ttdoc">CPU based code which eval weight for each spline.</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8cpp_source.html#l00313">splineFDBase.cpp:313</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_ab4a852337aab961abbcaa0c9f70c88ba"><div class="ttname"><a href="classsplineFDBase.html#ab4a852337aab961abbcaa0c9f70c88ba">splineFDBase::FindSplineSegment</a></div><div class="ttdeci">void FindSplineSegment() override</div><div class="ttdoc">CW:Code used in step by step reweighting, Find Spline Segment for each param.</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8cpp_source.html#l00238">splineFDBase.cpp:238</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="addabdf30ee85c6975422c0ccf3f1844f" name="addabdf30ee85c6975422c0ccf3f1844f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addabdf30ee85c6975422c0ccf3f1844f">&#9670;&#160;</a></span>FillSampleArray()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void splineFDBase::FillSampleArray </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>SampleName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>OscChanFileNames</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a00c0e93b4c4799ffacaa58578e5dcf6b" name="a00c0e93b4c4799ffacaa58578e5dcf6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00c0e93b4c4799ffacaa58578e5dcf6b">&#9670;&#160;</a></span>FindSplineBinning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; TAxis * &gt; splineFDBase::FindSplineBinning </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>FileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>SampleName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8cpp_source.html#l00406">406</a> of file <a class="el" href="splineFDBase_8cpp_source.html">splineFDBase.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  408</span>{</div>
<div class="line"><span class="lineno">  409</span>  std::vector&lt;TAxis *&gt; ReturnVec;</div>
<div class="line"><span class="lineno">  410</span>  <span class="keywordtype">int</span> iSample=<a class="code hl_function" href="classsplineFDBase.html#a2d19b4bd235644d4c6a1ca6d589be6ca">getSampleIndex</a>(SampleName);</div>
<div class="line"><span class="lineno">  411</span> </div>
<div class="line"><span class="lineno">  412</span>  <span class="comment">//Try declaring these outside of TFile so they aren&#39;t owned by File</span></div>
<div class="line"><span class="lineno">  413</span>  <span class="keywordtype">int</span> nDummyBins = 1;</div>
<div class="line"><span class="lineno">  414</span>  <span class="keywordtype">double</span> DummyEdges[2];</div>
<div class="line"><span class="lineno">  415</span>  DummyEdges[0] = -1e15;</div>
<div class="line"><span class="lineno">  416</span>  DummyEdges[1] = 1e15;</div>
<div class="line"><span class="lineno">  417</span>  TAxis* DummyAxis = <span class="keyword">new</span> TAxis(nDummyBins, DummyEdges);</div>
<div class="line"><span class="lineno">  418</span>  TH2F* Hist2D = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  419</span>  TH3F* Hist3D = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>  <span class="keyword">auto</span> File = std::unique_ptr&lt;TFile&gt;(TFile::Open(FileName.c_str(), <span class="stringliteral">&quot;READ&quot;</span>));</div>
<div class="line"><span class="lineno">  422</span>  <span class="keywordflow">if</span> (!File || File-&gt;IsZombie())</div>
<div class="line"><span class="lineno">  423</span>  {</div>
<div class="line"><span class="lineno">  424</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;File {} not found&quot;</span>, FileName);</div>
<div class="line"><span class="lineno">  425</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;This is caused by something here! {} : {}&quot;</span>, __FILE__, __LINE__);</div>
<div class="line"><span class="lineno">  426</span>    <span class="keywordflow">throw</span> <a class="code hl_class" href="classMaCh3Exception.html">MaCh3Exception</a>(__FILE__ , __LINE__ );</div>
<div class="line"><span class="lineno">  427</span>  }</div>
<div class="line"><span class="lineno">  428</span> </div>
<div class="line"><span class="lineno">  429</span>  <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Finding binning for:&quot;</span>);</div>
<div class="line"><span class="lineno">  430</span>  <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;{}&quot;</span>, FileName);</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>  <span class="keywordtype">bool</span> isHist2D = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  433</span>  <span class="keywordtype">bool</span> isHist3D = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  434</span> </div>
<div class="line"><span class="lineno">  435</span>  std::string TemplateName = <span class="stringliteral">&quot;dev_tmp_0_0&quot;</span>;</div>
<div class="line"><span class="lineno">  436</span>  TObject *Obj = File-&gt;Get(TemplateName.c_str());</div>
<div class="line"><span class="lineno">  437</span>  <span class="comment">//If you can&#39;t find dev_tmp_0_0 then this will cause a problem</span></div>
<div class="line"><span class="lineno">  438</span>  <span class="keywordflow">if</span> (!Obj)</div>
<div class="line"><span class="lineno">  439</span>  {</div>
<div class="line"><span class="lineno">  440</span>    TemplateName = <span class="stringliteral">&quot;dev_tmp.0.0&quot;</span>;</div>
<div class="line"><span class="lineno">  441</span>    Obj = File-&gt;Get(TemplateName.c_str());</div>
<div class="line"><span class="lineno">  442</span>    <span class="keywordflow">if</span> (!Obj)</div>
<div class="line"><span class="lineno">  443</span>    {</div>
<div class="line"><span class="lineno">  444</span>      <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Error: could not find dev_tmp_0_0 in spline file. Spline binning cannot be set!&quot;</span>);</div>
<div class="line"><span class="lineno">  445</span>      <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;FileName: {}&quot;</span>, FileName);</div>
<div class="line"><span class="lineno">  446</span>      <span class="keywordflow">throw</span> <a class="code hl_class" href="classMaCh3Exception.html">MaCh3Exception</a>(__FILE__ , __LINE__ );</div>
<div class="line"><span class="lineno">  447</span>    }</div>
<div class="line"><span class="lineno">  448</span>  }</div>
<div class="line"><span class="lineno">  449</span> </div>
<div class="line"><span class="lineno">  450</span>  <span class="comment">//Now check if dev_tmp_0_0 is a TH2 i.e. specifying the dimensions of the splines is 2D</span></div>
<div class="line"><span class="lineno">  451</span>  <span class="keywordflow">if</span> (Obj-&gt;IsA() == TH2F::Class())</div>
<div class="line"><span class="lineno">  452</span>  {</div>
<div class="line"><span class="lineno">  453</span>    isHist2D = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  454</span>  }</div>
<div class="line"><span class="lineno">  455</span> </div>
<div class="line"><span class="lineno">  456</span>  <span class="comment">//For T2K annoyingly all objects are TH3Fs</span></div>
<div class="line"><span class="lineno">  457</span>  <span class="keywordflow">if</span> (Obj-&gt;IsA() == TH3F::Class())</div>
<div class="line"><span class="lineno">  458</span>  {</div>
<div class="line"><span class="lineno">  459</span>    isHist3D = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  460</span>  }</div>
<div class="line"><span class="lineno">  461</span> </div>
<div class="line"><span class="lineno">  462</span>  <span class="keywordflow">if</span> (!isHist2D &amp;&amp; !isHist3D)</div>
<div class="line"><span class="lineno">  463</span>  {</div>
<div class="line"><span class="lineno">  464</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Object doesn&#39;t inherit from either TH2D and TH3D - Odd A&quot;</span>);</div>
<div class="line"><span class="lineno">  465</span>    <span class="keywordflow">throw</span> <a class="code hl_class" href="classMaCh3Exception.html">MaCh3Exception</a>(__FILE__ , __LINE__ );</div>
<div class="line"><span class="lineno">  466</span>  }</div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span>  <span class="keywordflow">if</span> (isHist2D)</div>
<div class="line"><span class="lineno">  469</span>  {</div>
<div class="line"><span class="lineno">  470</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classsplineFDBase.html#a6c28400605049bdee229885c46463dcd">Dimensions</a>[iSample] != 2)</div>
<div class="line"><span class="lineno">  471</span>    {</div>
<div class="line"><span class="lineno">  472</span>      <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Trying to load a 2D spline template when nDim={}&quot;</span>, <a class="code hl_variable" href="classsplineFDBase.html#a6c28400605049bdee229885c46463dcd">Dimensions</a>[iSample]);</div>
<div class="line"><span class="lineno">  473</span>    }</div>
<div class="line"><span class="lineno">  474</span>      <span class="keywordflow">throw</span> <a class="code hl_class" href="classMaCh3Exception.html">MaCh3Exception</a>(__FILE__, __LINE__);</div>
<div class="line"><span class="lineno">  475</span>    <span class="comment">//Hist2D = std::unique_ptr&lt;TH2F&gt;(File-&gt;Get&lt;TH2F&gt;(&quot;dev_tmp_0_0&quot;));</span></div>
<div class="line"><span class="lineno">  476</span>    Hist2D = File-&gt;Get&lt;TH2F&gt;(TemplateName.c_str());</div>
<div class="line"><span class="lineno">  477</span>  }</div>
<div class="line"><span class="lineno">  478</span> </div>
<div class="line"><span class="lineno">  479</span>  <span class="keywordflow">if</span> (isHist3D)</div>
<div class="line"><span class="lineno">  480</span>  {</div>
<div class="line"><span class="lineno">  481</span>    Hist3D = File-&gt;Get&lt;TH3F&gt;((TemplateName.c_str()));</div>
<div class="line"><span class="lineno">  482</span> </div>
<div class="line"><span class="lineno">  483</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classsplineFDBase.html#a6c28400605049bdee229885c46463dcd">Dimensions</a>[iSample] != 3 &amp;&amp; Hist3D-&gt;GetZaxis()-&gt;GetNbins() != 1)</div>
<div class="line"><span class="lineno">  484</span>    {</div>
<div class="line"><span class="lineno">  485</span>      <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Trying to load a 3D spline template when nDim={}&quot;</span>, <a class="code hl_variable" href="classsplineFDBase.html#a6c28400605049bdee229885c46463dcd">Dimensions</a>[iSample]);</div>
<div class="line"><span class="lineno">  486</span>      <span class="keywordflow">throw</span> <a class="code hl_class" href="classMaCh3Exception.html">MaCh3Exception</a>(__FILE__ , __LINE__ );</div>
<div class="line"><span class="lineno">  487</span>    }</div>
<div class="line"><span class="lineno">  488</span>    Hist3D = File-&gt;Get&lt;TH3F&gt;(TemplateName.c_str());</div>
<div class="line"><span class="lineno">  489</span>  }</div>
<div class="line"><span class="lineno">  490</span> </div>
<div class="line"><span class="lineno">  491</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classsplineFDBase.html#a6c28400605049bdee229885c46463dcd">Dimensions</a>[iSample] == 2) {</div>
<div class="line"><span class="lineno">  492</span>    <span class="keywordflow">if</span>(isHist2D){</div>
<div class="line"><span class="lineno">  493</span>      ReturnVec.push_back(<span class="keyword">static_cast&lt;</span>TAxis*<span class="keyword">&gt;</span>(Hist2D-&gt;GetXaxis()-&gt;Clone()));</div>
<div class="line"><span class="lineno">  494</span>      ReturnVec.push_back(<span class="keyword">static_cast&lt;</span>TAxis*<span class="keyword">&gt;</span>(Hist2D-&gt;GetYaxis()-&gt;Clone()));</div>
<div class="line"><span class="lineno">  495</span>      ReturnVec.push_back(<span class="keyword">static_cast&lt;</span>TAxis*<span class="keyword">&gt;</span>(DummyAxis-&gt;Clone()));</div>
<div class="line"><span class="lineno">  496</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isHist3D) {</div>
<div class="line"><span class="lineno">  497</span>      ReturnVec.push_back(<span class="keyword">static_cast&lt;</span>TAxis*<span class="keyword">&gt;</span>(Hist3D-&gt;GetXaxis()-&gt;Clone()));</div>
<div class="line"><span class="lineno">  498</span>      ReturnVec.push_back(<span class="keyword">static_cast&lt;</span>TAxis*<span class="keyword">&gt;</span>(Hist3D-&gt;GetYaxis()-&gt;Clone()));</div>
<div class="line"><span class="lineno">  499</span>      ReturnVec.push_back(<span class="keyword">static_cast&lt;</span>TAxis*<span class="keyword">&gt;</span>(DummyAxis-&gt;Clone()));</div>
<div class="line"><span class="lineno">  500</span>    }</div>
<div class="line"><span class="lineno">  501</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="classsplineFDBase.html#a6c28400605049bdee229885c46463dcd">Dimensions</a>[iSample] == 3) {</div>
<div class="line"><span class="lineno">  502</span>    ReturnVec.push_back(<span class="keyword">static_cast&lt;</span>TAxis*<span class="keyword">&gt;</span>(Hist3D-&gt;GetXaxis()-&gt;Clone()));</div>
<div class="line"><span class="lineno">  503</span>    ReturnVec.push_back(<span class="keyword">static_cast&lt;</span>TAxis*<span class="keyword">&gt;</span>(Hist3D-&gt;GetYaxis()-&gt;Clone()));</div>
<div class="line"><span class="lineno">  504</span>    ReturnVec.push_back(<span class="keyword">static_cast&lt;</span>TAxis*<span class="keyword">&gt;</span>(Hist3D-&gt;GetZaxis()-&gt;Clone()));</div>
<div class="line"><span class="lineno">  505</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  506</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Number of dimensions not valid! Given: {}&quot;</span>, <a class="code hl_variable" href="classsplineFDBase.html#a6c28400605049bdee229885c46463dcd">Dimensions</a>[iSample]);</div>
<div class="line"><span class="lineno">  507</span>    <span class="keywordflow">throw</span> <a class="code hl_class" href="classMaCh3Exception.html">MaCh3Exception</a>(__FILE__ , __LINE__ );</div>
<div class="line"><span class="lineno">  508</span>  }</div>
<div class="line"><span class="lineno">  509</span> </div>
<div class="line"><span class="lineno">  510</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iAxis = 0; iAxis &lt; ReturnVec.size(); ++iAxis) {</div>
<div class="line"><span class="lineno">  511</span>    <a class="code hl_function" href="classsplineFDBase.html#a7f5b16b65dc7da748f20bdc803b7e593">PrintBinning</a>(ReturnVec[iAxis]);</div>
<div class="line"><span class="lineno">  512</span>  }</div>
<div class="line"><span class="lineno">  513</span> </div>
<div class="line"><span class="lineno">  514</span>  <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Left PrintBinning now tidying up&quot;</span>);</div>
<div class="line"><span class="lineno">  515</span>  <span class="keyword">delete</span> DummyAxis;</div>
<div class="line"><span class="lineno">  516</span>  File-&gt;Close();</div>
<div class="line"><span class="lineno">  517</span> </div>
<div class="line"><span class="lineno">  518</span>  <span class="keywordflow">return</span> ReturnVec;</div>
<div class="line"><span class="lineno">  519</span>}</div>
<div class="ttc" id="aclasssplineFDBase_html_a7f5b16b65dc7da748f20bdc803b7e593"><div class="ttname"><a href="classsplineFDBase.html#a7f5b16b65dc7da748f20bdc803b7e593">splineFDBase::PrintBinning</a></div><div class="ttdeci">void PrintBinning(TAxis *Axis)</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8cpp_source.html#l00976">splineFDBase.cpp:976</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab4a852337aab961abbcaa0c9f70c88ba" name="ab4a852337aab961abbcaa0c9f70c88ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4a852337aab961abbcaa0c9f70c88ba">&#9670;&#160;</a></span>FindSplineSegment()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void splineFDBase::FindSplineSegment </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>CW:Code used in step by step reweighting, Find Spline Segment for each param. </p>

<p>Implements <a class="el" href="classSplineBase.html#ae18e490295762416c8627d2db11ee98d">SplineBase</a>.</p>

<p class="definition">Definition at line <a class="el" href="splineFDBase_8cpp_source.html#l00238">238</a> of file <a class="el" href="splineFDBase_8cpp_source.html">splineFDBase.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  240</span>{</div>
<div class="line"><span class="lineno">  241</span>  <span class="comment">//HW okay let&#39;s try this, we delete+refill a new array which we&#39;ll fill with x-s for our segment</span></div>
<div class="line"><span class="lineno">  242</span><span class="preprocessor">  #ifdef MULTITHREAD</span></div>
<div class="line"><span class="lineno">  243</span><span class="preprocessor">  #pragma omp parallel </span><span class="comment">//for schedule(dynamic)</span></div>
<div class="line"><span class="lineno">  244</span><span class="preprocessor">  #endif</span></div>
<div class="line"><span class="lineno">  245</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iSyst = 0; iSyst &lt; <a class="code hl_variable" href="classsplineFDBase.html#a0d42cbfc22f21906264af285fd57b1af">nUniqueSysts</a>; iSyst++) {</div>
<div class="line"><span class="lineno">  246</span>    <span class="keywordtype">int</span> nPoints = <a class="code hl_variable" href="classsplineFDBase.html#a176d42bb137d3c8c3771eb1a4a8440c8">UniqueSystNKnots</a>[iSyst];</div>
<div class="line"><span class="lineno">  247</span>    std::vector&lt;M3::float_t&gt; xArray = <a class="code hl_variable" href="classsplineFDBase.html#a5112a1bbd658d3a90c6a785c12aebf34">UniqueSystXPts</a>[iSyst];</div>
<div class="line"><span class="lineno">  248</span> </div>
<div class="line"><span class="lineno">  249</span>    <span class="comment">// Get the variation for this reconfigure for the ith parameter</span></div>
<div class="line"><span class="lineno">  250</span>    <span class="keywordtype">int</span> GlobalIndex = <a class="code hl_variable" href="classsplineFDBase.html#a3b821b95c2db6063a9baa244b28aeaa6">UniqueSystIndices</a>[iSyst];</div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  252</span>    <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> xvar = <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a>(<a class="code hl_variable" href="classsplineFDBase.html#a891de87b873e079f6bbdb1355a9ff153">xsec</a>-&gt;<a class="code hl_function" href="classcovarianceBase.html#a37c87fa18db7e4ac087d120bca955617">getParProp</a>(GlobalIndex));</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>    <a class="code hl_variable" href="classsplineFDBase.html#a324c4b50910454092ba45d945ef57bda">xVarArray</a>[iSyst]=xvar;</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>    <a class="code hl_typedef" href="namespaceM3.html#adb59b8ecdc4e1b2d5d4c826a13aa7463">M3::int_t</a> segment = 0;</div>
<div class="line"><span class="lineno">  257</span>    <a class="code hl_typedef" href="namespaceM3.html#adb59b8ecdc4e1b2d5d4c826a13aa7463">M3::int_t</a> kHigh = <a class="code hl_typedef" href="namespaceM3.html#adb59b8ecdc4e1b2d5d4c826a13aa7463">M3::int_t</a>(nPoints - 1);</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>    <span class="comment">//KS: We expect new segment is very close to previous</span></div>
<div class="line"><span class="lineno">  260</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="namespaceM3.html#adb59b8ecdc4e1b2d5d4c826a13aa7463">M3::int_t</a> PreviousSegment = <a class="code hl_typedef" href="namespaceM3.html#adb59b8ecdc4e1b2d5d4c826a13aa7463">M3::int_t</a>(<a class="code hl_variable" href="classsplineFDBase.html#aa36e6889d054ad0f86f33a53dd3fe036">UniqueSystCurrSegment</a>[iSyst]);</div>
<div class="line"><span class="lineno">  261</span>    <span class="comment">//KS: It is quite probable the new segment is same as in previous step so try to avoid binary search</span></div>
<div class="line"><span class="lineno">  262</span>    <span class="keywordflow">if</span>( xArray[PreviousSegment+1] &gt; xvar &amp;&amp; xvar &gt;= xArray[PreviousSegment] ) {</div>
<div class="line"><span class="lineno">  263</span>      segment = PreviousSegment;</div>
<div class="line"><span class="lineno">  264</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (xvar &lt;= xArray[0]) {</div>
<div class="line"><span class="lineno">  265</span>    <span class="comment">// If the variation is below the lowest saved spline point</span></div>
<div class="line"><span class="lineno">  266</span>      segment = 0;</div>
<div class="line"><span class="lineno">  267</span>      <span class="comment">// If the variation is above the highest saved spline point</span></div>
<div class="line"><span class="lineno">  268</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (xvar &gt;= xArray[nPoints-1]) {</div>
<div class="line"><span class="lineno">  269</span>      <span class="comment">//CW: Yes, the -2 is indeed correct, see TSpline.cxx:814 and //see: https://savannah.cern.ch/bugs/?71651</span></div>
<div class="line"><span class="lineno">  270</span>      segment = kHigh;</div>
<div class="line"><span class="lineno">  271</span>      <span class="comment">//KS: It is quite probable the new segment is same as in previous step so try to avoid binary search</span></div>
<div class="line"><span class="lineno">  272</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  273</span>      <span class="comment">// The top point we&#39;ve got</span></div>
<div class="line"><span class="lineno">  274</span>      <a class="code hl_typedef" href="namespaceM3.html#adb59b8ecdc4e1b2d5d4c826a13aa7463">M3::int_t</a> kHalf = 0;</div>
<div class="line"><span class="lineno">  275</span>      <span class="comment">// While there is still a difference in the points (we haven&#39;t yet found the segment)</span></div>
<div class="line"><span class="lineno">  276</span>      <span class="comment">// This is a binary search, incrementing segment and decrementing kHalf until we&#39;ve found the segment</span></div>
<div class="line"><span class="lineno">  277</span>      <span class="keywordflow">while</span> (kHigh - segment &gt; 1) {</div>
<div class="line"><span class="lineno">  278</span>        <span class="comment">// Increment the half-step</span></div>
<div class="line"><span class="lineno">  279</span>        kHalf = <a class="code hl_typedef" href="namespaceM3.html#adb59b8ecdc4e1b2d5d4c826a13aa7463">M3::int_t</a>((segment + kHigh)/2);</div>
<div class="line"><span class="lineno">  280</span>        <span class="comment">// If our variation is above the kHalf, set the segment to kHalf</span></div>
<div class="line"><span class="lineno">  281</span>        <span class="keywordflow">if</span> (xvar &gt; xArray[kHalf]) {</div>
<div class="line"><span class="lineno">  282</span>          segment = kHalf;</div>
<div class="line"><span class="lineno">  283</span>          <span class="comment">// Else move kHigh down</span></div>
<div class="line"><span class="lineno">  284</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  285</span>          kHigh = kHalf;</div>
<div class="line"><span class="lineno">  286</span>        }</div>
<div class="line"><span class="lineno">  287</span>      } <span class="comment">// End the while: we&#39;ve now done our binary search</span></div>
<div class="line"><span class="lineno">  288</span>    } <span class="comment">// End the else: we&#39;ve now found our point</span></div>
<div class="line"><span class="lineno">  289</span> </div>
<div class="line"><span class="lineno">  290</span>    <span class="keywordflow">if</span> (segment &gt;= nPoints-1 &amp;&amp; nPoints &gt; 1){segment = <a class="code hl_typedef" href="namespaceM3.html#adb59b8ecdc4e1b2d5d4c826a13aa7463">M3::int_t</a>(nPoints-2);}</div>
<div class="line"><span class="lineno">  291</span>    <a class="code hl_variable" href="classsplineFDBase.html#aa36e6889d054ad0f86f33a53dd3fe036">UniqueSystCurrSegment</a>[iSyst] = segment; </div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>    <span class="comment">//#ifdef DEBUG</span></div>
<div class="line"><span class="lineno">  294</span>    <span class="comment">//    if (SplineInfoArray[i].xPts[segment] &gt; xvar &amp;&amp; segment != 0) {</span></div>
<div class="line"><span class="lineno">  295</span>    <span class="comment">//      std::cerr &lt;&lt; &quot;Found a segment which is _ABOVE_ the variation!&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><span class="lineno">  296</span>    <span class="comment">//      std::cerr &lt;&lt; &quot;IT SHOULD ALWAYS BE BELOW! (except when segment 0)&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><span class="lineno">  297</span>    <span class="comment">//      std::cerr &lt;&lt; &quot;Spline: &quot;&lt;&lt; i &lt;&lt; std::endl;</span></div>
<div class="line"><span class="lineno">  298</span>    <span class="comment">//</span></div>
<div class="line"><span class="lineno">  299</span>    <span class="comment">//      std::cerr &lt;&lt; &quot;Found segment   = &quot; &lt;&lt; segment &lt;&lt; std::endl;</span></div>
<div class="line"><span class="lineno">  300</span>    <span class="comment">//      std::cerr &lt;&lt; &quot;Doing variation = &quot; &lt;&lt; xvar &lt;&lt; std::endl;</span></div>
<div class="line"><span class="lineno">  301</span>    <span class="comment">//      std::cerr &lt;&lt; &quot;x in spline     = &quot; &lt;&lt; SplineInfoArray[i].xPts[segment] &lt;&lt; std::endl;</span></div>
<div class="line"><span class="lineno">  302</span>    <span class="comment">//      for (_M3::int_t_ j = 0; j &lt; SplineInfoArray[j].nPts; ++j) {</span></div>
<div class="line"><span class="lineno">  303</span>    <span class="comment">//        std::cerr &lt;&lt; &quot;    &quot; &lt;&lt; j &lt;&lt; &quot; = &quot; &lt;&lt; SplineInfoArray[i].xPts[j] &lt;&lt; std::endl;</span></div>
<div class="line"><span class="lineno">  304</span>    <span class="comment">//      }</span></div>
<div class="line"><span class="lineno">  305</span>    <span class="comment">//      std::cerr &lt;&lt; __FILE__ &lt;&lt; &quot;:&quot; &lt;&lt; __LINE__ &lt;&lt; std::endl;</span></div>
<div class="line"><span class="lineno">  306</span>    <span class="comment">//      throw;</span></div>
<div class="line"><span class="lineno">  307</span>    <span class="comment">//    }</span></div>
<div class="line"><span class="lineno">  308</span>    <span class="comment">//#endif</span></div>
<div class="line"><span class="lineno">  309</span>  } <span class="comment">//end loop over params</span></div>
<div class="line"><span class="lineno">  310</span>}</div>
<div class="ttc" id="aclasscovarianceBase_html_a37c87fa18db7e4ac087d120bca955617"><div class="ttname"><a href="classcovarianceBase.html#a37c87fa18db7e4ac087d120bca955617">covarianceBase::getParProp</a></div><div class="ttdeci">double getParProp(const int i)</div><div class="ttdoc">Get proposed parameter value.</div><div class="ttdef"><b>Definition:</b> <a href="covarianceBase_8h_source.html#l00207">covarianceBase.h:207</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_a0d42cbfc22f21906264af285fd57b1af"><div class="ttname"><a href="classsplineFDBase.html#a0d42cbfc22f21906264af285fd57b1af">splineFDBase::nUniqueSysts</a></div><div class="ttdeci">int nUniqueSysts</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00102">splineFDBase.h:102</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_a176d42bb137d3c8c3771eb1a4a8440c8"><div class="ttname"><a href="classsplineFDBase.html#a176d42bb137d3c8c3771eb1a4a8440c8">splineFDBase::UniqueSystNKnots</a></div><div class="ttdeci">std::vector&lt; int &gt; UniqueSystNKnots</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00105">splineFDBase.h:105</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_a3b821b95c2db6063a9baa244b28aeaa6"><div class="ttname"><a href="classsplineFDBase.html#a3b821b95c2db6063a9baa244b28aeaa6">splineFDBase::UniqueSystIndices</a></div><div class="ttdeci">std::vector&lt; int &gt; UniqueSystIndices</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00104">splineFDBase.h:104</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_a5112a1bbd658d3a90c6a785c12aebf34"><div class="ttname"><a href="classsplineFDBase.html#a5112a1bbd658d3a90c6a785c12aebf34">splineFDBase::UniqueSystXPts</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; M3::float_t &gt; &gt; UniqueSystXPts</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00107">splineFDBase.h:107</a></div></div>
<div class="ttc" id="anamespaceM3_html_adb59b8ecdc4e1b2d5d4c826a13aa7463"><div class="ttname"><a href="namespaceM3.html#adb59b8ecdc4e1b2d5d4c826a13aa7463">M3::int_t</a></div><div class="ttdeci">int int_t</div><div class="ttdef"><b>Definition:</b> <a href="Structs_8h_source.html#l00016">Structs.h:16</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a85302df644fb84ff00201624c454636f" name="a85302df644fb84ff00201624c454636f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85302df644fb84ff00201624c454636f">&#9670;&#160;</a></span>getDimLabel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string splineFDBase::getDimLabel </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>BinningOpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>Axis</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8cpp_source.html#l00797">797</a> of file <a class="el" href="splineFDBase_8cpp_source.html">splineFDBase.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  799</span>{</div>
<div class="line"><span class="lineno">  800</span>  <span class="keywordflow">if</span>(Axis &gt; <a class="code hl_variable" href="classsplineFDBase.html#a00e1aeea8e9389c41f93469a26c83adc">DimensionLabels</a>[iSample].<a class="code hl_variable" href="GetPenaltyTerm_8cpp.html#a439227feff9d7f55384e8780cfc2eb82">size</a>()){</div>
<div class="line"><span class="lineno">  801</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;The spline Axis you are trying to get the label of is larger than the number of dimensions&quot;</span>);</div>
<div class="line"><span class="lineno">  802</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;You are trying to get axis {} but have only got {}&quot;</span>, Axis, <a class="code hl_variable" href="classsplineFDBase.html#a6c28400605049bdee229885c46463dcd">Dimensions</a>[iSample]);</div>
<div class="line"><span class="lineno">  803</span>    <span class="keywordflow">throw</span> <a class="code hl_class" href="classMaCh3Exception.html">MaCh3Exception</a>(__FILE__ , __LINE__ );</div>
<div class="line"><span class="lineno">  804</span>  }</div>
<div class="line"><span class="lineno">  805</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classsplineFDBase.html#a00e1aeea8e9389c41f93469a26c83adc">DimensionLabels</a>.at(iSample).at(Axis);</div>
<div class="line"><span class="lineno">  806</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa6395bf5a4506f584661b36fbc32b3ca" name="aa6395bf5a4506f584661b36fbc32b3ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6395bf5a4506f584661b36fbc32b3ca">&#9670;&#160;</a></span>GetEventSplines()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::vector&lt; std::vector&lt; int &gt; &gt; splineFDBase::GetEventSplines </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>SampleName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iOscChan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>EventMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Var1Val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Var2Val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Var3Val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the splines which affect a given event. </p>

</div>
</div>
<a id="aa37a0f892b96f6b0e3b6b7aa847e94cb" name="aa37a0f892b96f6b0e3b6b7aa847e94cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa37a0f892b96f6b0e3b6b7aa847e94cb">&#9670;&#160;</a></span>getNDim()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int splineFDBase::getNDim </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>BinningOpt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2d19b4bd235644d4c6a1ca6d589be6ca" name="a2d19b4bd235644d4c6a1ca6d589be6ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d19b4bd235644d4c6a1ca6d589be6ca">&#9670;&#160;</a></span>getSampleIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int splineFDBase::getSampleIndex </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>SampleName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8cpp_source.html#l00809">809</a> of file <a class="el" href="splineFDBase_8cpp_source.html">splineFDBase.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  809</span>                                                    {</div>
<div class="line"><span class="lineno">  810</span>  <span class="keywordtype">int</span> SampleIndex = -1;</div>
<div class="line"><span class="lineno">  811</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iSample = 0; iSample &lt; <a class="code hl_variable" href="classsplineFDBase.html#a78508c5d0d4ef09457beb723dc796208">SampleNames</a>.size(); iSample++)</div>
<div class="line"><span class="lineno">  812</span>  {</div>
<div class="line"><span class="lineno">  813</span>    <span class="keywordflow">if</span> (SampleName == <a class="code hl_variable" href="classsplineFDBase.html#a78508c5d0d4ef09457beb723dc796208">SampleNames</a>[iSample])</div>
<div class="line"><span class="lineno">  814</span>    {</div>
<div class="line"><span class="lineno">  815</span>      SampleIndex = iSample;</div>
<div class="line"><span class="lineno">  816</span>    }</div>
<div class="line"><span class="lineno">  817</span>  }</div>
<div class="line"><span class="lineno">  818</span>  <span class="keywordflow">if</span> (SampleIndex == -1)</div>
<div class="line"><span class="lineno">  819</span>  {</div>
<div class="line"><span class="lineno">  820</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Sample name not found : {}&quot;</span>, SampleName);     </div>
<div class="line"><span class="lineno">  821</span>    <span class="keywordflow">throw</span> <a class="code hl_class" href="classMaCh3Exception.html">MaCh3Exception</a>(__FILE__ , __LINE__ );</div>
<div class="line"><span class="lineno">  822</span>  }</div>
<div class="line"><span class="lineno">  823</span>  <span class="keywordflow">return</span> SampleIndex;</div>
<div class="line"><span class="lineno">  824</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8b7b34479c3240a9827d6a0b5b7da4b4" name="a8b7b34479c3240a9827d6a0b5b7da4b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b7b34479c3240a9827d6a0b5b7da4b4">&#9670;&#160;</a></span>getSplineCoeff_SepMany()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void splineFDBase::getSplineCoeff_SepMany </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>splineindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> *&amp;&#160;</td>
          <td class="paramname"><em>xArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> *&amp;&#160;</td>
          <td class="paramname"><em>manyArray</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8cpp_source.html#l00754">754</a> of file <a class="el" href="splineFDBase_8cpp_source.html">splineFDBase.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  754</span>                                                                                                   {</div>
<div class="line"><span class="lineno">  755</span><span class="comment">//****************************************</span></div>
<div class="line"><span class="lineno">  756</span> </div>
<div class="line"><span class="lineno">  757</span>  <span class="comment">// Initialise all arrays to 1.0</span></div>
<div class="line"><span class="lineno">  758</span>  <span class="keywordtype">int</span> nPoints;</div>
<div class="line"><span class="lineno">  759</span>  <span class="comment">//No point evaluating a flat spline</span></div>
<div class="line"><span class="lineno">  760</span>  nPoints = <a class="code hl_variable" href="classsplineFDBase.html#a84ec9ea208503053b9735b1cb1bc417d">splinevec_Monolith</a>[splineindex]-&gt;GetNp();</div>
<div class="line"><span class="lineno">  761</span> </div>
<div class="line"><span class="lineno">  762</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nPoints; i++) {</div>
<div class="line"><span class="lineno">  763</span>    xArray[i] = 1.0;</div>
<div class="line"><span class="lineno">  764</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 4; j++) {</div>
<div class="line"><span class="lineno">  765</span>      manyArray[i*4+j] = 1.0;</div>
<div class="line"><span class="lineno">  766</span>    }</div>
<div class="line"><span class="lineno">  767</span>  }</div>
<div class="line"><span class="lineno">  768</span> </div>
<div class="line"><span class="lineno">  769</span>  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;nPoints; i++){</div>
<div class="line"><span class="lineno">  770</span>    <span class="comment">// Spline coefficients to be</span></div>
<div class="line"><span class="lineno">  771</span>    <span class="comment">// M3::float_t type is defined by the LOW_MEMORY_STRUCTS compiler flag</span></div>
<div class="line"><span class="lineno">  772</span>    <span class="comment">// so M3::float_t can be double or float depending on this</span></div>
<div class="line"><span class="lineno">  773</span>    <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> x = <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a>(-999.99);</div>
<div class="line"><span class="lineno">  774</span>    <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> y = <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a>(-999.99);</div>
<div class="line"><span class="lineno">  775</span>    <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> b = <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a>(-999.99);</div>
<div class="line"><span class="lineno">  776</span>    <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> c = <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a>(-999.99);</div>
<div class="line"><span class="lineno">  777</span>    <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> d = <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a>(-999.99);</div>
<div class="line"><span class="lineno">  778</span>    <a class="code hl_variable" href="classsplineFDBase.html#a84ec9ea208503053b9735b1cb1bc417d">splinevec_Monolith</a>[splineindex]-&gt;GetCoeff(i, x, y, b, c, d);</div>
<div class="line"><span class="lineno">  779</span> </div>
<div class="line"><span class="lineno">  780</span>    <span class="comment">// Store the coefficients for each knot contiguously in memory</span></div>
<div class="line"><span class="lineno">  781</span>    <span class="comment">// 4 because manyArray stores y,b,c,d</span></div>
<div class="line"><span class="lineno">  782</span>    xArray[i] = x;</div>
<div class="line"><span class="lineno">  783</span>    manyArray[i*4] = y; </div>
<div class="line"><span class="lineno">  784</span>    manyArray[i*4+1] = b;</div>
<div class="line"><span class="lineno">  785</span>    manyArray[i*4+2] = c;</div>
<div class="line"><span class="lineno">  786</span>    manyArray[i*4+3] = d;    </div>
<div class="line"><span class="lineno">  787</span>  }</div>
<div class="line"><span class="lineno">  788</span> </div>
<div class="line"><span class="lineno">  789</span>  <span class="comment">//We now clean up the splines!</span></div>
<div class="line"><span class="lineno">  790</span>  <span class="keyword">delete</span> <a class="code hl_variable" href="classsplineFDBase.html#a84ec9ea208503053b9735b1cb1bc417d">splinevec_Monolith</a>[splineindex];</div>
<div class="line"><span class="lineno">  791</span>  <a class="code hl_variable" href="classsplineFDBase.html#a84ec9ea208503053b9735b1cb1bc417d">splinevec_Monolith</a>[splineindex] = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  792</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae66addf83262b03969d0b3b89737a42b" name="ae66addf83262b03969d0b3b89737a42b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66addf83262b03969d0b3b89737a42b">&#9670;&#160;</a></span>isValidSplineIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool splineFDBase::isValidSplineIndex </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>SampleName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iSyst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iOscChan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iVar1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iVar2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iVar3</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8cpp_source.html#l00910">910</a> of file <a class="el" href="splineFDBase_8cpp_source.html">splineFDBase.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  912</span>{</div>
<div class="line"><span class="lineno">  913</span> </div>
<div class="line"><span class="lineno">  914</span>  <span class="keywordtype">int</span> iSample=<a class="code hl_function" href="classsplineFDBase.html#a2d19b4bd235644d4c6a1ca6d589be6ca">getSampleIndex</a>(SampleName);</div>
<div class="line"><span class="lineno">  915</span>  <span class="keywordtype">bool</span> isValid = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  916</span> </div>
<div class="line"><span class="lineno">  917</span>  <span class="keywordflow">if</span> (iSample &lt; 0 || iSample &gt;= <span class="keywordtype">int</span>(<a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>.size()))</div>
<div class="line"><span class="lineno">  918</span>  {</div>
<div class="line"><span class="lineno">  919</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Sample index is invalid! 0 &lt;= Index &lt; {} &quot;</span>, <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>.size());</div>
<div class="line"><span class="lineno">  920</span>    isValid = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  921</span>  }</div>
<div class="line"><span class="lineno">  922</span> </div>
<div class="line"><span class="lineno">  923</span>  <span class="keywordflow">if</span> (iOscChan &lt; 0 || iOscChan &gt;= <span class="keywordtype">int</span>(<a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample].<a class="code hl_variable" href="GetPenaltyTerm_8cpp.html#a439227feff9d7f55384e8780cfc2eb82">size</a>()))</div>
<div class="line"><span class="lineno">  924</span>  {</div>
<div class="line"><span class="lineno">  925</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;OscChan index is invalid! 0 &lt;= Index &lt; {} &quot;</span>, <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample].<a class="code hl_variable" href="GetPenaltyTerm_8cpp.html#a439227feff9d7f55384e8780cfc2eb82">size</a>());</div>
<div class="line"><span class="lineno">  926</span>    isValid = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  927</span>  }</div>
<div class="line"><span class="lineno">  928</span> </div>
<div class="line"><span class="lineno">  929</span>  <span class="keywordflow">if</span> (iSyst &lt; 0 || iSyst &gt;= <span class="keywordtype">int</span>(<a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan].<a class="code hl_variable" href="GetPenaltyTerm_8cpp.html#a439227feff9d7f55384e8780cfc2eb82">size</a>()))</div>
<div class="line"><span class="lineno">  930</span>  {</div>
<div class="line"><span class="lineno">  931</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Syst index is invalid! 0 &lt;= Index &lt; {} &quot;</span>, <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan].<a class="code hl_variable" href="GetPenaltyTerm_8cpp.html#a439227feff9d7f55384e8780cfc2eb82">size</a>());</div>
<div class="line"><span class="lineno">  932</span>    isValid = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  933</span>  }</div>
<div class="line"><span class="lineno">  934</span> </div>
<div class="line"><span class="lineno">  935</span>  <span class="keywordflow">if</span> (iMode &lt; 0 || iMode &gt;= <span class="keywordtype">int</span>(<a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst].<a class="code hl_variable" href="GetPenaltyTerm_8cpp.html#a439227feff9d7f55384e8780cfc2eb82">size</a>()))</div>
<div class="line"><span class="lineno">  936</span>  {</div>
<div class="line"><span class="lineno">  937</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Mode index is invalid! 0 &lt;= Index &lt; {} &quot;</span>, <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst].<a class="code hl_variable" href="GetPenaltyTerm_8cpp.html#a439227feff9d7f55384e8780cfc2eb82">size</a>());</div>
<div class="line"><span class="lineno">  938</span>    isValid = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  939</span>  }</div>
<div class="line"><span class="lineno">  940</span> </div>
<div class="line"><span class="lineno">  941</span>  <span class="keywordflow">if</span> (iVar1 &lt; 0 || iVar1 &gt;= <span class="keywordtype">int</span>(<a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst][iMode].<a class="code hl_variable" href="GetPenaltyTerm_8cpp.html#a439227feff9d7f55384e8780cfc2eb82">size</a>()))</div>
<div class="line"><span class="lineno">  942</span>  {</div>
<div class="line"><span class="lineno">  943</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Var1 index is invalid! 0 &lt;= Index &lt; {} &quot;</span>, <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst][iMode].<a class="code hl_variable" href="GetPenaltyTerm_8cpp.html#a439227feff9d7f55384e8780cfc2eb82">size</a>());      </div>
<div class="line"><span class="lineno">  944</span>    isValid = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  945</span>  }</div>
<div class="line"><span class="lineno">  946</span> </div>
<div class="line"><span class="lineno">  947</span>  <span class="keywordflow">if</span> (iVar2 &lt; 0 || iVar2 &gt;= <span class="keywordtype">int</span>(<a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst][iMode][iVar1].<a class="code hl_variable" href="GetPenaltyTerm_8cpp.html#a439227feff9d7f55384e8780cfc2eb82">size</a>()))</div>
<div class="line"><span class="lineno">  948</span>  {</div>
<div class="line"><span class="lineno">  949</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Var2 index is invalid! 0 &lt;= Index &lt; {} &quot;</span>, <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst][iMode][iVar1].<a class="code hl_variable" href="GetPenaltyTerm_8cpp.html#a439227feff9d7f55384e8780cfc2eb82">size</a>());</div>
<div class="line"><span class="lineno">  950</span>    isValid = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  951</span>  }</div>
<div class="line"><span class="lineno">  952</span> </div>
<div class="line"><span class="lineno">  953</span>  <span class="keywordflow">if</span> (iVar3 &lt; 0 || iVar3 &gt;= <span class="keywordtype">int</span>(<a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst][iMode][iVar1][iVar2].<a class="code hl_variable" href="GetPenaltyTerm_8cpp.html#a439227feff9d7f55384e8780cfc2eb82">size</a>()))</div>
<div class="line"><span class="lineno">  954</span>  {</div>
<div class="line"><span class="lineno">  955</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Var3 index is invalid! 0 &lt;= Index &lt; {} &quot;</span>, <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst][iMode][iVar1][iVar2].<a class="code hl_variable" href="GetPenaltyTerm_8cpp.html#a439227feff9d7f55384e8780cfc2eb82">size</a>());</div>
<div class="line"><span class="lineno">  956</span>    isValid = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  957</span>  }</div>
<div class="line"><span class="lineno">  958</span> </div>
<div class="line"><span class="lineno">  959</span>  <span class="keywordflow">if</span> (!isValid)</div>
<div class="line"><span class="lineno">  960</span>  { </div>
<div class="line"><span class="lineno">  961</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Given iSample: {}&quot;</span>, iSample);</div>
<div class="line"><span class="lineno">  962</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Given iOscChan: {}&quot;</span>, iOscChan);</div>
<div class="line"><span class="lineno">  963</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Given iSyst: {}&quot;</span>, iSyst);</div>
<div class="line"><span class="lineno">  964</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Given iMode: {}&quot;</span>, iMode);</div>
<div class="line"><span class="lineno">  965</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Given iVar1: {}&quot;</span>, iVar1);</div>
<div class="line"><span class="lineno">  966</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Given iVar2: {}&quot;</span>, iVar2);</div>
<div class="line"><span class="lineno">  967</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Given iVar3: {}&quot;</span>, iVar3);   </div>
<div class="line"><span class="lineno">  968</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Come visit me at : {} : {}&quot;</span>, __FILE__, __LINE__);</div>
<div class="line"><span class="lineno">  969</span>    <span class="keywordflow">throw</span> <a class="code hl_class" href="classMaCh3Exception.html">MaCh3Exception</a>(__FILE__ , __LINE__ );</div>
<div class="line"><span class="lineno">  970</span>  }</div>
<div class="line"><span class="lineno">  971</span> </div>
<div class="line"><span class="lineno">  972</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  973</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1a237a8b8c3c165c82ebe15d2ca740c7" name="a1a237a8b8c3c165c82ebe15d2ca740c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a237a8b8c3c165c82ebe15d2ca740c7">&#9670;&#160;</a></span>ModifyWeights()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void splineFDBase::ModifyWeights </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calc total event weight, not used by Bin-by-bin splines. </p>

<p>Implements <a class="el" href="classSplineBase.html#a49665d2712b61b038085d25ace96a568">SplineBase</a>.</p>

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00074">74</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   74</span>{<span class="keywordflow">return</span>;};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2eb495f4d63c9e4ee10b97c47e982b28" name="a2eb495f4d63c9e4ee10b97c47e982b28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2eb495f4d63c9e4ee10b97c47e982b28">&#9670;&#160;</a></span>PrepForReweight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void splineFDBase::PrepForReweight </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8cpp_source.html#l00588">588</a> of file <a class="el" href="splineFDBase_8cpp_source.html">splineFDBase.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  590</span>{</div>
<div class="line"><span class="lineno">  591</span> </div>
<div class="line"><span class="lineno">  592</span>  std::vector&lt;TSpline3_red*&gt; UniqueSystSplines;</div>
<div class="line"><span class="lineno">  593</span> </div>
<div class="line"><span class="lineno">  594</span>  <span class="comment">// DB Find all the Unique systs across each sample and oscillation channel</span></div>
<div class="line"><span class="lineno">  595</span>  <span class="comment">//    This assumes that each occurence of the same systematic spline has the same knot spacing</span></div>
<div class="line"><span class="lineno">  596</span>  <span class="comment">//    Which is a reasonable assumption for the current implementation of spline evaluations</span></div>
<div class="line"><span class="lineno">  597</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iSample = 0; iSample &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>.size(); iSample++)</div>
<div class="line"><span class="lineno">  598</span>  { <span class="comment">// Loop over systematics</span></div>
<div class="line"><span class="lineno">  599</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iSyst = 0; iSyst &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][0].size(); iSyst++)</div>
<div class="line"><span class="lineno">  600</span>    { <span class="comment">// Loop over systematics</span></div>
<div class="line"><span class="lineno">  601</span>      std::string SystName = <a class="code hl_variable" href="classsplineFDBase.html#a5619363447e607cd835c46d601b10675">SplineFileParPrefixNames</a>[iSample][iSyst];</div>
<div class="line"><span class="lineno">  602</span>      <span class="keywordtype">bool</span> FoundSyst = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  603</span> </div>
<div class="line"><span class="lineno">  604</span>      <span class="comment">//ETA - this always seems to be empty to begin with??</span></div>
<div class="line"><span class="lineno">  605</span>      <span class="comment">//so this loop never gets used?</span></div>
<div class="line"><span class="lineno">  606</span>      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iFoundSyst = 0; iFoundSyst &lt; <a class="code hl_variable" href="classsplineFDBase.html#aacf850f4ec22e4f7338f243999ecc7dd">UniqueSystNames</a>.size(); iFoundSyst++)</div>
<div class="line"><span class="lineno">  607</span>      {</div>
<div class="line"><span class="lineno">  608</span>        <span class="keywordflow">if</span> (SystName == <a class="code hl_variable" href="classsplineFDBase.html#aacf850f4ec22e4f7338f243999ecc7dd">UniqueSystNames</a>[iFoundSyst])</div>
<div class="line"><span class="lineno">  609</span>        {</div>
<div class="line"><span class="lineno">  610</span>          FoundSyst = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  611</span>        }</div>
<div class="line"><span class="lineno">  612</span>      }</div>
<div class="line"><span class="lineno">  613</span>      <span class="keywordflow">if</span> (!FoundSyst)</div>
<div class="line"><span class="lineno">  614</span>      {</div>
<div class="line"><span class="lineno">  615</span>        <span class="keywordtype">bool</span> FoundNonFlatSpline = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  616</span>        <span class="comment">//This is all basically to check that you have some resposne from a spline</span></div>
<div class="line"><span class="lineno">  617</span>        <span class="comment">//systematic somewhere</span></div>
<div class="line"><span class="lineno">  618</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iOscChan = 0; iOscChan &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample].size(); iOscChan++)</div>
<div class="line"><span class="lineno">  619</span>        { <span class="comment">// Loop over oscillation channels</span></div>
<div class="line"><span class="lineno">  620</span>          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iMode = 0; iMode &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst].size(); iMode++)</div>
<div class="line"><span class="lineno">  621</span>          { <span class="comment">// Loop over modes</span></div>
<div class="line"><span class="lineno">  622</span>            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iVar1 = 0; iVar1 &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst][iMode].size(); iVar1++)</div>
<div class="line"><span class="lineno">  623</span>            { <span class="comment">// Loop over first dimension</span></div>
<div class="line"><span class="lineno">  624</span>              <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iVar2 = 0; iVar2 &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst][iMode][iVar1].size(); iVar2++)</div>
<div class="line"><span class="lineno">  625</span>              { <span class="comment">// Loop over second dimension</span></div>
<div class="line"><span class="lineno">  626</span>                <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iVar3 = 0; iVar3 &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst][iMode][iVar1][iVar2].size(); iVar3++)</div>
<div class="line"><span class="lineno">  627</span>                { <span class="comment">// Loop over third dimension</span></div>
<div class="line"><span class="lineno">  628</span>                  <span class="keywordtype">int</span> splineindex=<a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst][iMode][iVar1][iVar2][iVar3];</div>
<div class="line"><span class="lineno">  629</span>                  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classsplineFDBase.html#a84ec9ea208503053b9735b1cb1bc417d">splinevec_Monolith</a>[splineindex])</div>
<div class="line"><span class="lineno">  630</span>                  {</div>
<div class="line"><span class="lineno">  631</span>                    UniqueSystSplines.push_back(<a class="code hl_variable" href="classsplineFDBase.html#a84ec9ea208503053b9735b1cb1bc417d">splinevec_Monolith</a>[splineindex]);</div>
<div class="line"><span class="lineno">  632</span>                    <a class="code hl_variable" href="classsplineFDBase.html#a3b821b95c2db6063a9baa244b28aeaa6">UniqueSystIndices</a>.push_back(<a class="code hl_variable" href="classsplineFDBase.html#af036372a158b4e463683a8d02a20ec3d">GlobalSystIndex</a>[iSample][iSyst]);</div>
<div class="line"><span class="lineno">  633</span>                    FoundNonFlatSpline = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  634</span>                  }</div>
<div class="line"><span class="lineno">  635</span>                  <span class="keywordflow">if</span> (FoundNonFlatSpline)</div>
<div class="line"><span class="lineno">  636</span>                  {</div>
<div class="line"><span class="lineno">  637</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  638</span>                  }</div>
<div class="line"><span class="lineno">  639</span>                }<span class="comment">//3D loop end</span></div>
<div class="line"><span class="lineno">  640</span>                <span class="keywordflow">if</span> (FoundNonFlatSpline)</div>
<div class="line"><span class="lineno">  641</span>                {</div>
<div class="line"><span class="lineno">  642</span>                  <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  643</span>                }</div>
<div class="line"><span class="lineno">  644</span>              }<span class="comment">//2D loop end</span></div>
<div class="line"><span class="lineno">  645</span>              <span class="keywordflow">if</span> (FoundNonFlatSpline)</div>
<div class="line"><span class="lineno">  646</span>              {</div>
<div class="line"><span class="lineno">  647</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  648</span>              }</div>
<div class="line"><span class="lineno">  649</span>            }<span class="comment">//1D loop end</span></div>
<div class="line"><span class="lineno">  650</span>            <span class="keywordflow">if</span> (FoundNonFlatSpline)</div>
<div class="line"><span class="lineno">  651</span>            {</div>
<div class="line"><span class="lineno">  652</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  653</span>            }</div>
<div class="line"><span class="lineno">  654</span>          }<span class="comment">//mode loop end</span></div>
<div class="line"><span class="lineno">  655</span>          <span class="keywordflow">if</span> (FoundNonFlatSpline)</div>
<div class="line"><span class="lineno">  656</span>          {</div>
<div class="line"><span class="lineno">  657</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  658</span>          }</div>
<div class="line"><span class="lineno">  659</span>        }<span class="comment">//osc loop end</span></div>
<div class="line"><span class="lineno">  660</span>         <span class="comment">//ETA - only push back unique name if a non-flat response has been found</span></div>
<div class="line"><span class="lineno">  661</span>        <span class="keywordflow">if</span>(FoundNonFlatSpline){</div>
<div class="line"><span class="lineno">  662</span>          <a class="code hl_variable" href="classsplineFDBase.html#aacf850f4ec22e4f7338f243999ecc7dd">UniqueSystNames</a>.push_back(SystName);</div>
<div class="line"><span class="lineno">  663</span>        }</div>
<div class="line"><span class="lineno">  664</span> </div>
<div class="line"><span class="lineno">  665</span>        <span class="keywordflow">if</span> (!FoundNonFlatSpline)</div>
<div class="line"><span class="lineno">  666</span>        {</div>
<div class="line"><span class="lineno">  667</span>          <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;{} syst has no response in sample {}&quot;</span>, SystName, iSample);</div>
<div class="line"><span class="lineno">  668</span>          <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Whilst this isn&#39;t neccessarily a problem, it seems odd&quot;</span>);</div>
<div class="line"><span class="lineno">  669</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  670</span>        }</div>
<div class="line"><span class="lineno">  671</span>      }</div>
<div class="line"><span class="lineno">  672</span>    }<span class="comment">//Syst loop end</span></div>
<div class="line"><span class="lineno">  673</span>  }</div>
<div class="line"><span class="lineno">  674</span>  </div>
<div class="line"><span class="lineno">  675</span>  <a class="code hl_variable" href="classsplineFDBase.html#a0d42cbfc22f21906264af285fd57b1af">nUniqueSysts</a> = int(UniqueSystSplines.size());</div>
<div class="line"><span class="lineno">  676</span> </div>
<div class="line"><span class="lineno">  677</span>  <span class="comment">// DB Find the number of splines knots which assumes each instance of the syst has the same number of knots</span></div>
<div class="line"><span class="lineno">  678</span>  <a class="code hl_variable" href="classsplineFDBase.html#a176d42bb137d3c8c3771eb1a4a8440c8">UniqueSystNKnots</a>.resize(<a class="code hl_variable" href="classsplineFDBase.html#a0d42cbfc22f21906264af285fd57b1af">nUniqueSysts</a>);</div>
<div class="line"><span class="lineno">  679</span>  <a class="code hl_variable" href="classsplineFDBase.html#aa36e6889d054ad0f86f33a53dd3fe036">UniqueSystCurrSegment</a>.resize(<a class="code hl_variable" href="classsplineFDBase.html#a0d42cbfc22f21906264af285fd57b1af">nUniqueSysts</a>);</div>
<div class="line"><span class="lineno">  680</span>  <a class="code hl_variable" href="classsplineFDBase.html#a5112a1bbd658d3a90c6a785c12aebf34">UniqueSystXPts</a>.resize(<a class="code hl_variable" href="classsplineFDBase.html#a0d42cbfc22f21906264af285fd57b1af">nUniqueSysts</a>);</div>
<div class="line"><span class="lineno">  681</span>  <a class="code hl_variable" href="classsplineFDBase.html#a324c4b50910454092ba45d945ef57bda">xVarArray</a>=<span class="keyword">new</span> <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a>[<a class="code hl_variable" href="classsplineFDBase.html#a0d42cbfc22f21906264af285fd57b1af">nUniqueSysts</a>];</div>
<div class="line"><span class="lineno">  682</span> </div>
<div class="line"><span class="lineno">  683</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iSpline = 0; iSpline &lt; <a class="code hl_variable" href="classsplineFDBase.html#a0d42cbfc22f21906264af285fd57b1af">nUniqueSysts</a>; iSpline++)</div>
<div class="line"><span class="lineno">  684</span>  {</div>
<div class="line"><span class="lineno">  685</span>    <a class="code hl_variable" href="classsplineFDBase.html#a176d42bb137d3c8c3771eb1a4a8440c8">UniqueSystNKnots</a>[iSpline] = UniqueSystSplines[iSpline]-&gt;GetNp();</div>
<div class="line"><span class="lineno">  686</span>    <a class="code hl_variable" href="classsplineFDBase.html#a5112a1bbd658d3a90c6a785c12aebf34">UniqueSystXPts</a>[iSpline].resize(<a class="code hl_variable" href="classsplineFDBase.html#a176d42bb137d3c8c3771eb1a4a8440c8">UniqueSystNKnots</a>[iSpline]);</div>
<div class="line"><span class="lineno">  687</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iKnot = 0; iKnot &lt; <a class="code hl_variable" href="classsplineFDBase.html#a176d42bb137d3c8c3771eb1a4a8440c8">UniqueSystNKnots</a>[iSpline]; iKnot++)</div>
<div class="line"><span class="lineno">  688</span>    {</div>
<div class="line"><span class="lineno">  689</span>      <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> xPoint;</div>
<div class="line"><span class="lineno">  690</span>      <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> yPoint;</div>
<div class="line"><span class="lineno">  691</span>      UniqueSystSplines[iSpline]-&gt;GetKnot(iKnot, xPoint, yPoint);</div>
<div class="line"><span class="lineno">  692</span>      <a class="code hl_variable" href="classsplineFDBase.html#a5112a1bbd658d3a90c6a785c12aebf34">UniqueSystXPts</a>[iSpline][iKnot] = xPoint;</div>
<div class="line"><span class="lineno">  693</span>    }</div>
<div class="line"><span class="lineno">  694</span>    <span class="comment">//ETA - let this just be set as the first segment by default</span></div>
<div class="line"><span class="lineno">  695</span>    <a class="code hl_variable" href="classsplineFDBase.html#aa36e6889d054ad0f86f33a53dd3fe036">UniqueSystCurrSegment</a>[iSpline] = 0;</div>
<div class="line"><span class="lineno">  696</span>    <a class="code hl_variable" href="classsplineFDBase.html#a324c4b50910454092ba45d945ef57bda">xVarArray</a>[iSpline]=0;</div>
<div class="line"><span class="lineno">  697</span>  }</div>
<div class="line"><span class="lineno">  698</span>  </div>
<div class="line"><span class="lineno">  699</span> </div>
<div class="line"><span class="lineno">  700</span>  <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;nUniqueSysts: {}&quot;</span>, <a class="code hl_variable" href="classsplineFDBase.html#a0d42cbfc22f21906264af285fd57b1af">nUniqueSysts</a>);</div>
<div class="line"><span class="lineno">  701</span> </div>
<div class="line"><span class="lineno">  702</span>  std::cout &lt;&lt; std::setw(15) &lt;&lt; <span class="stringliteral">&quot;Spline Index&quot;</span></div>
<div class="line"><span class="lineno">  703</span>            &lt;&lt; <span class="stringliteral">&quot; | &quot;</span> &lt;&lt; std::setw(20) &lt;&lt; <span class="stringliteral">&quot;Syst Name&quot;</span></div>
<div class="line"><span class="lineno">  704</span>            &lt;&lt; <span class="stringliteral">&quot; | &quot;</span> &lt;&lt; std::setw(6) &lt;&lt; <span class="stringliteral">&quot;nKnots&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  705</span>  std::cout &lt;&lt; <span class="stringliteral">&quot;-----------------------------------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  706</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iUniqueSyst = 0; iUniqueSyst &lt; <a class="code hl_variable" href="classsplineFDBase.html#a0d42cbfc22f21906264af285fd57b1af">nUniqueSysts</a>; iUniqueSyst++)</div>
<div class="line"><span class="lineno">  707</span>  {</div>
<div class="line"><span class="lineno">  708</span>    std::cout &lt;&lt; std::setw(15) &lt;&lt; iUniqueSyst &lt;&lt; <span class="stringliteral">&quot; | &quot;</span> &lt;&lt; std::setw(20) &lt;&lt; <a class="code hl_variable" href="classsplineFDBase.html#aacf850f4ec22e4f7338f243999ecc7dd">UniqueSystNames</a>[iUniqueSyst] &lt;&lt; <span class="stringliteral">&quot; | &quot;</span> &lt;&lt; std::setw(6) &lt;&lt; <a class="code hl_variable" href="classsplineFDBase.html#a176d42bb137d3c8c3771eb1a4a8440c8">UniqueSystNKnots</a>[iUniqueSyst] &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  709</span>  }</div>
<div class="line"><span class="lineno">  710</span>  std::cout &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  711</span> </div>
<div class="line"><span class="lineno">  712</span>  <span class="comment">//ETA</span></div>
<div class="line"><span class="lineno">  713</span>  <span class="comment">//Isn&#39;t this just doing what CountNumberOfLoadedSplines() does?</span></div>
<div class="line"><span class="lineno">  714</span>  <span class="keywordtype">int</span> nCombinations_FlatSplines = 0;</div>
<div class="line"><span class="lineno">  715</span>  <span class="keywordtype">int</span> nCombinations_All = 0;</div>
<div class="line"><span class="lineno">  716</span>  <span class="comment">// DB Now actually loop over splines to determine which are all null i.e. flat</span></div>
<div class="line"><span class="lineno">  717</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iSample = 0; iSample &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>.size(); iSample++)</div>
<div class="line"><span class="lineno">  718</span>  { <span class="comment">// Loop over systematics</span></div>
<div class="line"><span class="lineno">  719</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iOscChan = 0; iOscChan &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample].size(); iOscChan++)</div>
<div class="line"><span class="lineno">  720</span>    { <span class="comment">// Loop over oscillation channels</span></div>
<div class="line"><span class="lineno">  721</span>      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iSyst = 0; iSyst &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan].size(); iSyst++)</div>
<div class="line"><span class="lineno">  722</span>      { <span class="comment">// Loop over systematics</span></div>
<div class="line"><span class="lineno">  723</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iMode = 0; iMode &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst].size(); iMode++)</div>
<div class="line"><span class="lineno">  724</span>        { <span class="comment">// Loop over modes</span></div>
<div class="line"><span class="lineno">  725</span>          <span class="comment">//bool isFlat = false;</span></div>
<div class="line"><span class="lineno">  726</span>          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iVar1 = 0; iVar1 &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst][iMode].size(); iVar1++)</div>
<div class="line"><span class="lineno">  727</span>          { <span class="comment">// Loop over first dimension</span></div>
<div class="line"><span class="lineno">  728</span>            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iVar2 = 0; iVar2 &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst][iMode][iVar1].size(); iVar2++)</div>
<div class="line"><span class="lineno">  729</span>            { <span class="comment">// Loop over second dimension</span></div>
<div class="line"><span class="lineno">  730</span>              <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iVar3 = 0; iVar3 &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst][iMode][iVar1][iVar2].size(); iVar3++)</div>
<div class="line"><span class="lineno">  731</span>              { <span class="comment">// Loop over third dimension</span></div>
<div class="line"><span class="lineno">  732</span>                <span class="keywordtype">int</span> splineindex=<a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst][iMode][iVar1][iVar2][iVar3];</div>
<div class="line"><span class="lineno">  733</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classsplineFDBase.html#a84ec9ea208503053b9735b1cb1bc417d">splinevec_Monolith</a>[splineindex])</div>
<div class="line"><span class="lineno">  734</span>                {</div>
<div class="line"><span class="lineno">  735</span>                  nCombinations_All += 1;</div>
<div class="line"><span class="lineno">  736</span>                } <span class="keywordflow">else</span>{</div>
<div class="line"><span class="lineno">  737</span>                  nCombinations_FlatSplines += 1;</div>
<div class="line"><span class="lineno">  738</span>                  nCombinations_All += 1;</div>
<div class="line"><span class="lineno">  739</span>                }</div>
<div class="line"><span class="lineno">  740</span>              }</div>
<div class="line"><span class="lineno">  741</span>            }</div>
<div class="line"><span class="lineno">  742</span>          }</div>
<div class="line"><span class="lineno">  743</span>        }</div>
<div class="line"><span class="lineno">  744</span>      }</div>
<div class="line"><span class="lineno">  745</span>    }</div>
<div class="line"><span class="lineno">  746</span>  }</div>
<div class="line"><span class="lineno">  747</span>  <span class="comment">// We need to grab the maximum number of knots</span></div>
<div class="line"><span class="lineno">  748</span>  <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Number of combinations of Sample, OscChan, Syst and Mode which have entirely flat response: {} / {}&quot;</span>, nCombinations_FlatSplines, nCombinations_All);</div>
<div class="line"><span class="lineno">  749</span>  </div>
<div class="line"><span class="lineno">  750</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aee80975a1a2892b61fb27b2044e7c9bc" name="aee80975a1a2892b61fb27b2044e7c9bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee80975a1a2892b61fb27b2044e7c9bc">&#9670;&#160;</a></span>PrintArrayDetails()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void splineFDBase::PrintArrayDetails </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>SampleName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8cpp_source.html#l00842">842</a> of file <a class="el" href="splineFDBase_8cpp_source.html">splineFDBase.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  844</span>{</div>
<div class="line"><span class="lineno">  845</span>  <span class="keywordtype">int</span> iSample = <a class="code hl_function" href="classsplineFDBase.html#a2d19b4bd235644d4c6a1ca6d589be6ca">getSampleIndex</a>(SampleName);</div>
<div class="line"><span class="lineno">  846</span>  <span class="keywordtype">int</span> nOscChannels = int(<a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample].<a class="code hl_variable" href="GetPenaltyTerm_8cpp.html#a439227feff9d7f55384e8780cfc2eb82">size</a>());</div>
<div class="line"><span class="lineno">  847</span>  <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Sample {} has {} oscillation channels&quot;</span>, iSample, nOscChannels);    </div>
<div class="line"><span class="lineno">  848</span>  </div>
<div class="line"><span class="lineno">  849</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iOscChan = 0; iOscChan &lt; nOscChannels; iOscChan++)</div>
<div class="line"><span class="lineno">  850</span>  {</div>
<div class="line"><span class="lineno">  851</span>    <span class="keywordtype">int</span> nSysts = int(<a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan].<a class="code hl_variable" href="GetPenaltyTerm_8cpp.html#a439227feff9d7f55384e8780cfc2eb82">size</a>());</div>
<div class="line"><span class="lineno">  852</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Oscillation channel {} has {} systematics&quot;</span>, iOscChan, nSysts);     </div>
<div class="line"><span class="lineno">  853</span>  }</div>
<div class="line"><span class="lineno">  854</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab1f9479d702cfee2d0e5ea7edd2aca81" name="ab1f9479d702cfee2d0e5ea7edd2aca81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1f9479d702cfee2d0e5ea7edd2aca81">&#9670;&#160;</a></span>PrintArrayDimension()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void splineFDBase::PrintArrayDimension </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8cpp_source.html#l00857">857</a> of file <a class="el" href="splineFDBase_8cpp_source.html">splineFDBase.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  859</span>{</div>
<div class="line"><span class="lineno">  860</span>  std::cout &lt;&lt; <span class="stringliteral">&quot;#----------------------------------------------------------------------------------------------------------------------------------#&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  861</span>  std::cout &lt;&lt; <span class="stringliteral">&quot;Array dimensions..&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  862</span>  std::cout &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  863</span> </div>
<div class="line"><span class="lineno">  864</span>  std::cout &lt;&lt; std::setw(20) &lt;&lt; <span class="stringliteral">&quot;nSamples:&quot;</span> &lt;&lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>.size() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  865</span>  std::cout &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  866</span> </div>
<div class="line"><span class="lineno">  867</span>  std::cout &lt;&lt; std::setw(20) &lt;&lt; <span class="stringliteral">&quot;nOscChans:&quot;</span>;</div>
<div class="line"><span class="lineno">  868</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iSample = 0; iSample &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>.size(); iSample++)</div>
<div class="line"><span class="lineno">  869</span>  {</div>
<div class="line"><span class="lineno">  870</span>    std::cout &lt;&lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample].size() &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><span class="lineno">  871</span>  }</div>
<div class="line"><span class="lineno">  872</span>  std::cout &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  873</span>  std::cout &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  874</span> </div>
<div class="line"><span class="lineno">  875</span>  std::cout &lt;&lt; std::setw(20) &lt;&lt; <span class="stringliteral">&quot;nSysts:&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  876</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iSample = 0; iSample &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>.size(); iSample++)</div>
<div class="line"><span class="lineno">  877</span>  {</div>
<div class="line"><span class="lineno">  878</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><span class="lineno">  879</span>              &lt;&lt; <span class="stringliteral">&quot;Sample:&quot;</span> &lt;&lt; iSample &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>;</div>
<div class="line"><span class="lineno">  880</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iOscChan = 0; iOscChan &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample].size(); iOscChan++)</div>
<div class="line"><span class="lineno">  881</span>    {</div>
<div class="line"><span class="lineno">  882</span>      std::cout &lt;&lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan].size() &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><span class="lineno">  883</span>    }</div>
<div class="line"><span class="lineno">  884</span>    std::cout &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  885</span>  }</div>
<div class="line"><span class="lineno">  886</span>  std::cout &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  887</span> </div>
<div class="line"><span class="lineno">  888</span>  std::cout &lt;&lt; std::setw(20) &lt;&lt; <span class="stringliteral">&quot;nModes:&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  889</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iSample = 0; iSample &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>.size(); iSample++)</div>
<div class="line"><span class="lineno">  890</span>  {</div>
<div class="line"><span class="lineno">  891</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><span class="lineno">  892</span>              &lt;&lt; <span class="stringliteral">&quot;Sample:&quot;</span> &lt;&lt; iSample &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><span class="lineno">  893</span>              &lt;&lt; <span class="stringliteral">&quot;--------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  894</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iOscChan = 0; iOscChan &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample].size(); iOscChan++)</div>
<div class="line"><span class="lineno">  895</span>    {</div>
<div class="line"><span class="lineno">  896</span>      std::cout &lt;&lt; <span class="stringliteral">&quot;\t\t&quot;</span></div>
<div class="line"><span class="lineno">  897</span>                &lt;&lt; <span class="stringliteral">&quot;OscChan:&quot;</span> &lt;&lt; iOscChan &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>;</div>
<div class="line"><span class="lineno">  898</span>      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iSyst = 0; iSyst &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan].size(); iSyst++)</div>
<div class="line"><span class="lineno">  899</span>      {</div>
<div class="line"><span class="lineno">  900</span>        std::cout &lt;&lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst].size() &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><span class="lineno">  901</span>      }</div>
<div class="line"><span class="lineno">  902</span>      std::cout &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  903</span>    }</div>
<div class="line"><span class="lineno">  904</span>    std::cout &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  905</span>  }</div>
<div class="line"><span class="lineno">  906</span>  std::cout &lt;&lt; <span class="stringliteral">&quot;#----------------------------------------------------------------------------------------------------------------------------------#&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  907</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7f5b16b65dc7da748f20bdc803b7e593" name="a7f5b16b65dc7da748f20bdc803b7e593"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f5b16b65dc7da748f20bdc803b7e593">&#9670;&#160;</a></span>PrintBinning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void splineFDBase::PrintBinning </td>
          <td>(</td>
          <td class="paramtype">TAxis *&#160;</td>
          <td class="paramname"><em>Axis</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8cpp_source.html#l00976">976</a> of file <a class="el" href="splineFDBase_8cpp_source.html">splineFDBase.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  978</span>{</div>
<div class="line"><span class="lineno">  979</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> NBins = Axis-&gt;GetNbins();</div>
<div class="line"><span class="lineno">  980</span>  </div>
<div class="line"><span class="lineno">  981</span>  std::cout &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>;</div>
<div class="line"><span class="lineno">  982</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iBin = 0; iBin &lt; (NBins + 1); iBin++)</div>
<div class="line"><span class="lineno">  983</span>  {</div>
<div class="line"><span class="lineno">  984</span>    std::cout &lt;&lt; Axis-&gt;GetXbins()-&gt;GetAt(iBin) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  985</span>  }</div>
<div class="line"><span class="lineno">  986</span>  std::cout &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  987</span>  <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  988</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7ff003d3c05fe8a6f9723557910b7a90" name="a7ff003d3c05fe8a6f9723557910b7a90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ff003d3c05fe8a6f9723557910b7a90">&#9670;&#160;</a></span>PrintSampleDetails()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void splineFDBase::PrintSampleDetails </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>SampleName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8cpp_source.html#l00827">827</a> of file <a class="el" href="splineFDBase_8cpp_source.html">splineFDBase.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  829</span>{</div>
<div class="line"><span class="lineno">  830</span>  <span class="keywordtype">int</span> iSample = <a class="code hl_function" href="classsplineFDBase.html#a2d19b4bd235644d4c6a1ca6d589be6ca">getSampleIndex</a>(SampleName);</div>
<div class="line"><span class="lineno">  831</span> </div>
<div class="line"><span class="lineno">  832</span>  <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Details about sample: {:&lt;20}&quot;</span>, <a class="code hl_variable" href="classsplineFDBase.html#a78508c5d0d4ef09457beb723dc796208">SampleNames</a>[iSample]);</div>
<div class="line"><span class="lineno">  833</span>  <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;\t Dimension: {:&lt;35}&quot;</span>, <a class="code hl_variable" href="classsplineFDBase.html#a6c28400605049bdee229885c46463dcd">Dimensions</a>[iSample]);</div>
<div class="line"><span class="lineno">  834</span>  <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;\t DetID: {:&lt;35}&quot;</span>, <a class="code hl_variable" href="classsplineFDBase.html#aeb743760ca4a477771132aaf0e334d15">DetIDs</a>[iSample]);</div>
<div class="line"><span class="lineno">  835</span>  <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;\t nSplineParam: {:&lt;35}&quot;</span>, <a class="code hl_variable" href="classsplineFDBase.html#aad64c7c63db8ea676f86eb2279f04d40">nSplineParams</a>[iSample]);</div>
<div class="line"><span class="lineno">  836</span>  <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;\t nOscChan: {:&lt;35}&quot;</span>, <a class="code hl_variable" href="classsplineFDBase.html#aa10670a64bbdef3ffd69f4b8f102fff3">nOscChans</a>[iSample]);</div>
<div class="line"><span class="lineno">  837</span> </div>
<div class="line"><span class="lineno">  838</span>  <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  839</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aedee1561e7995e4f876c1e544fa7b591" name="aedee1561e7995e4f876c1e544fa7b591"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedee1561e7995e4f876c1e544fa7b591">&#9670;&#160;</a></span>retPointer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a> * splineFDBase::retPointer </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sample</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>oscchan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>syst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>var1bin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>var2bin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>var3bin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00063">63</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   63</span>                                                                                                                   {</div>
<div class="line"><span class="lineno">   64</span>      <span class="keywordtype">int</span> index = <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[sample][oscchan][syst][mode][var1bin][var2bin][var3bin];</div>
<div class="line"><span class="lineno">   65</span>      <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="classsplineFDBase.html#a107c337ce7053208795747a3223f04e1">weightvec_Monolith</a>[index];</div>
<div class="line"><span class="lineno">   66</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a281be56a824e5057044e4ab1b073bc9d" name="a281be56a824e5057044e4ab1b073bc9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a281be56a824e5057044e4ab1b073bc9d">&#9670;&#160;</a></span>SetupSplines() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void splineFDBase::SetupSplines </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a91521064517b5e4f0232570e6746bdf7" name="a91521064517b5e4f0232570e6746bdf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91521064517b5e4f0232570e6746bdf7">&#9670;&#160;</a></span>SetupSplines() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void splineFDBase::SetupSplines </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>BinningOpt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a62f37395f7b1eb73c3ad0a1204bb3c2d" name="a62f37395f7b1eb73c3ad0a1204bb3c2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62f37395f7b1eb73c3ad0a1204bb3c2d">&#9670;&#160;</a></span>StripDuplicatedModes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::vector&lt; std::vector&lt; int &gt; &gt; splineFDBase::StripDuplicatedModes </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; int &gt; &gt;&#160;</td>
          <td class="paramname"><em>InputVector</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if there are any repeated modes. This is used to reduce the number of modes in case many interaction modes get averaged into one spline. </p>

</div>
</div>
<a id="a6d1872fe4be72c735bd55fa00e1674b8" name="a6d1872fe4be72c735bd55fa00e1674b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d1872fe4be72c735bd55fa00e1674b8">&#9670;&#160;</a></span>TransferToMonolith()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void splineFDBase::TransferToMonolith </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8cpp_source.html#l00119">119</a> of file <a class="el" href="splineFDBase_8cpp_source.html">splineFDBase.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  121</span>{</div>
<div class="line"><span class="lineno">  122</span>  <a class="code hl_function" href="classsplineFDBase.html#a2eb495f4d63c9e4ee10b97c47e982b28">PrepForReweight</a>(); </div>
<div class="line"><span class="lineno">  123</span>  <a class="code hl_variable" href="classsplineFDBase.html#ad1fefa7f796f2a28a69f5336f5777bce">MonolithSize</a> = <a class="code hl_function" href="classsplineFDBase.html#a0bfc616fab953333e6e938de52ce3bed">CountNumberOfLoadedSplines</a>(<span class="keyword">false</span>, 1);</div>
<div class="line"><span class="lineno">  124</span> </div>
<div class="line"><span class="lineno">  125</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classsplineFDBase.html#ad1fefa7f796f2a28a69f5336f5777bce">MonolithSize</a>!=<a class="code hl_variable" href="classsplineFDBase.html#addec38a8493974ccc3ee16931d5b794a">MonolithIndex</a>){</div>
<div class="line"><span class="lineno">  126</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Something&#39;s gone wrong when we tried to get the size of your monolith&quot;</span>);</div>
<div class="line"><span class="lineno">  127</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;MonolithSize is {}&quot;</span>, <a class="code hl_variable" href="classsplineFDBase.html#ad1fefa7f796f2a28a69f5336f5777bce">MonolithSize</a>);</div>
<div class="line"><span class="lineno">  128</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;MonolithIndex is {}&quot;</span>, <a class="code hl_variable" href="classsplineFDBase.html#addec38a8493974ccc3ee16931d5b794a">MonolithIndex</a>);</div>
<div class="line"><span class="lineno">  129</span>    <span class="keywordflow">throw</span> <a class="code hl_class" href="classMaCh3Exception.html">MaCh3Exception</a>(__FILE__ , __LINE__ );</div>
<div class="line"><span class="lineno">  130</span>  }</div>
<div class="line"><span class="lineno">  131</span> </div>
<div class="line"><span class="lineno">  132</span>  <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Now transferring splines to a monolith if size {}&quot;</span>, <a class="code hl_variable" href="classsplineFDBase.html#ad1fefa7f796f2a28a69f5336f5777bce">MonolithSize</a>);</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>  <a class="code hl_variable" href="classsplineFDBase.html#ae237cc1c6d97e35bf4f7f64e369a5781">uniquesplinevec_Monolith</a>.resize(<a class="code hl_variable" href="classsplineFDBase.html#ad1fefa7f796f2a28a69f5336f5777bce">MonolithSize</a>);</div>
<div class="line"><span class="lineno">  135</span>  <a class="code hl_variable" href="classsplineFDBase.html#a107c337ce7053208795747a3223f04e1">weightvec_Monolith</a>.resize(<a class="code hl_variable" href="classsplineFDBase.html#ad1fefa7f796f2a28a69f5336f5777bce">MonolithSize</a>);</div>
<div class="line"><span class="lineno">  136</span>  <a class="code hl_variable" href="classsplineFDBase.html#aa8a204355df78af3f79bf8f2815258d3">isflatarray</a> = <span class="keyword">new</span> <span class="keywordtype">bool</span>[<a class="code hl_variable" href="classsplineFDBase.html#ad1fefa7f796f2a28a69f5336f5777bce">MonolithSize</a>];</div>
<div class="line"><span class="lineno">  137</span>  </div>
<div class="line"><span class="lineno">  138</span>  <a class="code hl_variable" href="classsplineFDBase.html#a00f046c4c64c0aa11334b32b0701a9f1">xcoeff_arr</a> = <span class="keyword">new</span> <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a>[<a class="code hl_variable" href="classsplineFDBase.html#abcff04fee3e6790a099a0df9dbee74c2">CoeffIndex</a>];</div>
<div class="line"><span class="lineno">  139</span>  <a class="code hl_variable" href="classsplineFDBase.html#ab883a1f2cdae707c36fa27b86ed7f279">manycoeff_arr</a> = <span class="keyword">new</span> <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a>[<a class="code hl_variable" href="classsplineFDBase.html#abcff04fee3e6790a099a0df9dbee74c2">CoeffIndex</a>*4];</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iSample = 0; iSample &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>.size(); iSample++)</div>
<div class="line"><span class="lineno">  142</span>  { <span class="comment">// Loop over sample</span></div>
<div class="line"><span class="lineno">  143</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iOscChan = 0; iOscChan &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample].size(); iOscChan++)</div>
<div class="line"><span class="lineno">  144</span>    { <span class="comment">// Loop over oscillation channels</span></div>
<div class="line"><span class="lineno">  145</span>      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iSyst = 0; iSyst &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan].size(); iSyst++)</div>
<div class="line"><span class="lineno">  146</span>      { <span class="comment">// Loop over systematics</span></div>
<div class="line"><span class="lineno">  147</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iMode = 0; iMode &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst].size(); iMode++)</div>
<div class="line"><span class="lineno">  148</span>        { <span class="comment">// Loop over modes</span></div>
<div class="line"><span class="lineno">  149</span>          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iVar1 = 0; iVar1 &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst][iMode].size(); iVar1++)</div>
<div class="line"><span class="lineno">  150</span>          { <span class="comment">// Loop over first dimension</span></div>
<div class="line"><span class="lineno">  151</span>            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iVar2 = 0; iVar2 &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst][iMode][iVar1].size(); iVar2++)</div>
<div class="line"><span class="lineno">  152</span>            { <span class="comment">// Loop over second dimension</span></div>
<div class="line"><span class="lineno">  153</span>              <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iVar3 = 0; iVar3 &lt; <a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst][iMode][iVar1][iVar2].size(); iVar3++)</div>
<div class="line"><span class="lineno">  154</span>              {</div>
<div class="line"><span class="lineno">  155</span>                <span class="keywordtype">int</span> splineindex=<a class="code hl_variable" href="classsplineFDBase.html#ab3a4e79bfe675a4070597557e6226e12">indexvec</a>[iSample][iOscChan][iSyst][iMode][iVar1][iVar2][iVar3];</div>
<div class="line"><span class="lineno">  156</span>                <a class="code hl_variable" href="classsplineFDBase.html#a107c337ce7053208795747a3223f04e1">weightvec_Monolith</a>[splineindex] = 1.0;</div>
<div class="line"><span class="lineno">  157</span> </div>
<div class="line"><span class="lineno">  158</span>                <span class="keywordtype">bool</span> foundUniqueSpline = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  159</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iUniqueSyst = 0; iUniqueSyst &lt; <a class="code hl_variable" href="classsplineFDBase.html#a0d42cbfc22f21906264af285fd57b1af">nUniqueSysts</a>; iUniqueSyst++)</div>
<div class="line"><span class="lineno">  160</span>                {</div>
<div class="line"><span class="lineno">  161</span>                  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classsplineFDBase.html#a5619363447e607cd835c46d601b10675">SplineFileParPrefixNames</a>[iSample][iSyst] == <a class="code hl_variable" href="classsplineFDBase.html#aacf850f4ec22e4f7338f243999ecc7dd">UniqueSystNames</a>[iUniqueSyst])</div>
<div class="line"><span class="lineno">  162</span>                  {</div>
<div class="line"><span class="lineno">  163</span>                    <a class="code hl_variable" href="classsplineFDBase.html#ae237cc1c6d97e35bf4f7f64e369a5781">uniquesplinevec_Monolith</a>[splineindex] = iUniqueSyst;</div>
<div class="line"><span class="lineno">  164</span>                    foundUniqueSpline = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  165</span>                  }</div>
<div class="line"><span class="lineno">  166</span>                }<span class="comment">//unique syst loop end</span></div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span>                <span class="keywordflow">if</span> (!foundUniqueSpline)</div>
<div class="line"><span class="lineno">  169</span>                {</div>
<div class="line"><span class="lineno">  170</span>                  <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Unique spline index not found&quot;</span>);</div>
<div class="line"><span class="lineno">  171</span>                  <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;For Spline {}&quot;</span>, <a class="code hl_variable" href="classsplineFDBase.html#a5619363447e607cd835c46d601b10675">SplineFileParPrefixNames</a>[iSample][iSyst]);</div>
<div class="line"><span class="lineno">  172</span>                  <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Couldn&#39;t match {} with any of the following {} systs:&quot;</span>, <a class="code hl_variable" href="classsplineFDBase.html#a5619363447e607cd835c46d601b10675">SplineFileParPrefixNames</a>[iSample][iSyst], <a class="code hl_variable" href="classsplineFDBase.html#a0d42cbfc22f21906264af285fd57b1af">nUniqueSysts</a>);</div>
<div class="line"><span class="lineno">  173</span>                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iUniqueSyst = 0; iUniqueSyst &lt; <a class="code hl_variable" href="classsplineFDBase.html#a0d42cbfc22f21906264af285fd57b1af">nUniqueSysts</a>; iUniqueSyst++)</div>
<div class="line"><span class="lineno">  174</span>                  {</div>
<div class="line"><span class="lineno">  175</span>                    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;{},&quot;</span>, <a class="code hl_variable" href="classsplineFDBase.html#aacf850f4ec22e4f7338f243999ecc7dd">UniqueSystNames</a>.at(iUniqueSyst));</div>
<div class="line"><span class="lineno">  176</span>                  }<span class="comment">//unique syst loop end</span></div>
<div class="line"><span class="lineno">  177</span>                  <span class="keywordflow">throw</span> <a class="code hl_class" href="classMaCh3Exception.html">MaCh3Exception</a>(__FILE__ , __LINE__ );</div>
<div class="line"><span class="lineno">  178</span>                }</div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>                <span class="keywordtype">int</span> splineKnots;</div>
<div class="line"><span class="lineno">  181</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="classsplineFDBase.html#a84ec9ea208503053b9735b1cb1bc417d">splinevec_Monolith</a>[splineindex]){</div>
<div class="line"><span class="lineno">  182</span>                  <a class="code hl_variable" href="classsplineFDBase.html#aa8a204355df78af3f79bf8f2815258d3">isflatarray</a>[splineindex]=<span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  183</span>                  splineKnots=<a class="code hl_variable" href="classsplineFDBase.html#a84ec9ea208503053b9735b1cb1bc417d">splinevec_Monolith</a>[splineindex]-&gt;GetNp();</div>
<div class="line"><span class="lineno">  184</span> </div>
<div class="line"><span class="lineno">  185</span>                  <span class="comment">//Now to fill up our coefficient arrayss</span></div>
<div class="line"><span class="lineno">  186</span>                  <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a>* tmpXCoeffArr = <span class="keyword">new</span> <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a>[splineKnots];</div>
<div class="line"><span class="lineno">  187</span>                  <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a>* tmpManyCoeffArr = <span class="keyword">new</span> <a class="code hl_typedef" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a>[splineKnots*4];</div>
<div class="line"><span class="lineno">  188</span> </div>
<div class="line"><span class="lineno">  189</span>                  <span class="keywordtype">int</span> iCoeff=<a class="code hl_variable" href="classsplineFDBase.html#af63885ddb6731f77808d029372e6b187">coeffindexvec</a>[splineindex];</div>
<div class="line"><span class="lineno">  190</span>                  <a class="code hl_function" href="classsplineFDBase.html#a8b7b34479c3240a9827d6a0b5b7da4b4">getSplineCoeff_SepMany</a>(splineindex, tmpXCoeffArr, tmpManyCoeffArr);</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>                  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; splineKnots; i++){</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>                    <a class="code hl_variable" href="classsplineFDBase.html#a00f046c4c64c0aa11334b32b0701a9f1">xcoeff_arr</a>[iCoeff+i]=tmpXCoeffArr[i];</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>                    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0; j&lt;4; j++){</div>
<div class="line"><span class="lineno">  197</span>                      <a class="code hl_variable" href="classsplineFDBase.html#ab883a1f2cdae707c36fa27b86ed7f279">manycoeff_arr</a>[(iCoeff+i)*4+j]=tmpManyCoeffArr[i*4+j];</div>
<div class="line"><span class="lineno">  198</span>                    }</div>
<div class="line"><span class="lineno">  199</span>                  }</div>
<div class="line"><span class="lineno">  200</span>                  <span class="keyword">delete</span>[] tmpXCoeffArr;</div>
<div class="line"><span class="lineno">  201</span>                  <span class="keyword">delete</span>[] tmpManyCoeffArr;</div>
<div class="line"><span class="lineno">  202</span>                }</div>
<div class="line"><span class="lineno">  203</span>                <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  204</span>                    <a class="code hl_variable" href="classsplineFDBase.html#aa8a204355df78af3f79bf8f2815258d3">isflatarray</a>[splineindex]=<span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  205</span>                }</div>
<div class="line"><span class="lineno">  206</span>              }<span class="comment">//3d loop end</span></div>
<div class="line"><span class="lineno">  207</span>            }<span class="comment">//2d loop end</span></div>
<div class="line"><span class="lineno">  208</span>          }<span class="comment">//1d loop end</span></div>
<div class="line"><span class="lineno">  209</span>        }<span class="comment">//mode loop end</span></div>
<div class="line"><span class="lineno">  210</span>      }<span class="comment">//syst2 loop end</span></div>
<div class="line"><span class="lineno">  211</span>    }<span class="comment">//osc loop end</span></div>
<div class="line"><span class="lineno">  212</span>  }<span class="comment">//syst1 loop end</span></div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>  <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  215</span>}</div>
<div class="ttc" id="aclasssplineFDBase_html_a0bfc616fab953333e6e938de52ce3bed"><div class="ttname"><a href="classsplineFDBase.html#a0bfc616fab953333e6e938de52ce3bed">splineFDBase::CountNumberOfLoadedSplines</a></div><div class="ttdeci">int CountNumberOfLoadedSplines(bool NonFlat=false, int Verbosity=0)</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8cpp_source.html#l00522">splineFDBase.cpp:522</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_a2eb495f4d63c9e4ee10b97c47e982b28"><div class="ttname"><a href="classsplineFDBase.html#a2eb495f4d63c9e4ee10b97c47e982b28">splineFDBase::PrepForReweight</a></div><div class="ttdeci">void PrepForReweight()</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8cpp_source.html#l00588">splineFDBase.cpp:588</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_a8b7b34479c3240a9827d6a0b5b7da4b4"><div class="ttname"><a href="classsplineFDBase.html#a8b7b34479c3240a9827d6a0b5b7da4b4">splineFDBase::getSplineCoeff_SepMany</a></div><div class="ttdeci">void getSplineCoeff_SepMany(int splineindex, M3::float_t *&amp;xArray, M3::float_t *&amp;manyArray)</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8cpp_source.html#l00754">splineFDBase.cpp:754</a></div></div>
<div class="ttc" id="aclasssplineFDBase_html_ad1fefa7f796f2a28a69f5336f5777bce"><div class="ttname"><a href="classsplineFDBase.html#ad1fefa7f796f2a28a69f5336f5777bce">splineFDBase::MonolithSize</a></div><div class="ttdeci">int MonolithSize</div><div class="ttdef"><b>Definition:</b> <a href="splineFDBase_8h_source.html#l00116">splineFDBase.h:116</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac5f4c7bfc06ab3bcc769be433ad4708e" name="ac5f4c7bfc06ab3bcc769be433ad4708e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5f4c7bfc06ab3bcc769be433ad4708e">&#9670;&#160;</a></span>BinningOpts</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; splineFDBase::BinningOpts</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00080">80</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="abcff04fee3e6790a099a0df9dbee74c2" name="abcff04fee3e6790a099a0df9dbee74c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcff04fee3e6790a099a0df9dbee74c2">&#9670;&#160;</a></span>CoeffIndex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int splineFDBase::CoeffIndex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00118">118</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="af63885ddb6731f77808d029372e6b187" name="af63885ddb6731f77808d029372e6b187"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af63885ddb6731f77808d029372e6b187">&#9670;&#160;</a></span>coeffindexvec</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int &gt; splineFDBase::coeffindexvec</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00111">111</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="aeb743760ca4a477771132aaf0e334d15" name="aeb743760ca4a477771132aaf0e334d15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb743760ca4a477771132aaf0e334d15">&#9670;&#160;</a></span>DetIDs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; splineFDBase::DetIDs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00083">83</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="a00e1aeea8e9389c41f93469a26c83adc" name="a00e1aeea8e9389c41f93469a26c83adc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00e1aeea8e9389c41f93469a26c83adc">&#9670;&#160;</a></span>DimensionLabels</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;std::string&gt; &gt; splineFDBase::DimensionLabels</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00082">82</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="a6c28400605049bdee229885c46463dcd" name="a6c28400605049bdee229885c46463dcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c28400605049bdee229885c46463dcd">&#9670;&#160;</a></span>Dimensions</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; splineFDBase::Dimensions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00081">81</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="af036372a158b4e463683a8d02a20ec3d" name="af036372a158b4e463683a8d02a20ec3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af036372a158b4e463683a8d02a20ec3d">&#9670;&#160;</a></span>GlobalSystIndex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt;int&gt; &gt; splineFDBase::GlobalSystIndex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This holds the global spline index and is used to grab the current parameter value to evaluate splines at. Each internal vector will be of size of the number of spline systematics which affect that sample. </p>

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00097">97</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="ab3a4e79bfe675a4070597557e6226e12" name="ab3a4e79bfe675a4070597557e6226e12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3a4e79bfe675a4070597557e6226e12">&#9670;&#160;</a></span>indexvec</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt; std::vector&lt; std::vector&lt; std::vector&lt; std::vector&lt; std::vector&lt; int &gt; &gt; &gt; &gt; &gt; &gt; &gt; splineFDBase::indexvec</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Variables related to determined which modes have splines and which piggy-back of other modes. </p>

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00110">110</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="aa8a204355df78af3f79bf8f2815258d3" name="aa8a204355df78af3f79bf8f2815258d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8a204355df78af3f79bf8f2815258d3">&#9670;&#160;</a></span>isflatarray</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool* splineFDBase::isflatarray</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00122">122</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="ab883a1f2cdae707c36fa27b86ed7f279" name="ab883a1f2cdae707c36fa27b86ed7f279"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab883a1f2cdae707c36fa27b86ed7f279">&#9670;&#160;</a></span>manycoeff_arr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a>* splineFDBase::manycoeff_arr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00124">124</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="addec38a8493974ccc3ee16931d5b794a" name="addec38a8493974ccc3ee16931d5b794a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addec38a8493974ccc3ee16931d5b794a">&#9670;&#160;</a></span>MonolithIndex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int splineFDBase::MonolithIndex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00117">117</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="ad1fefa7f796f2a28a69f5336f5777bce" name="ad1fefa7f796f2a28a69f5336f5777bce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1fefa7f796f2a28a69f5336f5777bce">&#9670;&#160;</a></span>MonolithSize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int splineFDBase::MonolithSize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00116">116</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="aa10670a64bbdef3ffd69f4b8f102fff3" name="aa10670a64bbdef3ffd69f4b8f102fff3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa10670a64bbdef3ffd69f4b8f102fff3">&#9670;&#160;</a></span>nOscChans</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; splineFDBase::nOscChans</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00085">85</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="aad64c7c63db8ea676f86eb2279f04d40" name="aad64c7c63db8ea676f86eb2279f04d40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad64c7c63db8ea676f86eb2279f04d40">&#9670;&#160;</a></span>nSplineParams</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; splineFDBase::nSplineParams</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00084">84</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="a0d42cbfc22f21906264af285fd57b1af" name="a0d42cbfc22f21906264af285fd57b1af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d42cbfc22f21906264af285fd57b1af">&#9670;&#160;</a></span>nUniqueSysts</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int splineFDBase::nUniqueSysts</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00102">102</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="a78508c5d0d4ef09457beb723dc796208" name="a78508c5d0d4ef09457beb723dc796208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78508c5d0d4ef09457beb723dc796208">&#9670;&#160;</a></span>SampleNames</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; splineFDBase::SampleNames</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00079">79</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="af71b65713518f42e59c543dbad5dab70" name="af71b65713518f42e59c543dbad5dab70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af71b65713518f42e59c543dbad5dab70">&#9670;&#160;</a></span>SplineBinning</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt; std::vector&lt;TAxis*&gt; &gt; &gt; splineFDBase::SplineBinning</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00088">88</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="a5619363447e607cd835c46d601b10675" name="a5619363447e607cd835c46d601b10675"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5619363447e607cd835c46d601b10675">&#9670;&#160;</a></span>SplineFileParPrefixNames</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt;std::string&gt; &gt; splineFDBase::SplineFileParPrefixNames</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00089">89</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="aabc74a6dd8b13fc6925e975bf5f92cff" name="aabc74a6dd8b13fc6925e975bf5f92cff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabc74a6dd8b13fc6925e975bf5f92cff">&#9670;&#160;</a></span>SplineInterpolationTypes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt;<a class="el" href="Structs_8h.html#a6720d732608767153550aebebcf8fbf4">SplineInterpolation</a>&gt; &gt; splineFDBase::SplineInterpolationTypes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>spline interpolation types for each sample. These vectors are from a call to GetSplineInterpolationFromDetID() </p>

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00100">100</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="a6b7aeec6d03dad01975582226b39632b" name="a6b7aeec6d03dad01975582226b39632b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b7aeec6d03dad01975582226b39632b">&#9670;&#160;</a></span>SplineModeVecs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt; std::vector&lt;int&gt; &gt; &gt; splineFDBase::SplineModeVecs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00093">93</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="a0570b0b59ff6ba13af94c64c7271202d" name="a0570b0b59ff6ba13af94c64c7271202d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0570b0b59ff6ba13af94c64c7271202d">&#9670;&#160;</a></span>SplineParsIndex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt;int&gt; &gt; splineFDBase::SplineParsIndex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00087">87</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="a84ec9ea208503053b9735b1cb1bc417d" name="a84ec9ea208503053b9735b1cb1bc417d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84ec9ea208503053b9735b1cb1bc417d">&#9670;&#160;</a></span>splinevec_Monolith</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classTSpline3__red.html">TSpline3_red</a>* &gt; splineFDBase::splinevec_Monolith</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00114">114</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="a7a564f5748f16d97ebf1e1c300a1cc5c" name="a7a564f5748f16d97ebf1e1c300a1cc5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a564f5748f16d97ebf1e1c300a1cc5c">&#9670;&#160;</a></span>uniquecoeffindices</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; splineFDBase::uniquecoeffindices</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00112">112</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="ae237cc1c6d97e35bf4f7f64e369a5781" name="ae237cc1c6d97e35bf4f7f64e369a5781"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae237cc1c6d97e35bf4f7f64e369a5781">&#9670;&#160;</a></span>uniquesplinevec_Monolith</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; splineFDBase::uniquesplinevec_Monolith</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00127">127</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="aa36e6889d054ad0f86f33a53dd3fe036" name="aa36e6889d054ad0f86f33a53dd3fe036"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa36e6889d054ad0f86f33a53dd3fe036">&#9670;&#160;</a></span>UniqueSystCurrSegment</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; splineFDBase::UniqueSystCurrSegment</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00106">106</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="a3b821b95c2db6063a9baa244b28aeaa6" name="a3b821b95c2db6063a9baa244b28aeaa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b821b95c2db6063a9baa244b28aeaa6">&#9670;&#160;</a></span>UniqueSystIndices</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; splineFDBase::UniqueSystIndices</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00104">104</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="aacf850f4ec22e4f7338f243999ecc7dd" name="aacf850f4ec22e4f7338f243999ecc7dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacf850f4ec22e4f7338f243999ecc7dd">&#9670;&#160;</a></span>UniqueSystNames</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; splineFDBase::UniqueSystNames</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00103">103</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="a176d42bb137d3c8c3771eb1a4a8440c8" name="a176d42bb137d3c8c3771eb1a4a8440c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a176d42bb137d3c8c3771eb1a4a8440c8">&#9670;&#160;</a></span>UniqueSystNKnots</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; splineFDBase::UniqueSystNKnots</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00105">105</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="a5112a1bbd658d3a90c6a785c12aebf34" name="a5112a1bbd658d3a90c6a785c12aebf34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5112a1bbd658d3a90c6a785c12aebf34">&#9670;&#160;</a></span>UniqueSystXPts</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt;<a class="el" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a>&gt; &gt; splineFDBase::UniqueSystXPts</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00107">107</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="a107c337ce7053208795747a3223f04e1" name="a107c337ce7053208795747a3223f04e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a107c337ce7053208795747a3223f04e1">&#9670;&#160;</a></span>weightvec_Monolith</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a>&gt; splineFDBase::weightvec_Monolith</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00126">126</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="a00f046c4c64c0aa11334b32b0701a9f1" name="a00f046c4c64c0aa11334b32b0701a9f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00f046c4c64c0aa11334b32b0701a9f1">&#9670;&#160;</a></span>xcoeff_arr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a>* splineFDBase::xcoeff_arr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00123">123</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="a891de87b873e079f6bbdb1355a9ff153" name="a891de87b873e079f6bbdb1355a9ff153"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a891de87b873e079f6bbdb1355a9ff153">&#9670;&#160;</a></span>xsec</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcovarianceXsec.html">covarianceXsec</a>* splineFDBase::xsec</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to covariance xsec. </p>

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00076">76</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<a id="a324c4b50910454092ba45d945ef57bda" name="a324c4b50910454092ba45d945ef57bda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a324c4b50910454092ba45d945ef57bda">&#9670;&#160;</a></span>xVarArray</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceM3.html#a1f95274549f25fc19fe7db343c8a7a68">M3::float_t</a>* splineFDBase::xVarArray</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="splineFDBase_8h_source.html#l00121">121</a> of file <a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>splines/<a class="el" href="splineFDBase_8h_source.html">splineFDBase.h</a></li>
<li>splines/<a class="el" href="splineFDBase_8cpp_source.html">splineFDBase.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MaCh3: Plotting/GetPostfitParamPlots.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="MaCh3.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="mach3logo_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MaCh3
   &#160;<span id="projectnumber">2.4.2</span>
   </div>
   <div id="projectbrief">Reference Guide</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9355fa16a3efe979605ed9b41cf7efd7.html">Plotting</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">GetPostfitParamPlots.cpp File Reference<div class="ingroups"><a class="el" href="group__MaCh3Plotting.html">MaCh3 Plotting</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;sstream&gt;</code><br />
<code>#include &lt;iomanip&gt;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &quot;PlottingUtils/PlottingUtils.h&quot;</code><br />
<code>#include &quot;PlottingUtils/PlottingManager.h&quot;</code><br />
<code>#include &quot;TROOT.h&quot;</code><br />
<code>#include &quot;TGaxis.h&quot;</code><br />
<code>#include &quot;TString.h&quot;</code><br />
<code>#include &quot;TStyle.h&quot;</code><br />
<code>#include &quot;TH1.h&quot;</code><br />
<code>#include &quot;TH2.h&quot;</code><br />
<code>#include &quot;TF1.h&quot;</code><br />
<code>#include &quot;TLegend.h&quot;</code><br />
<code>#include &quot;TPad.h&quot;</code><br />
<code>#include &quot;TCanvas.h&quot;</code><br />
<code>#include &quot;TTree.h&quot;</code><br />
<code>#include &quot;TFile.h&quot;</code><br />
<code>#include &quot;TVectorD.h&quot;</code><br />
<code>#include &quot;TCandle.h&quot;</code><br />
<code>#include &quot;TFrame.h&quot;</code><br />
<code>#include &quot;TGraphAsymmErrors.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for GetPostfitParamPlots.cpp:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="GetPostfitParamPlots_8cpp__incl.svg" width="100%" height="395"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</div>
<p><a href="GetPostfitParamPlots_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3a9ef138385a4c0f71323c4898713bb8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GetPostfitParamPlots_8cpp.html#a3a9ef138385a4c0f71323c4898713bb8">copyParToBlockHist</a> (const int localBin, const std::string &amp;paramName, TH1D *blockHist, const std::string &amp;type, const int fileId, const bool setLabels=true)</td></tr>
<tr class="separator:a3a9ef138385a4c0f71323c4898713bb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2da20c7b11fdfbf6a274cc32170a294c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GetPostfitParamPlots_8cpp.html#a2da20c7b11fdfbf6a274cc32170a294c">InitializePads</a> (const TCanvas *canvas, TPad *&amp;pad3, TPad *&amp;pad4)</td></tr>
<tr class="separator:a2da20c7b11fdfbf6a274cc32170a294c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae93e55fc3ae7cd6f29f3f1a27e091a6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GetPostfitParamPlots_8cpp.html#ae93e55fc3ae7cd6f29f3f1a27e091a6c">CopyViolinToBlock</a> (TH2D *FullViolin, TH2D *ReducedViolin, const std::vector&lt; std::string &gt; &amp;ParamNames)</td></tr>
<tr class="separator:ae93e55fc3ae7cd6f29f3f1a27e091a6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbde284ea52643cf3db23f6edc77850c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GetPostfitParamPlots_8cpp.html#acbde284ea52643cf3db23f6edc77850c">PrettifyTitles</a> (TH1D *Hist)</td></tr>
<tr class="separator:acbde284ea52643cf3db23f6edc77850c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac62f1b08f728a24d44cfc23cb0e6cd03"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GetPostfitParamPlots_8cpp.html#ac62f1b08f728a24d44cfc23cb0e6cd03">PrettifyTitles</a> (TH2D *Hist)</td></tr>
<tr class="separator:ac62f1b08f728a24d44cfc23cb0e6cd03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62fabd89835f68331d917ae242231a24"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GetPostfitParamPlots_8cpp.html#a62fabd89835f68331d917ae242231a24">ReadSettings</a> (const std::shared_ptr&lt; TFile &gt; &amp;File1)</td></tr>
<tr class="separator:a62fabd89835f68331d917ae242231a24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5610a49986fc2ac4d19ec2ba403df3f4"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; TH1D &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GetPostfitParamPlots_8cpp.html#a5610a49986fc2ac4d19ec2ba403df3f4">makeRatio</a> (TH1D *PrefitCopy, TH1D *PostfitCopy, bool setAxes)</td></tr>
<tr class="separator:a5610a49986fc2ac4d19ec2ba403df3f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea2b2a696e8fa4cd2e2e5f86287ce016"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GetPostfitParamPlots_8cpp.html#aea2b2a696e8fa4cd2e2e5f86287ce016">DrawPlots</a> (TCanvas *plotCanv, TH1D *PrefitCopy, const std::vector&lt; std::unique_ptr&lt; TH1D &gt;&gt; &amp;PostfitVec, TPad *mainPad, TPad *ratioPad, const std::string &amp;OutName)</td></tr>
<tr class="separator:aea2b2a696e8fa4cd2e2e5f86287ce016"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4966a6fff9ff250e7cde4bf7ca215ad7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GetPostfitParamPlots_8cpp.html#a4966a6fff9ff250e7cde4bf7ca215ad7">MakeParameterPlots</a> (TCanvas *canv)</td></tr>
<tr class="separator:a4966a6fff9ff250e7cde4bf7ca215ad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b260660a7d34ef58b26364b172dc6e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GetPostfitParamPlots_8cpp.html#a1b260660a7d34ef58b26364b172dc6e2">MakeFluxPlots</a> (TCanvas *canv)</td></tr>
<tr class="separator:a1b260660a7d34ef58b26364b172dc6e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a537db5b05ce6037e9221b2250d91c688"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GetPostfitParamPlots_8cpp.html#a537db5b05ce6037e9221b2250d91c688">MakeNDDetPlots</a> ()</td></tr>
<tr class="separator:a537db5b05ce6037e9221b2250d91c688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dc9e9b4dd5dbd06c2111a1e5e3a0eba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GetPostfitParamPlots_8cpp.html#a8dc9e9b4dd5dbd06c2111a1e5e3a0eba">MakeRidgePlots</a> ()</td></tr>
<tr class="separator:a8dc9e9b4dd5dbd06c2111a1e5e3a0eba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad53f55565623ac6efd066209b1821ea6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GetPostfitParamPlots_8cpp.html#ad53f55565623ac6efd066209b1821ea6">GetPostfitParamPlots</a> ()</td></tr>
<tr class="separator:ad53f55565623ac6efd066209b1821ea6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3c9db8ae8a10ce5c59501934d2a2d88"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; TGraphAsymmErrors &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GetPostfitParamPlots_8cpp.html#ad3c9db8ae8a10ce5c59501934d2a2d88">MakeTGraphAsymmErrors</a> (const std::shared_ptr&lt; TFile &gt; &amp;File, std::vector&lt; int &gt; Index={})</td></tr>
<tr class="separator:ad3c9db8ae8a10ce5c59501934d2a2d88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9176d510f8810d2b58ae481fa9f3f69c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GetPostfitParamPlots_8cpp.html#a9176d510f8810d2b58ae481fa9f3f69c">GetViolinPlots</a> ()</td></tr>
<tr class="memdesc:a9176d510f8810d2b58ae481fa9f3f69c"><td class="mdescLeft">&#160;</td><td class="mdescRight">KS: Make fancy violin plots.  <a href="GetPostfitParamPlots_8cpp.html#a9176d510f8810d2b58ae481fa9f3f69c">More...</a><br /></td></tr>
<tr class="separator:a9176d510f8810d2b58ae481fa9f3f69c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a797916c99123381b3b61e55e7398f695"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GetPostfitParamPlots_8cpp.html#a797916c99123381b3b61e55e7398f695">Get2DComparison</a> (const std::string &amp;FileName1, const std::string &amp;FileName2)</td></tr>
<tr class="memdesc:a797916c99123381b3b61e55e7398f695"><td class="mdescLeft">&#160;</td><td class="mdescRight">KS: Make comparison of 2D Posteriors.  <a href="GetPostfitParamPlots_8cpp.html#a797916c99123381b3b61e55e7398f695">More...</a><br /></td></tr>
<tr class="separator:a797916c99123381b3b61e55e7398f695"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GetPostfitParamPlots_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a3e3e90b7d4e8c99cf9130e9f41685deb"><td class="memItemLeft" align="right" valign="top">MaCh3Plotting::PlottingManager *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a></td></tr>
<tr class="separator:a3e3e90b7d4e8c99cf9130e9f41685deb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb4ee3a874472b4ffccc8734da66250e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GetPostfitParamPlots_8cpp.html#adb4ee3a874472b4ffccc8734da66250e">NDParameters</a></td></tr>
<tr class="separator:adb4ee3a874472b4ffccc8734da66250e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7bc6e5554391b57acf10c691b6374e0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GetPostfitParamPlots_8cpp.html#aa7bc6e5554391b57acf10c691b6374e0">NDParametersStartingPos</a></td></tr>
<tr class="separator:aa7bc6e5554391b57acf10c691b6374e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a329ffa5c522d29e1ec016f0b7028437d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GetPostfitParamPlots_8cpp.html#a329ffa5c522d29e1ec016f0b7028437d">NDSamplesBins</a></td></tr>
<tr class="separator:a329ffa5c522d29e1ec016f0b7028437d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5cba8ce6ff9a6e1e9a5ba0b9cfb0b37"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GetPostfitParamPlots_8cpp.html#ab5cba8ce6ff9a6e1e9a5ba0b9cfb0b37">NDSamplesNames</a></td></tr>
<tr class="separator:ab5cba8ce6ff9a6e1e9a5ba0b9cfb0b37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78b45c4d250d7b2113925577bbce2dad"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GetPostfitParamPlots_8cpp.html#a78b45c4d250d7b2113925577bbce2dad">SaveName</a></td></tr>
<tr class="separator:a78b45c4d250d7b2113925577bbce2dad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a656e9eabac71748634b6bf892e68e767"><td class="memItemLeft" align="right" valign="top">constexpr Color_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GetPostfitParamPlots_8cpp.html#a656e9eabac71748634b6bf892e68e767">PlotColor</a> [] = {kRed, kBlack, kBlue, kGreen}</td></tr>
<tr class="separator:a656e9eabac71748634b6bf892e68e767"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee5c9d8d7ad14d8728dffad47b8d4efe"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GetPostfitParamPlots_8cpp.html#aee5c9d8d7ad14d8728dffad47b8d4efe">plotType</a></td></tr>
<tr class="separator:aee5c9d8d7ad14d8728dffad47b8d4efe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This script generates post-fit parameter plots. The central postfit value is taken as the Highest Posterior Density (HPD), but can be easily changed to another method such as Gaussian. Be cautious as parameter names and the number of parameters per plot are currently hardcoded.</p>
<p>Usage: </p><div class="fragment"><div class="line">./<a class="code" href="GetPostfitParamPlots_8cpp.html#ad53f55565623ac6efd066209b1821ea6">GetPostfitParamPlots</a> ProcessMCMC_Output1.root &lt;ProcessMCMC_Output2.root&gt; &lt;ProcessMCMC_Output3.root&gt;</div>
<div class="ttc" id="aGetPostfitParamPlots_8cpp_html_ad53f55565623ac6efd066209b1821ea6"><div class="ttname"><a href="GetPostfitParamPlots_8cpp.html#ad53f55565623ac6efd066209b1821ea6">GetPostfitParamPlots</a></div><div class="ttdeci">void GetPostfitParamPlots()</div><div class="ttdef"><b>Definition:</b> <a href="GetPostfitParamPlots_8cpp_source.html#l00716">GetPostfitParamPlots.cpp:716</a></div></div>
</div><!-- fragment --><dl class="section author"><dt>Author</dt><dd>Clarence Wret </dd>
<dd>
Will Parker </dd>
<dd>
Kamil Skwarczynski </dd>
<dd>
Ewan Miller </dd></dl>

<p class="definition">Definition in file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a3a9ef138385a4c0f71323c4898713bb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a9ef138385a4c0f71323c4898713bb8">&#9670;&nbsp;</a></span>copyParToBlockHist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void copyParToBlockHist </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>localBin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>paramName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TH1D *&#160;</td>
          <td class="paramname"><em>blockHist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>fileId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>setLabels</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GetPostfitParamPlots_8cpp_source.html#l00065">65</a> of file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                                                                                             {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="comment">// Set the values in the sub-histograms</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a4db4657acad5c79ac4bbb66a9d1c5905">MACH3LOG_DEBUG</a>(<span class="stringliteral">&quot;copying data from at local bin {}: for parameter {}&quot;</span>, localBin, paramName);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a4db4657acad5c79ac4bbb66a9d1c5905">MACH3LOG_DEBUG</a>(<span class="stringliteral">&quot;  Fitter specific name: {}&quot;</span>, <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;input().translateName(fileId, MaCh3Plotting::kPostFit, paramName));</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a4db4657acad5c79ac4bbb66a9d1c5905">MACH3LOG_DEBUG</a>(<span class="stringliteral">&quot;  value: {:.4f}&quot;</span>, <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;input().getPostFitValue(fileId, paramName, type));</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a4db4657acad5c79ac4bbb66a9d1c5905">MACH3LOG_DEBUG</a>(<span class="stringliteral">&quot;  error: {:.4f}&quot;</span>, <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;input().getPostFitError(fileId, paramName, type));</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  blockHist-&gt;SetBinContent(localBin +1, <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;input().getPostFitValue(fileId, paramName, type));</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  blockHist-&gt;SetBinError(localBin +1, <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;input().getPostFitError(fileId, paramName, type));</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">if</span>(setLabels){</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    blockHist-&gt;GetXaxis()-&gt;SetBinLabel(localBin +1, paramName.c_str());</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    blockHist-&gt;GetXaxis()-&gt;LabelsOption(<span class="stringliteral">&quot;v&quot;</span>);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;}</div>
<div class="ttc" id="aGetPostfitParamPlots_8cpp_html_a3e3e90b7d4e8c99cf9130e9f41685deb"><div class="ttname"><a href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a></div><div class="ttdeci">MaCh3Plotting::PlottingManager * PlotMan</div><div class="ttdef"><b>Definition:</b> <a href="GetPostfitParamPlots_8cpp_source.html#l00051">GetPostfitParamPlots.cpp:51</a></div></div>
<div class="ttc" id="aMaCh3Logger_8h_html_a4db4657acad5c79ac4bbb66a9d1c5905"><div class="ttname"><a href="MaCh3Logger_8h.html#a4db4657acad5c79ac4bbb66a9d1c5905">MACH3LOG_DEBUG</a></div><div class="ttdeci">#define MACH3LOG_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="MaCh3Logger_8h_source.html#l00034">MaCh3Logger.h:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae93e55fc3ae7cd6f29f3f1a27e091a6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae93e55fc3ae7cd6f29f3f1a27e091a6c">&#9670;&nbsp;</a></span>CopyViolinToBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CopyViolinToBlock </td>
          <td>(</td>
          <td class="paramtype">TH2D *&#160;</td>
          <td class="paramname"><em>FullViolin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TH2D *&#160;</td>
          <td class="paramname"><em>ReducedViolin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>ParamNames</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GetPostfitParamPlots_8cpp_source.html#l00100">100</a> of file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                                                                                                      {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; ParamNames.size(); i++)</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordtype">int</span> ParamBinId = <a class="code" href="namespaceM3.html#ac289df32a5b3b05c61a87cbac5702b25">M3::_BAD_INT_</a>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ix = 0; ix &lt; FullViolin-&gt;GetXaxis()-&gt;GetNbins(); ++ix) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <span class="keywordflow">if</span>(FullViolin-&gt;GetXaxis()-&gt;GetBinLabel(ix+1) == ParamNames[i])</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        ParamBinId = ix+1;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">if</span>(ParamBinId == <a class="code" href="namespaceM3.html#ac289df32a5b3b05c61a87cbac5702b25">M3::_BAD_INT_</a>) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      <a class="code" href="MaCh3Logger_8h.html#ad5b2eb6377721e3ac95def22c2386bb1">MACH3LOG_WARN</a>(<span class="stringliteral">&quot;Didn&#39;t find param {}&quot;</span>, ParamNames[i]);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">//KS Fill content of reduced violin</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iy = 0; iy &lt; FullViolin-&gt;GetYaxis()-&gt;GetNbins(); ++iy) {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      ReducedViolin-&gt;SetBinContent(i+1, iy+1, FullViolin-&gt;GetBinContent(ParamBinId, iy+1));</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      ReducedViolin-&gt;GetXaxis()-&gt;SetBinLabel(i+1, ParamNames[i].c_str());</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  ReducedViolin-&gt;SetFillColor(FullViolin-&gt;GetFillColor());</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  ReducedViolin-&gt;SetFillColorAlpha(FullViolin-&gt;GetMarkerColor(), 0.35);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  ReducedViolin-&gt;SetLineColor(FullViolin-&gt;GetMarkerColor());</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  ReducedViolin-&gt;SetMarkerColor(FullViolin-&gt;GetMarkerColor());</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  ReducedViolin-&gt;SetMarkerStyle(FullViolin-&gt;GetMarkerStyle());</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  ReducedViolin-&gt;SetMarkerSize(FullViolin-&gt;GetMarkerSize());</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  ReducedViolin-&gt;GetYaxis()-&gt;SetTitleOffset(FullViolin-&gt;GetTitleOffset());</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  ReducedViolin-&gt;GetYaxis()-&gt;SetTitle(FullViolin-&gt;GetYaxis()-&gt;GetTitle());</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  ReducedViolin-&gt;GetXaxis()-&gt;LabelsOption(<span class="stringliteral">&quot;v&quot;</span>);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;}</div>
<div class="ttc" id="aMaCh3Logger_8h_html_ad5b2eb6377721e3ac95def22c2386bb1"><div class="ttname"><a href="MaCh3Logger_8h.html#ad5b2eb6377721e3ac95def22c2386bb1">MACH3LOG_WARN</a></div><div class="ttdeci">#define MACH3LOG_WARN</div><div class="ttdef"><b>Definition:</b> <a href="MaCh3Logger_8h_source.html#l00036">MaCh3Logger.h:36</a></div></div>
<div class="ttc" id="anamespaceM3_html_ac289df32a5b3b05c61a87cbac5702b25"><div class="ttname"><a href="namespaceM3.html#ac289df32a5b3b05c61a87cbac5702b25">M3::_BAD_INT_</a></div><div class="ttdeci">constexpr static const int _BAD_INT_</div><div class="ttdoc">Default value used for int initialisation.</div><div class="ttdef"><b>Definition:</b> <a href="Core_8h_source.html#l00055">Core.h:55</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aea2b2a696e8fa4cd2e2e5f86287ce016"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea2b2a696e8fa4cd2e2e5f86287ce016">&#9670;&nbsp;</a></span>DrawPlots()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DrawPlots </td>
          <td>(</td>
          <td class="paramtype">TCanvas *&#160;</td>
          <td class="paramname"><em>plotCanv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TH1D *&#160;</td>
          <td class="paramname"><em>PrefitCopy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::unique_ptr&lt; TH1D &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>PostfitVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TPad *&#160;</td>
          <td class="paramname"><em>mainPad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TPad *&#160;</td>
          <td class="paramname"><em>ratioPad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>OutName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GetPostfitParamPlots_8cpp_source.html#l00252">252</a> of file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                                                                        {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="comment">// Draw!</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  plotCanv-&gt;cd();</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  mainPad-&gt;Draw();</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  mainPad-&gt;cd();</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  PrefitCopy-&gt;GetYaxis()-&gt;SetTitle(<span class="stringliteral">&quot;Parameter Value&quot;</span>);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  PrefitCopy-&gt;GetYaxis()-&gt;SetLabelSize(0.);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  PrefitCopy-&gt;GetYaxis()-&gt;SetTitleSize(0.05);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  PrefitCopy-&gt;GetYaxis()-&gt;SetTitleOffset(1.3);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  PrefitCopy-&gt;Draw(<span class="stringliteral">&quot;e2&quot;</span>);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> fileId = 0; fileId &lt; static_cast&lt;int&gt;(PostfitVec.size()); fileId++) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    TH1D *postFitHist = PostfitVec[fileId].get();</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    postFitHist-&gt;SetMarkerColor(TColor::GetColorPalette(fileId));</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    postFitHist-&gt;SetLineColor(TColor::GetColorPalette(fileId));</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    postFitHist-&gt;SetMarkerStyle(7);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    postFitHist-&gt;SetLineStyle(1+fileId);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    postFitHist-&gt;SetLineWidth(<a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getOption&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;plotLineWidth&quot;</span>));</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    postFitHist-&gt;Draw(<span class="stringliteral">&quot;e1, same&quot;</span>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  plotCanv-&gt;Update();</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keyword">auto</span> axis = std::make_unique&lt;TGaxis&gt;(PrefitCopy-&gt;GetXaxis()-&gt;GetBinLowEdge(PrefitCopy-&gt;GetXaxis()-&gt;GetFirst()), gPad-&gt;GetUymin()+0.01,</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                            PrefitCopy-&gt;GetXaxis()-&gt;GetBinLowEdge(PrefitCopy-&gt;GetXaxis()-&gt;GetFirst()), gPad-&gt;GetUymax(),</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                            gPad-&gt;GetUymin()+0.01, gPad-&gt;GetUymax(), 510, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  axis-&gt;SetLabelFont(43);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  axis-&gt;SetLabelSize(25);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  axis-&gt;Draw();</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  plotCanv-&gt;cd();</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  ratioPad-&gt;Draw();</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  ratioPad-&gt;cd();</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  std::vector&lt;std::unique_ptr&lt;TH1D&gt;&gt; ratioHists;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="comment">// save pointers to these so we can delete them once we are done</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  ratioHists.push_back(<a class="code" href="GetPostfitParamPlots_8cpp.html#a5610a49986fc2ac4d19ec2ba403df3f4">makeRatio</a>(PrefitCopy, PostfitVec[0].get(), <span class="keyword">true</span>));</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  ratioHists[0]-&gt;Draw(<span class="stringliteral">&quot;p&quot;</span>);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> postFitIdx = 1; postFitIdx &lt; static_cast&lt;int&gt;(PostfitVec.size()); postFitIdx++){</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    ratioHists.push_back(<a class="code" href="GetPostfitParamPlots_8cpp.html#a5610a49986fc2ac4d19ec2ba403df3f4">makeRatio</a>(PrefitCopy, PostfitVec[postFitIdx].get(), <span class="keyword">true</span>));</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    ratioHists[postFitIdx]-&gt;SetMarkerColor(TColor::GetColorPalette(postFitIdx));</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    ratioHists[postFitIdx]-&gt;SetLineColor(TColor::GetColorPalette(postFitIdx));</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    ratioHists[postFitIdx]-&gt;SetMarkerStyle(7);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    ratioHists[postFitIdx]-&gt;SetLineStyle(1+postFitIdx);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    ratioHists[postFitIdx]-&gt;SetLineWidth(<a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getOption&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;plotLineWidth&quot;</span>));</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    ratioHists[postFitIdx]-&gt;Draw(<span class="stringliteral">&quot;p same&quot;</span>);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="comment">// draw lines across the plot at +-1 and 0</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  TLine line(ratioHists[0]-&gt;GetXaxis()-&gt;GetBinLowEdge(ratioHists[0]-&gt;GetXaxis()-&gt;GetFirst()), 0.0, ratioHists[0]-&gt;GetXaxis()-&gt;GetBinLowEdge(ratioHists[0]-&gt;GetXaxis()-&gt;GetLast()+1), 0.0);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  TLine line2(ratioHists[0]-&gt;GetXaxis()-&gt;GetBinLowEdge(ratioHists[0]-&gt;GetXaxis()-&gt;GetFirst()), 1.0, ratioHists[0]-&gt;GetXaxis()-&gt;GetBinLowEdge(ratioHists[0]-&gt;GetXaxis()-&gt;GetLast()+1), 1.0);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  TLine line3(ratioHists[0]-&gt;GetXaxis()-&gt;GetBinLowEdge(ratioHists[0]-&gt;GetXaxis()-&gt;GetFirst()), -1.0, ratioHists[0]-&gt;GetXaxis()-&gt;GetBinLowEdge(ratioHists[0]-&gt;GetXaxis()-&gt;GetLast()+1), -1.0);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  line.SetLineColor(kRed);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  line.SetLineStyle(kDashed);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  line.SetLineWidth(<a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getOption&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;refLineWidth&quot;</span>));</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  line2.SetLineColor(kRed);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  line2.SetLineStyle(kDashed);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  line2.SetLineWidth(<a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getOption&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;refLineWidth&quot;</span>));</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  line3.SetLineColor(kRed);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  line3.SetLineStyle(kDashed);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  line3.SetLineWidth(<a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getOption&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;refLineWidth&quot;</span>));</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  line.Draw(<span class="stringliteral">&quot;same&quot;</span>);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  line2.Draw(<span class="stringliteral">&quot;same&quot;</span>);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  line3.Draw(<span class="stringliteral">&quot;same&quot;</span>);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  plotCanv-&gt;Print((OutName).c_str());</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;}</div>
<div class="ttc" id="aGetPostfitParamPlots_8cpp_html_a5610a49986fc2ac4d19ec2ba403df3f4"><div class="ttname"><a href="GetPostfitParamPlots_8cpp.html#a5610a49986fc2ac4d19ec2ba403df3f4">makeRatio</a></div><div class="ttdeci">std::unique_ptr&lt; TH1D &gt; makeRatio(TH1D *PrefitCopy, TH1D *PostfitCopy, bool setAxes)</div><div class="ttdef"><b>Definition:</b> <a href="GetPostfitParamPlots_8cpp_source.html#l00184">GetPostfitParamPlots.cpp:184</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a797916c99123381b3b61e55e7398f695"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a797916c99123381b3b61e55e7398f695">&#9670;&nbsp;</a></span>Get2DComparison()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Get2DComparison </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>FileName1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>FileName2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KS: Make comparison of 2D Posteriors. </p>

<p class="definition">Definition at line <a class="el" href="GetPostfitParamPlots_8cpp_source.html#l00995">995</a> of file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;{</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <span class="keyword">auto</span> canvas = std::make_unique&lt;TCanvas&gt;(<span class="stringliteral">&quot;canvas&quot;</span>, <span class="stringliteral">&quot;canvas&quot;</span>, 0, 0, 1024, 1024);</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  canvas-&gt;SetBottomMargin(0.1f);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  canvas-&gt;SetTopMargin(0.05f);</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  canvas-&gt;SetRightMargin(0.03f);</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  canvas-&gt;SetLeftMargin(0.15f);</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160; </div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="comment">// Open the two ROOT files</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  TFile* File1 = <a class="code" href="namespaceM3.html#a87841bdbf0e0a2a733d9e4ca499f820d">M3::Open</a>(FileName1, <span class="stringliteral">&quot;READ&quot;</span>, __FILE__, __LINE__);</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  TFile* File2 = <a class="code" href="namespaceM3.html#a87841bdbf0e0a2a733d9e4ca499f820d">M3::Open</a>(FileName2, <span class="stringliteral">&quot;READ&quot;</span>, __FILE__, __LINE__);</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160; </div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  <span class="comment">// Get the Post_2d_hists directory from both files</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  TDirectory* Dir1 = File1-&gt;Get&lt;TDirectory&gt;(<span class="stringliteral">&quot;Post_2d_hists&quot;</span>);</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  TDirectory* Dir2 = File2-&gt;Get&lt;TDirectory&gt;(<span class="stringliteral">&quot;Post_2d_hists&quot;</span>);</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160; </div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  <span class="keywordflow">if</span> (!Dir1 || !Dir2) {</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <a class="code" href="MaCh3Logger_8h.html#ad5b2eb6377721e3ac95def22c2386bb1">MACH3LOG_WARN</a>(<span class="stringliteral">&quot;Post_2d_hists directory not found in one or both files while running {}.&quot;</span>, __func__);</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    File1-&gt;Close();</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keyword">delete</span> File1;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    File2-&gt;Close();</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="keyword">delete</span> File2;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  }</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160; </div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <span class="comment">// Get the list of keys in the first directory</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  TIter next1(Dir1-&gt;GetListOfKeys());</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  TKey* key1 = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160; </div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <span class="comment">// Prepare the output PDF filename</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  std::string SaveName2D = <span class="stringliteral">&quot;2DComparison_&quot;</span> + FileName1 + <span class="stringliteral">&quot;_&quot;</span> + FileName2;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;  SaveName2D = SaveName2D.substr(0, SaveName2D.find(<span class="stringliteral">&quot;.root&quot;</span>));</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  SaveName2D = SaveName2D + <span class="stringliteral">&quot;.pdf&quot;</span>;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160; </div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  canvas-&gt;Print((SaveName2D+<span class="stringliteral">&quot;[&quot;</span>).c_str());</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <span class="comment">// Loop over keys in the first directory</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <span class="keywordflow">while</span> ((key1 = <span class="keyword">static_cast&lt;</span>TKey*<span class="keyword">&gt;</span>(next1()))) {</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    TString histName = key1-&gt;GetName();</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160; </div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="comment">// Check if the key is a TH2D</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <span class="keywordflow">if</span> (TString(key1-&gt;GetClassName()) == <span class="stringliteral">&quot;TH2D&quot;</span>) {</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;      TH2D* hist1 = <span class="keyword">static_cast&lt;</span>TH2D*<span class="keyword">&gt;</span>(key1-&gt;ReadObj());</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160; </div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;      <span class="comment">// Try to get the histogram with the same name from the second directory</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;      TH2D* hist2 = <span class="keyword">static_cast&lt;</span>TH2D*<span class="keyword">&gt;</span>(Dir2-&gt;Get(histName));</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;      <span class="keywordflow">if</span> (hist2) {</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        hist1-&gt;SetTitle(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;        hist1-&gt;SetTitle(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160; </div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        <span class="comment">// Prettify axis titles</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        std::string Xtitle = <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;style().prettifyParamName(hist1-&gt;GetXaxis()-&gt;GetTitle());</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        std::string Ytitle = <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;style().prettifyParamName(hist1-&gt;GetYaxis()-&gt;GetTitle());</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160; </div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        <span class="comment">// Adjust the axis ranges of hist1 to include both histograms</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        <span class="keywordtype">double</span> xmin = std::min(hist1-&gt;GetXaxis()-&gt;GetXmin(), hist2-&gt;GetXaxis()-&gt;GetXmin());</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        <span class="keywordtype">double</span> xmax = std::max(hist1-&gt;GetXaxis()-&gt;GetXmax(), hist2-&gt;GetXaxis()-&gt;GetXmax());</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        <span class="keywordtype">double</span> ymin = std::min(hist1-&gt;GetYaxis()-&gt;GetXmin(), hist2-&gt;GetYaxis()-&gt;GetXmin());</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;        <span class="keywordtype">double</span> ymax = std::max(hist1-&gt;GetYaxis()-&gt;GetXmax(), hist2-&gt;GetYaxis()-&gt;GetXmax());</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160; </div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        hist1-&gt;GetXaxis()-&gt;SetRangeUser(xmin, xmax);</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        hist1-&gt;GetYaxis()-&gt;SetRangeUser(ymin, ymax);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160; </div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        hist1-&gt;GetXaxis()-&gt;SetTitle(Xtitle.c_str());</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        hist1-&gt;GetYaxis()-&gt;SetTitle(Ytitle.c_str());</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160; </div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        hist1-&gt;SetLineColor(kBlue);</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        hist1-&gt;SetLineStyle(kSolid);</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        hist1-&gt;SetLineWidth(2);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160; </div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        hist2-&gt;SetLineColor(kRed);</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        hist2-&gt;SetLineStyle(kDashed);</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        hist2-&gt;SetLineWidth(2);</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160; </div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        hist1-&gt;Draw(<span class="stringliteral">&quot;CONT3&quot;</span>);</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        hist2-&gt;Draw(<span class="stringliteral">&quot;CONT3 SAME&quot;</span>);</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160; </div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        <span class="keyword">auto</span> Legend = std::make_unique&lt;TLegend&gt;(0.20, 0.7, 0.4, 0.92);</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        Legend-&gt;AddEntry(hist1, <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getFileLabel(0).c_str(), <span class="stringliteral">&quot;l&quot;</span>);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        Legend-&gt;AddEntry(hist2, <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getFileLabel(1).c_str(), <span class="stringliteral">&quot;l&quot;</span>);</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        Legend-&gt;SetTextSize(0.03);</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        Legend-&gt;SetLineColor(0);</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        Legend-&gt;SetLineStyle(0);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        Legend-&gt;SetFillColor(0);</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        Legend-&gt;SetFillStyle(0);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        Legend-&gt;SetBorderSize(0);</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        Legend-&gt;Draw(<span class="stringliteral">&quot;SAME&quot;</span>);</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        canvas-&gt;Print((SaveName2D).c_str());</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;      }</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    }</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  }</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  canvas-&gt;Print((SaveName2D+<span class="stringliteral">&quot;]&quot;</span>).c_str());</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160; </div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  File1-&gt;Close();</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <span class="keyword">delete</span> File1;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  File2-&gt;Close();</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <span class="keyword">delete</span> File2;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;}</div>
<div class="ttc" id="anamespaceM3_html_a87841bdbf0e0a2a733d9e4ca499f820d"><div class="ttname"><a href="namespaceM3.html#a87841bdbf0e0a2a733d9e4ca499f820d">M3::Open</a></div><div class="ttdeci">TFile * Open(const std::string &amp;Name, const std::string &amp;Type, const std::string &amp;File, const int Line)</div><div class="ttdoc">Opens a ROOT file with the given name and mode.</div><div class="ttdef"><b>Definition:</b> <a href="HistogramUtils_8cpp_source.html#l00663">HistogramUtils.cpp:663</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad53f55565623ac6efd066209b1821ea6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad53f55565623ac6efd066209b1821ea6">&#9670;&nbsp;</a></span>GetPostfitParamPlots()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GetPostfitParamPlots </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GetPostfitParamPlots_8cpp_source.html#l00716">716</a> of file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;{</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <a class="code" href="GetPostfitParamPlots_8cpp.html#a78b45c4d250d7b2113925577bbce2dad">SaveName</a> = <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getOutputName();</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  </div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="comment">//KS: By default we take HPD values, but by changing &quot;plotType&quot; you can use for example Gauss</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <a class="code" href="GetPostfitParamPlots_8cpp.html#aee5c9d8d7ad14d8728dffad47b8d4efe">plotType</a> = <span class="stringliteral">&quot;HPD&quot;</span>;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <span class="comment">//plotType = &quot;gaus&quot;; </span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Plotting {} errors&quot;</span>, <a class="code" href="GetPostfitParamPlots_8cpp.html#aee5c9d8d7ad14d8728dffad47b8d4efe">plotType</a>);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  </div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="comment">// if we have one MaCh3 nd file then we can get settings from it </span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="keywordtype">bool</span> plotNDDet = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> fileId = 0; fileId &lt; <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;input().getNInputFiles(); fileId++) {</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="GetPostfitParamPlots_8cpp.html#a62fabd89835f68331d917ae242231a24">ReadSettings</a>(<a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;input().getFile(0).file)) {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;at least one file provided does not have &#39;settings&#39; tree indicating it is not MaCh3 ND file&quot;</span>);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;  sadly this means I cannot plot ND Det parameters as this is only supported for MaCh3 ND files for now... sorry :(&quot;</span>);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      plotNDDet = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    }</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  }</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160; </div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  TCanvas* canv = <span class="keyword">new</span> TCanvas(<span class="stringliteral">&quot;canv&quot;</span>, <span class="stringliteral">&quot;canv&quot;</span>, 1024, 1024);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="comment">//gStyle-&gt;SetPalette(51);</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  gStyle-&gt;SetOptStat(0); <span class="comment">//Set 0 to disable statistic box</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  canv-&gt;SetLeftMargin(0.12);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  canv-&gt;SetBottomMargin(0.12);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  canv-&gt;SetTopMargin(0.08);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  canv-&gt;SetRightMargin(0.04);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  canv-&gt;Print((<a class="code" href="GetPostfitParamPlots_8cpp.html#a78b45c4d250d7b2113925577bbce2dad">SaveName</a>+<span class="stringliteral">&quot;[&quot;</span>).c_str());</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="comment">// Make a Legend page</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="keyword">auto</span> leg = std::make_unique&lt;TLegend&gt;(0.0, 0.0, 1.0, 1.0);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="comment">// make a dummy TH1 to set out legend</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  TH1D* Prefit = <span class="keyword">new</span> TH1D();</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;style().setTH1Style(Prefit, <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getOption&lt;std::string&gt;(<span class="stringliteral">&quot;prefitHistStyle&quot;</span>));</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  leg-&gt;AddEntry(Prefit, <span class="stringliteral">&quot;Prior&quot;</span>, <span class="stringliteral">&quot;lpf&quot;</span>);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160; </div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> fileId = 0; fileId &lt; <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getNFiles(); fileId++){</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    TH1D *postFitHist_tmp = <span class="keyword">new</span> TH1D();</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    postFitHist_tmp-&gt;SetBit(kCanDelete);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    </div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    postFitHist_tmp-&gt;SetMarkerColor(TColor::GetColorPalette(fileId));</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    postFitHist_tmp-&gt;SetLineColor(TColor::GetColorPalette(fileId));</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    postFitHist_tmp-&gt;SetMarkerStyle(7);</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    postFitHist_tmp-&gt;SetLineStyle(1+fileId);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    postFitHist_tmp-&gt;SetLineWidth(<a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getOption&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;plotLineWidth&quot;</span>));</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    leg-&gt;AddEntry(postFitHist_tmp, <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getFileLabel(fileId).c_str(), <span class="stringliteral">&quot;lpf&quot;</span>);</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  }</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160; </div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  canv-&gt;cd();</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  canv-&gt;Clear();</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  leg-&gt;Draw();</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  canv-&gt;Print((<a class="code" href="GetPostfitParamPlots_8cpp.html#a78b45c4d250d7b2113925577bbce2dad">SaveName</a>).c_str());</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160; </div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <a class="code" href="GetPostfitParamPlots_8cpp.html#a4966a6fff9ff250e7cde4bf7ca215ad7">MakeParameterPlots</a>(canv);</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160; </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  <a class="code" href="GetPostfitParamPlots_8cpp.html#a1b260660a7d34ef58b26364b172dc6e2">MakeFluxPlots</a>(canv);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160; </div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <span class="comment">//KS: By default we don&#39;t run ProcessMCMC with PlotDet as this take some time, in case we did let&#39;s make fancy plots</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="keywordflow">if</span>(plotNDDet &amp; (<a class="code" href="GetPostfitParamPlots_8cpp.html#adb4ee3a874472b4ffccc8734da66250e">NDParameters</a> &gt; 0)) <a class="code" href="GetPostfitParamPlots_8cpp.html#a537db5b05ce6037e9221b2250d91c688">MakeNDDetPlots</a>();</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  canv-&gt;Print((<a class="code" href="GetPostfitParamPlots_8cpp.html#a78b45c4d250d7b2113925577bbce2dad">SaveName</a>+<span class="stringliteral">&quot;]&quot;</span>).c_str());</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160; </div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <a class="code" href="GetPostfitParamPlots_8cpp.html#a8dc9e9b4dd5dbd06c2111a1e5e3a0eba">MakeRidgePlots</a>();</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160; </div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <span class="keyword">delete</span> canv;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <span class="keyword">delete</span> Prefit;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;}</div>
<div class="ttc" id="aGetPostfitParamPlots_8cpp_html_a1b260660a7d34ef58b26364b172dc6e2"><div class="ttname"><a href="GetPostfitParamPlots_8cpp.html#a1b260660a7d34ef58b26364b172dc6e2">MakeFluxPlots</a></div><div class="ttdeci">void MakeFluxPlots(TCanvas *canv)</div><div class="ttdef"><b>Definition:</b> <a href="GetPostfitParamPlots_8cpp_source.html#l00390">GetPostfitParamPlots.cpp:390</a></div></div>
<div class="ttc" id="aGetPostfitParamPlots_8cpp_html_a4966a6fff9ff250e7cde4bf7ca215ad7"><div class="ttname"><a href="GetPostfitParamPlots_8cpp.html#a4966a6fff9ff250e7cde4bf7ca215ad7">MakeParameterPlots</a></div><div class="ttdeci">void MakeParameterPlots(TCanvas *canv)</div><div class="ttdef"><b>Definition:</b> <a href="GetPostfitParamPlots_8cpp_source.html#l00328">GetPostfitParamPlots.cpp:328</a></div></div>
<div class="ttc" id="aGetPostfitParamPlots_8cpp_html_a537db5b05ce6037e9221b2250d91c688"><div class="ttname"><a href="GetPostfitParamPlots_8cpp.html#a537db5b05ce6037e9221b2250d91c688">MakeNDDetPlots</a></div><div class="ttdeci">void MakeNDDetPlots()</div><div class="ttdef"><b>Definition:</b> <a href="GetPostfitParamPlots_8cpp_source.html#l00478">GetPostfitParamPlots.cpp:478</a></div></div>
<div class="ttc" id="aGetPostfitParamPlots_8cpp_html_a62fabd89835f68331d917ae242231a24"><div class="ttname"><a href="GetPostfitParamPlots_8cpp.html#a62fabd89835f68331d917ae242231a24">ReadSettings</a></div><div class="ttdeci">bool ReadSettings(const std::shared_ptr&lt; TFile &gt; &amp;File1)</div><div class="ttdef"><b>Definition:</b> <a href="GetPostfitParamPlots_8cpp_source.html#l00153">GetPostfitParamPlots.cpp:153</a></div></div>
<div class="ttc" id="aGetPostfitParamPlots_8cpp_html_a78b45c4d250d7b2113925577bbce2dad"><div class="ttname"><a href="GetPostfitParamPlots_8cpp.html#a78b45c4d250d7b2113925577bbce2dad">SaveName</a></div><div class="ttdeci">std::string SaveName</div><div class="ttdef"><b>Definition:</b> <a href="GetPostfitParamPlots_8cpp_source.html#l00059">GetPostfitParamPlots.cpp:59</a></div></div>
<div class="ttc" id="aGetPostfitParamPlots_8cpp_html_a8dc9e9b4dd5dbd06c2111a1e5e3a0eba"><div class="ttname"><a href="GetPostfitParamPlots_8cpp.html#a8dc9e9b4dd5dbd06c2111a1e5e3a0eba">MakeRidgePlots</a></div><div class="ttdeci">void MakeRidgePlots()</div><div class="ttdef"><b>Definition:</b> <a href="GetPostfitParamPlots_8cpp_source.html#l00549">GetPostfitParamPlots.cpp:549</a></div></div>
<div class="ttc" id="aGetPostfitParamPlots_8cpp_html_adb4ee3a874472b4ffccc8734da66250e"><div class="ttname"><a href="GetPostfitParamPlots_8cpp.html#adb4ee3a874472b4ffccc8734da66250e">NDParameters</a></div><div class="ttdeci">int NDParameters</div><div class="ttdef"><b>Definition:</b> <a href="GetPostfitParamPlots_8cpp_source.html#l00053">GetPostfitParamPlots.cpp:53</a></div></div>
<div class="ttc" id="aGetPostfitParamPlots_8cpp_html_aee5c9d8d7ad14d8728dffad47b8d4efe"><div class="ttname"><a href="GetPostfitParamPlots_8cpp.html#aee5c9d8d7ad14d8728dffad47b8d4efe">plotType</a></div><div class="ttdeci">std::string plotType</div><div class="ttdef"><b>Definition:</b> <a href="GetPostfitParamPlots_8cpp_source.html#l00063">GetPostfitParamPlots.cpp:63</a></div></div>
<div class="ttc" id="aMaCh3Logger_8h_html_a95fa4dffc648e4c5536c9292c2bdcac3"><div class="ttname"><a href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a></div><div class="ttdeci">#define MACH3LOG_INFO</div><div class="ttdef"><b>Definition:</b> <a href="MaCh3Logger_8h_source.html#l00035">MaCh3Logger.h:35</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9176d510f8810d2b58ae481fa9f3f69c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9176d510f8810d2b58ae481fa9f3f69c">&#9670;&nbsp;</a></span>GetViolinPlots()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GetViolinPlots </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KS: Make fancy violin plots. </p>

<p class="definition">Definition at line <a class="el" href="GetPostfitParamPlots_8cpp_source.html#l00820">820</a> of file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;{</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <span class="comment">//KS: Should be in some config... either way it control whether you plot symmetric or asymmetric error bars</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="keywordtype">bool</span> PlotAssym = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="comment">//KS: No idea why but ROOT changed treatment of violin in R6. If you have non uniform binning this will results in very hard to see violin plots.</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  TCandle::SetScaledViolin(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160; </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  std::string OutputName = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> fileId = 0; fileId &lt; <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getNFiles(); fileId++){</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;File {}: {} &quot;</span>, fileId, <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getFileName(fileId));</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    OutputName += <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getFileName(fileId);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    OutputName = OutputName.substr(0, OutputName.find(<span class="stringliteral">&quot;.root&quot;</span>));</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  }</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Making Violin Plot&quot;</span>);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  OutputName += <span class="stringliteral">&quot;_Violin&quot;</span>;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <span class="keywordflow">if</span>(PlotAssym) OutputName += <span class="stringliteral">&quot;_Assym&quot;</span>;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160; </div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="keyword">auto</span> canvas = std::make_unique&lt;TCanvas&gt;(<span class="stringliteral">&quot;canv&quot;</span>, <span class="stringliteral">&quot;canv&quot;</span>, 1024, 1024);</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  canvas-&gt;SetGrid();</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  gStyle-&gt;SetOptStat(0);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="comment">//KS: Remove errors on X axis as they are confusing in violin type of plot</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="keywordflow">if</span>(!PlotAssym) gStyle-&gt;SetErrorX(0.0001);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  canvas-&gt;SetTickx();</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  canvas-&gt;SetTicky();</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  canvas-&gt;SetBottomMargin(0.25);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  canvas-&gt;SetTopMargin(0.08);</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  canvas-&gt;SetRightMargin(0.03);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  canvas-&gt;SetLeftMargin(0.10);</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  canvas-&gt;Print((OutputName+<span class="stringliteral">&quot;.pdf[&quot;</span>).c_str());</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  canvas-&gt;SetGrid();</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160; </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;input().getFile(0).file-&gt;Get&lt;TH2D&gt;( <span class="stringliteral">&quot;param_violin_prior&quot;</span> ) == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  {</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <a class="code" href="MaCh3Logger_8h.html#ad5b2eb6377721e3ac95def22c2386bb1">MACH3LOG_WARN</a>(<span class="stringliteral">&quot;Couldn&#39;t find violin plot, make sure method from MCMCProcessor is being called&quot;</span>);</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  }</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  std::unique_ptr&lt;TH2D&gt; ViolinPre = <a class="code" href="namespaceM3.html#a174fa82e79c5b38edecbc0552a4ce5b1">M3::Clone</a>(<a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;input().getFile(0).file-&gt;Get&lt;TH2D&gt;( <span class="stringliteral">&quot;param_violin_prior&quot;</span> ));</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <span class="comment">// Do some fancy replacements</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  ViolinPre-&gt;SetFillColor(kRed);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  ViolinPre-&gt;SetFillColorAlpha(kRed, 0.35);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  ViolinPre-&gt;SetMarkerColor(kRed);</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  ViolinPre-&gt;SetMarkerStyle(20);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  ViolinPre-&gt;SetMarkerSize(0.5);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160; </div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  ViolinPre-&gt;GetYaxis()-&gt;SetTitleOffset(1.3);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  ViolinPre-&gt;GetYaxis()-&gt;SetTitle(<span class="stringliteral">&quot;Parameter Value&quot;</span>);</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  ViolinPre-&gt;GetXaxis()-&gt;LabelsOption(<span class="stringliteral">&quot;v&quot;</span>);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160; </div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  std::unique_ptr&lt;TH1D&gt; Postfit = <a class="code" href="namespaceM3.html#a174fa82e79c5b38edecbc0552a4ce5b1">M3::Clone</a>(<a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;input().getFile(0).file-&gt;Get&lt;TH1D&gt;( (<span class="stringliteral">&quot;param_xsec_&quot;</span>+<a class="code" href="GetPostfitParamPlots_8cpp.html#aee5c9d8d7ad14d8728dffad47b8d4efe">plotType</a>).c_str() ));</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  Postfit-&gt;SetMarkerColor(kRed);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  Postfit-&gt;SetLineColor(kRed);</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  Postfit-&gt;SetMarkerStyle(7);</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160; </div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  std::vector&lt;std::unique_ptr&lt;TH2D&gt;&gt; Violin(<a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getNFiles());</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> fileId = 0; fileId &lt; <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getNFiles(); fileId++) {</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    Violin[fileId] = <a class="code" href="namespaceM3.html#a174fa82e79c5b38edecbc0552a4ce5b1">M3::Clone</a>(<a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;input().getFile(fileId).file-&gt;Get&lt;TH2D&gt;( <span class="stringliteral">&quot;param_violin&quot;</span> ));</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="keywordflow">if</span>(Violin[fileId] == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    {</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      <a class="code" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Couldn&#39;t find violin plot, make sure method from MCMCProcessor is being called&quot;</span>);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    }</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="comment">//KS: I know hardcoded but we can figure out later...</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="keywordflow">if</span>(fileId == 0){</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      Violin[fileId]-&gt;SetFillColor(kBlue);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      Violin[fileId]-&gt;SetFillColorAlpha(kBlue, 0.35);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      Violin[fileId]-&gt;SetMarkerColor(kBlue);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;      Violin[fileId]-&gt;SetMarkerStyle(20);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      Violin[fileId]-&gt;SetMarkerSize(0.5);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fileId == 1) {</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      Violin[fileId]-&gt;SetMarkerColor(kGreen);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      Violin[fileId]-&gt;SetLineColor(kGreen);</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      Violin[fileId]-&gt;SetFillColor(kGreen);</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      Violin[fileId]-&gt;SetFillColorAlpha(kGreen, 0.35);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fileId == 2) {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      Violin[fileId]-&gt;SetMarkerColor(kMagenta);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      Violin[fileId]-&gt;SetLineColor(kMagenta);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;      Violin[fileId]-&gt;SetFillColor(kMagenta);</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      Violin[fileId]-&gt;SetFillColorAlpha(kMagenta, 0.35);</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      <a class="code" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Too many file, not implemented...&quot;</span>);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      <span class="keywordflow">throw</span> <a class="code" href="classMaCh3Exception.html">MaCh3Exception</a>(__FILE__ , __LINE__ );</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    }</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  }</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160; </div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  std::unique_ptr&lt;TGraphAsymmErrors&gt; PostGraphAll = <a class="code" href="GetPostfitParamPlots_8cpp.html#ad3c9db8ae8a10ce5c59501934d2a2d88">MakeTGraphAsymmErrors</a>(<a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;input().getFile(0).file);</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  <span class="comment">// Make a Legend page</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <span class="keyword">auto</span> leg = std::make_unique&lt;TLegend&gt;(0.0, 0.0, 1.0, 1.0);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <span class="keywordflow">if</span> (ViolinPre != <span class="keyword">nullptr</span>) leg-&gt;AddEntry(ViolinPre.get(), <span class="stringliteral">&quot;Prior&quot;</span>, <span class="stringliteral">&quot;lpf&quot;</span>);</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> fileId = 0; fileId &lt; <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getNFiles(); fileId++) {</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    leg-&gt;AddEntry(Violin[fileId].get(), <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getFileLabel(fileId).c_str(), <span class="stringliteral">&quot;lpf&quot;</span>);</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  }</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <span class="keywordflow">if</span>(PlotAssym) leg-&gt;AddEntry(PostGraphAll.get(), <span class="stringliteral">&quot;HPD Assym&quot;</span>, <span class="stringliteral">&quot;lp&quot;</span>);</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <span class="keywordflow">else</span>          leg-&gt;AddEntry(Postfit.get(), <span class="stringliteral">&quot;HPD&quot;</span>, <span class="stringliteral">&quot;lpf&quot;</span>);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160; </div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  canvas-&gt;cd();</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  canvas-&gt;Clear();</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  leg-&gt;Draw();</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  canvas-&gt;Print((OutputName+<span class="stringliteral">&quot;.pdf&quot;</span>).c_str());</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  </div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <span class="comment">// get the names of the blocks of parameters to group together</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  std::vector&lt;std::string&gt; <span class="keyword">const</span> blockNames = <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getOption&lt;std::vector&lt;std::string&gt;&gt;(<span class="stringliteral">&quot;paramGroups&quot;</span>);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> nPlots = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(blockNames.size());</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160; </div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nPlots; i++)</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="comment">// get the configuration for this parameter</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    std::string blockName = blockNames[i];</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    YAML::Node paramBlock = <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getOption(blockName);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    std::string blockTitle                 = paramBlock[0].as&lt;std::string&gt;();</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    std::vector&lt;double&gt;      blockLimits   = paramBlock[1].as&lt;std::vector&lt;double&gt;&gt;();</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    std::vector&lt;std::string&gt; blockContents = paramBlock[2].as&lt;std::vector&lt;std::string&gt;&gt;();</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160; </div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="comment">// get num of params in the block</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> nParams = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(blockContents.size());</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160; </div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="comment">// set some plot things</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="keyword">auto</span> blockHist_prefit = std::make_unique&lt;TH2D&gt;((blockName + <span class="stringliteral">&quot;_Prefit&quot;</span>).c_str(), blockTitle.c_str(), nParams, 0.0, <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(nParams),</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                                      ViolinPre-&gt;GetYaxis()-&gt;GetNbins(), ViolinPre-&gt;GetYaxis()-&gt;GetXmin(), ViolinPre-&gt;GetYaxis()-&gt;GetXmax());</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <a class="code" href="GetPostfitParamPlots_8cpp.html#ae93e55fc3ae7cd6f29f3f1a27e091a6c">CopyViolinToBlock</a>(ViolinPre.get(), blockHist_prefit.get(), blockContents);</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="comment">// set the y axis limits we got from config</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    blockHist_prefit-&gt;GetYaxis()-&gt;SetRangeUser(blockLimits[0], blockLimits[1]);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160; </div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    std::vector&lt;std::unique_ptr&lt;TH2D&gt;&gt; blockHist(<a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getNFiles());</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> fileId = 0; fileId &lt; <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getNFiles(); fileId++) {</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      blockHist[fileId] = std::make_unique&lt;TH2D&gt;((blockTitle + <span class="stringliteral">&quot;Violin&quot;</span> + fileId).Data(), (blockTitle + <span class="stringliteral">&quot;Violin&quot;</span> + fileId).Data(),</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                                                   nParams, 0.0, <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(nParams), Violin[fileId]-&gt;GetYaxis()-&gt;GetNbins(),</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                                                   Violin[fileId]-&gt;GetYaxis()-&gt;GetXmin(), Violin[fileId]-&gt;GetYaxis()-&gt;GetXmax());</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      <a class="code" href="GetPostfitParamPlots_8cpp.html#ae93e55fc3ae7cd6f29f3f1a27e091a6c">CopyViolinToBlock</a>(Violin[fileId].get(), blockHist[fileId].get(), blockContents);</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      blockHist[fileId]-&gt;GetYaxis()-&gt;SetRangeUser(blockLimits[fileId], blockLimits[1]);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    }</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="comment">// Do some fancy replacements</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <a class="code" href="GetPostfitParamPlots_8cpp.html#acbde284ea52643cf3db23f6edc77850c">PrettifyTitles</a>(blockHist_prefit.get());</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160; </div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="comment">// set some plot things</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="keyword">auto</span> blockHist_Best = std::make_unique&lt;TH1D&gt;(blockName.c_str(), blockTitle.c_str(),</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                                                 nParams, 0.0, <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(nParams));</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="comment">// set the errors for the prefit block hist</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> localBin=0; localBin &lt; nParams; localBin ++){</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      <span class="comment">// the &quot;local&quot; bin is the params index within the group of parameters</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      std::string paramName = blockContents[localBin];</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;      <a class="code" href="GetPostfitParamPlots_8cpp.html#a3a9ef138385a4c0f71323c4898713bb8">copyParToBlockHist</a>(localBin, paramName, blockHist_Best.get(), <span class="stringliteral">&quot;&quot;</span>, 0);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    }</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160; </div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    std::vector&lt;int&gt; Index;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> is = 0; is &lt; blockContents.size(); is++) {</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      <span class="keywordtype">int</span> ParamBinId = <a class="code" href="namespaceM3.html#ac289df32a5b3b05c61a87cbac5702b25">M3::_BAD_INT_</a>;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ix = 0; ix &lt; ViolinPre-&gt;GetXaxis()-&gt;GetNbins(); ++ix) {</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <span class="keywordflow">if</span>(ViolinPre-&gt;GetXaxis()-&gt;GetBinLabel(ix+1) == blockContents[is]) {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;          ParamBinId = ix;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        }</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      }</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      Index.push_back(ParamBinId);</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    }</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    std::unique_ptr&lt;TGraphAsymmErrors&gt; PostGraph = <a class="code" href="GetPostfitParamPlots_8cpp.html#ad3c9db8ae8a10ce5c59501934d2a2d88">MakeTGraphAsymmErrors</a>(<a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;input().getFile(0).file, Index);</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    PostGraph-&gt;SetMarkerColor(kBlack);</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    PostGraph-&gt;SetLineColor(kBlack);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    PostGraph-&gt;SetMarkerStyle(7);</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    PostGraph-&gt;SetLineWidth(2);</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    PostGraph-&gt;SetLineStyle(kSolid);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160; </div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    blockHist_prefit-&gt;Draw(<span class="stringliteral">&quot;violinX(03100300)&quot;</span>);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> fileId = 0; fileId &lt; <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getNFiles(); fileId++) {</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;      blockHist[fileId]-&gt;Draw(<span class="stringliteral">&quot;violinX(03100300) SAME&quot;</span>);</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    }</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160; </div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="keywordflow">if</span>(PlotAssym) PostGraph-&gt;Draw(<span class="stringliteral">&quot;P SAME&quot;</span>);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="keywordflow">else</span> Postfit-&gt;Draw(<span class="stringliteral">&quot;SAME&quot;</span>);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    canvas-&gt;Print((OutputName+<span class="stringliteral">&quot;.pdf&quot;</span>).c_str());</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  }</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  canvas-&gt;Print((OutputName+<span class="stringliteral">&quot;.pdf]&quot;</span>).c_str());</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;}</div>
<div class="ttc" id="aGetPostfitParamPlots_8cpp_html_a3a9ef138385a4c0f71323c4898713bb8"><div class="ttname"><a href="GetPostfitParamPlots_8cpp.html#a3a9ef138385a4c0f71323c4898713bb8">copyParToBlockHist</a></div><div class="ttdeci">void copyParToBlockHist(const int localBin, const std::string &amp;paramName, TH1D *blockHist, const std::string &amp;type, const int fileId, const bool setLabels=true)</div><div class="ttdef"><b>Definition:</b> <a href="GetPostfitParamPlots_8cpp_source.html#l00065">GetPostfitParamPlots.cpp:65</a></div></div>
<div class="ttc" id="aGetPostfitParamPlots_8cpp_html_acbde284ea52643cf3db23f6edc77850c"><div class="ttname"><a href="GetPostfitParamPlots_8cpp.html#acbde284ea52643cf3db23f6edc77850c">PrettifyTitles</a></div><div class="ttdeci">void PrettifyTitles(TH1D *Hist)</div><div class="ttdef"><b>Definition:</b> <a href="GetPostfitParamPlots_8cpp_source.html#l00134">GetPostfitParamPlots.cpp:134</a></div></div>
<div class="ttc" id="aGetPostfitParamPlots_8cpp_html_ad3c9db8ae8a10ce5c59501934d2a2d88"><div class="ttname"><a href="GetPostfitParamPlots_8cpp.html#ad3c9db8ae8a10ce5c59501934d2a2d88">MakeTGraphAsymmErrors</a></div><div class="ttdeci">std::unique_ptr&lt; TGraphAsymmErrors &gt; MakeTGraphAsymmErrors(const std::shared_ptr&lt; TFile &gt; &amp;File, std::vector&lt; int &gt; Index={})</div><div class="ttdef"><b>Definition:</b> <a href="GetPostfitParamPlots_8cpp_source.html#l00785">GetPostfitParamPlots.cpp:785</a></div></div>
<div class="ttc" id="aGetPostfitParamPlots_8cpp_html_ae93e55fc3ae7cd6f29f3f1a27e091a6c"><div class="ttname"><a href="GetPostfitParamPlots_8cpp.html#ae93e55fc3ae7cd6f29f3f1a27e091a6c">CopyViolinToBlock</a></div><div class="ttdeci">void CopyViolinToBlock(TH2D *FullViolin, TH2D *ReducedViolin, const std::vector&lt; std::string &gt; &amp;ParamNames)</div><div class="ttdef"><b>Definition:</b> <a href="GetPostfitParamPlots_8cpp_source.html#l00100">GetPostfitParamPlots.cpp:100</a></div></div>
<div class="ttc" id="aMaCh3Logger_8h_html_a61052119a625282d0ec6d4a97adf3ee2"><div class="ttname"><a href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a></div><div class="ttdeci">#define MACH3LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="MaCh3Logger_8h_source.html#l00037">MaCh3Logger.h:37</a></div></div>
<div class="ttc" id="aclassMaCh3Exception_html"><div class="ttname"><a href="classMaCh3Exception.html">MaCh3Exception</a></div><div class="ttdoc">Custom exception class used throughout MaCh3.</div><div class="ttdef"><b>Definition:</b> <a href="MaCh3Exception_8h_source.html#l00023">MaCh3Exception.h:23</a></div></div>
<div class="ttc" id="anamespaceM3_html_a174fa82e79c5b38edecbc0552a4ce5b1"><div class="ttname"><a href="namespaceM3.html#a174fa82e79c5b38edecbc0552a4ce5b1">M3::Clone</a></div><div class="ttdeci">std::unique_ptr&lt; ObjectType &gt; Clone(const ObjectType *obj, const std::string &amp;name=&quot;&quot;)</div><div class="ttdoc">KS: Creates a copy of a ROOT-like object and wraps it in a smart pointer.</div><div class="ttdef"><b>Definition:</b> <a href="HistogramUtils_8h_source.html#l00147">HistogramUtils.h:147</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2da20c7b11fdfbf6a274cc32170a294c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2da20c7b11fdfbf6a274cc32170a294c">&#9670;&nbsp;</a></span>InitializePads()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitializePads </td>
          <td>(</td>
          <td class="paramtype">const TCanvas *&#160;</td>
          <td class="paramname"><em>canvas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TPad *&amp;&#160;</td>
          <td class="paramname"><em>pad3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TPad *&amp;&#160;</td>
          <td class="paramname"><em>pad4</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GetPostfitParamPlots_8cpp_source.html#l00082">82</a> of file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                                                                     {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="comment">// Initialize TPad p3</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  pad3 = <span class="keyword">new</span> TPad(<span class="stringliteral">&quot;Top&quot;</span>, <span class="stringliteral">&quot;Top&quot;</span>, 0.0, 0.4, 1.0, 1.0);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  pad3-&gt;SetLeftMargin(canvas-&gt;GetLeftMargin());</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  pad3-&gt;SetRightMargin(canvas-&gt;GetRightMargin());</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  pad3-&gt;SetTopMargin(canvas-&gt;GetTopMargin());</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  pad3-&gt;SetBottomMargin(0);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  pad3-&gt;SetGrid();</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="comment">// Initialize TPad p4</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  pad4 = <span class="keyword">new</span> TPad(<span class="stringliteral">&quot;Bottom&quot;</span>, <span class="stringliteral">&quot;Bottom&quot;</span>, 0.0, 0.0, 1.0, 0.4);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  pad4-&gt;SetLeftMargin(canvas-&gt;GetLeftMargin());</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  pad4-&gt;SetRightMargin(canvas-&gt;GetRightMargin());</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  pad4-&gt;SetTopMargin(0);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  pad4-&gt;SetBottomMargin(0.75);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  pad4-&gt;SetGrid();</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ddf1224851353fc92bfbff6f499fa97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ddf1224851353fc92bfbff6f499fa97">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GetPostfitParamPlots_8cpp_source.html#l01094">1094</a> of file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;{</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#aa603c55ea73cd86d1994901227883e1e">SetMaCh3LoggerFormat</a>();</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  <span class="comment">// Avoid Info in &lt;TCanvas::Print&gt;</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  gErrorIgnoreLevel = kWarning;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160; </div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a> = <span class="keyword">new</span> MaCh3Plotting::PlottingManager();</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;parseInputs(argc, argv);</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;<span class="preprocessor">  #ifdef DEBUG</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;input().getFile(0).file-&gt;ls();</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;<span class="preprocessor">  #endif</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;setExec(<span class="stringliteral">&quot;GetPostfitParamPlots&quot;</span>);</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160; </div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;style().setPalette(<a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getOption&lt;std::string&gt;(<span class="stringliteral">&quot;colorPalette&quot;</span>));</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160; </div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  <a class="code" href="GetPostfitParamPlots_8cpp.html#ad53f55565623ac6efd066209b1821ea6">GetPostfitParamPlots</a>();</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  <a class="code" href="GetPostfitParamPlots_8cpp.html#a9176d510f8810d2b58ae481fa9f3f69c">GetViolinPlots</a>();</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160; </div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;input().getNInputFiles() == 2)</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    std::string filename1 = <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getFileName(0);</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    std::string filename2 = <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getFileName(1);</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <a class="code" href="GetPostfitParamPlots_8cpp.html#a797916c99123381b3b61e55e7398f695">Get2DComparison</a>(filename1, filename2);</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  }</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160; </div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  <span class="keyword">delete</span> <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;}</div>
<div class="ttc" id="aGetPostfitParamPlots_8cpp_html_a797916c99123381b3b61e55e7398f695"><div class="ttname"><a href="GetPostfitParamPlots_8cpp.html#a797916c99123381b3b61e55e7398f695">Get2DComparison</a></div><div class="ttdeci">void Get2DComparison(const std::string &amp;FileName1, const std::string &amp;FileName2)</div><div class="ttdoc">KS: Make comparison of 2D Posteriors.</div><div class="ttdef"><b>Definition:</b> <a href="GetPostfitParamPlots_8cpp_source.html#l00995">GetPostfitParamPlots.cpp:995</a></div></div>
<div class="ttc" id="aGetPostfitParamPlots_8cpp_html_a9176d510f8810d2b58ae481fa9f3f69c"><div class="ttname"><a href="GetPostfitParamPlots_8cpp.html#a9176d510f8810d2b58ae481fa9f3f69c">GetViolinPlots</a></div><div class="ttdeci">void GetViolinPlots()</div><div class="ttdoc">KS: Make fancy violin plots.</div><div class="ttdef"><b>Definition:</b> <a href="GetPostfitParamPlots_8cpp_source.html#l00820">GetPostfitParamPlots.cpp:820</a></div></div>
<div class="ttc" id="aMaCh3Logger_8h_html_aa603c55ea73cd86d1994901227883e1e"><div class="ttname"><a href="MaCh3Logger_8h.html#aa603c55ea73cd86d1994901227883e1e">SetMaCh3LoggerFormat</a></div><div class="ttdeci">void SetMaCh3LoggerFormat()</div><div class="ttdoc">Set messaging format of the logger.</div><div class="ttdef"><b>Definition:</b> <a href="MaCh3Logger_8h_source.html#l00061">MaCh3Logger.h:61</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1b260660a7d34ef58b26364b172dc6e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b260660a7d34ef58b26364b172dc6e2">&#9670;&nbsp;</a></span>MakeFluxPlots()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MakeFluxPlots </td>
          <td>(</td>
          <td class="paramtype">TCanvas *&#160;</td>
          <td class="paramname"><em>canv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GetPostfitParamPlots_8cpp_source.html#l00390">390</a> of file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;{</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="comment">// these for non named params where we don&#39;t need as much space</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="keyword">auto</span> p1 = std::make_unique&lt;TPad&gt;(<span class="stringliteral">&quot;p1&quot;</span>, <span class="stringliteral">&quot;p1&quot;</span>, 0.0, 0.3, 1.0, 1.0);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="keyword">auto</span> p2 = std::make_unique&lt;TPad&gt;(<span class="stringliteral">&quot;p2&quot;</span>, <span class="stringliteral">&quot;p2&quot;</span>, 0.0, 0.0, 1.0, 0.3);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  p1-&gt;SetLeftMargin(canv-&gt;GetLeftMargin());</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  p1-&gt;SetRightMargin(canv-&gt;GetRightMargin());</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  p1-&gt;SetTopMargin(canv-&gt;GetTopMargin());</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  p1-&gt;SetBottomMargin(0);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  p1-&gt;SetGrid();</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  p2-&gt;SetLeftMargin(canv-&gt;GetLeftMargin());</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  p2-&gt;SetRightMargin(canv-&gt;GetRightMargin());</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  p2-&gt;SetTopMargin(0);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  p2-&gt;SetBottomMargin(0.25);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  p2-&gt;SetGrid();</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  p1-&gt;SetLogx(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  p2-&gt;SetLogx(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="comment">// get the names of the blocks of parameters to group together</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  std::vector&lt;std::string&gt; <span class="keyword">const</span> fluxBlockNames = <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getOption&lt;std::vector&lt;std::string&gt;&gt;(<span class="stringliteral">&quot;fluxGroups&quot;</span>);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> fluxBinningTable = <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getOption(<span class="stringliteral">&quot;FluxBinning&quot;</span>);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> FluxPlots = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(fluxBlockNames.size());</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; FluxPlots; i++) </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="comment">// get the configuration for this block</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    std::string fluxBlockName = fluxBlockNames[i];</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    YAML::Node paramBlock           = <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getOption(fluxBlockName);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    std::string blockTitle          = paramBlock[0].as&lt;std::string&gt;();</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    std::vector&lt;double&gt; blockLimits = paramBlock[1].as&lt;std::vector&lt;double&gt;&gt;();</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    std::string blockBinningName    = paramBlock[2].as&lt;std::string&gt;();</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    std::vector&lt;int&gt; blockContents  = paramBlock[3].as&lt;std::vector&lt;int&gt;&gt;();</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="comment">// get the binning for this block of flux params</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    std::vector&lt;double&gt; binning    = fluxBinningTable[blockBinningName].as&lt;std::vector&lt;double&gt;&gt;();</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="comment">// get num of params in the block</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordtype">int</span> nParams = blockContents[1] - blockContents[0] +1;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="comment">// check for sanity</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">if</span>(nParams &lt;= 0 || blockContents.size() &gt; 2){</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      <a class="code" href="MaCh3Logger_8h.html#a07ff6d6a15b24f94afc88a1b89779beb">MACH3LOG_CRITICAL</a>(<span class="stringliteral">&quot;Invalid flux parameter block endpoints specified for {}&quot;</span>, fluxBlockName);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <a class="code" href="MaCh3Logger_8h.html#a07ff6d6a15b24f94afc88a1b89779beb">MACH3LOG_CRITICAL</a>(<span class="stringliteral">&quot;  Should have the form [&lt;low index&gt;, &lt;up index&gt;]&quot;</span>);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <span class="keywordflow">throw</span> <a class="code" href="classMaCh3Exception.html">MaCh3Exception</a>(__FILE__ , __LINE__ );</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">if</span> (nParams != <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(binning.size()) - 1) {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      <a class="code" href="MaCh3Logger_8h.html#a07ff6d6a15b24f94afc88a1b89779beb">MACH3LOG_CRITICAL</a>(<span class="stringliteral">&quot;Binning provided for flux param block {} does not match the number of parameters specified for the block&quot;</span>, fluxBlockName);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      <a class="code" href="MaCh3Logger_8h.html#a07ff6d6a15b24f94afc88a1b89779beb">MACH3LOG_CRITICAL</a>(<span class="stringliteral">&quot;  Provided {} parameters but {} bins&quot;</span>, nParams, binning.size() -1);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      <span class="keywordflow">throw</span> <a class="code" href="classMaCh3Exception.html">MaCh3Exception</a>(__FILE__ , __LINE__ );</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keyword">auto</span> blockHist_prefit = std::make_unique&lt;TH1D&gt;(fluxBlockName.c_str(), blockTitle.c_str(), nParams, binning.data());</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    blockHist_prefit-&gt;GetYaxis()-&gt;SetTitle(<span class="stringliteral">&quot;Parameter Variation&quot;</span>);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    blockHist_prefit-&gt;GetXaxis()-&gt;SetTitle(<span class="stringliteral">&quot;E_{#nu} (GeV)&quot;</span>);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    blockHist_prefit-&gt;GetXaxis()-&gt;SetTitleOffset(blockHist_prefit-&gt;GetXaxis()-&gt;GetTitleOffset()*1.2);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;style().setTH1Style(blockHist_prefit.get(), <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getOption&lt;std::string&gt;(<span class="stringliteral">&quot;prefitHistStyle&quot;</span>));</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="comment">// set the errors for the prefit block hist</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> fluxParId = blockContents[0]; fluxParId &lt;= blockContents[1]; fluxParId++){</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="keywordtype">int</span> localBin = fluxParId - blockContents[0];</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        std::string paramName = <span class="stringliteral">&quot;b_&quot;</span> + std::to_string(fluxParId);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <a class="code" href="GetPostfitParamPlots_8cpp.html#a3a9ef138385a4c0f71323c4898713bb8">copyParToBlockHist</a>(localBin, paramName, blockHist_prefit.get(), <span class="stringliteral">&quot;Prior&quot;</span>, 0, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    }</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="comment">// now set for the postfit blocks for all files</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    std::vector &lt;std::unique_ptr&lt;TH1D&gt;&gt; blockHist_postfit_Vec;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> fileId = 0; fileId &lt; <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getNFiles(); fileId++){</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <span class="keyword">auto</span> blockHist_postfit = std::make_unique&lt;TH1D&gt;(fluxBlockName.c_str(), blockTitle.c_str(), nParams, binning.data());</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160; </div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> fluxParId = blockContents[0]; fluxParId &lt;= blockContents[1]; fluxParId++){</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <span class="keywordtype">int</span> localBin = fluxParId - blockContents[0];</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        std::string paramName = <span class="stringliteral">&quot;b_&quot;</span> + std::to_string(fluxParId);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <a class="code" href="GetPostfitParamPlots_8cpp.html#a3a9ef138385a4c0f71323c4898713bb8">copyParToBlockHist</a>(localBin, paramName, blockHist_postfit.get(), <span class="stringliteral">&quot;&quot;</span>, fileId, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      blockHist_postfit_Vec.push_back(std::move(blockHist_postfit));</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="comment">// set the y axis limits we got from config</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    blockHist_prefit-&gt;GetYaxis()-&gt;SetRangeUser(blockLimits[0], blockLimits[1]); </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="GetPostfitParamPlots_8cpp.html#aea2b2a696e8fa4cd2e2e5f86287ce016">DrawPlots</a>(canv, blockHist_prefit.get(), blockHist_postfit_Vec, p1.get(), p2.get(), <a class="code" href="GetPostfitParamPlots_8cpp.html#a78b45c4d250d7b2113925577bbce2dad">SaveName</a>);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  }</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  canv-&gt;cd();</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  canv-&gt;SetLogx(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  canv-&gt;SetBottomMargin(canv-&gt;GetBottomMargin()*1.7);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;}</div>
<div class="ttc" id="aGetPostfitParamPlots_8cpp_html_aea2b2a696e8fa4cd2e2e5f86287ce016"><div class="ttname"><a href="GetPostfitParamPlots_8cpp.html#aea2b2a696e8fa4cd2e2e5f86287ce016">DrawPlots</a></div><div class="ttdeci">void DrawPlots(TCanvas *plotCanv, TH1D *PrefitCopy, const std::vector&lt; std::unique_ptr&lt; TH1D &gt;&gt; &amp;PostfitVec, TPad *mainPad, TPad *ratioPad, const std::string &amp;OutName)</div><div class="ttdef"><b>Definition:</b> <a href="GetPostfitParamPlots_8cpp_source.html#l00252">GetPostfitParamPlots.cpp:252</a></div></div>
<div class="ttc" id="aMaCh3Logger_8h_html_a07ff6d6a15b24f94afc88a1b89779beb"><div class="ttname"><a href="MaCh3Logger_8h.html#a07ff6d6a15b24f94afc88a1b89779beb">MACH3LOG_CRITICAL</a></div><div class="ttdeci">#define MACH3LOG_CRITICAL</div><div class="ttdef"><b>Definition:</b> <a href="MaCh3Logger_8h_source.html#l00038">MaCh3Logger.h:38</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a537db5b05ce6037e9221b2250d91c688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a537db5b05ce6037e9221b2250d91c688">&#9670;&nbsp;</a></span>MakeNDDetPlots()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MakeNDDetPlots </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section warning"><dt>Warning</dt><dd>This is legacy functions and will become deprecated </dd></dl>

<p class="definition">Definition at line <a class="el" href="GetPostfitParamPlots_8cpp_source.html#l00478">478</a> of file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;{</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;ND detector parameters: {}&quot;</span>, <a class="code" href="GetPostfitParamPlots_8cpp.html#adb4ee3a874472b4ffccc8734da66250e">NDParameters</a>);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  TCanvas* canv = <span class="keyword">new</span> TCanvas(<span class="stringliteral">&quot;canv&quot;</span>, <span class="stringliteral">&quot;canv&quot;</span>, 1024, 1024);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="comment">//gStyle-&gt;SetPalette(51);</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  gStyle-&gt;SetOptStat(0); <span class="comment">//Set 0 to disable statistic box</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  canv-&gt;SetLeftMargin(0.12);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  canv-&gt;SetBottomMargin(0.12);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  canv-&gt;SetTopMargin(0.08);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  canv-&gt;SetRightMargin(0.04);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160; </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="comment">// make a dummy TH1 to set out legend</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  TH1D* Prefit = <span class="keyword">new</span> TH1D();</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;style().setTH1Style(Prefit, <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getOption&lt;std::string&gt;(<span class="stringliteral">&quot;prefitHistStyle&quot;</span>));</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  Prefit-&gt;GetYaxis()-&gt;SetTitleOffset(Prefit-&gt;GetYaxis()-&gt;GetTitleOffset()*1.2);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  TPad* pTop = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  TPad* pDown = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <a class="code" href="GetPostfitParamPlots_8cpp.html#a2da20c7b11fdfbf6a274cc32170a294c">InitializePads</a>(canv, pTop, pDown);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="keywordtype">int</span> NDbinCounter = <a class="code" href="GetPostfitParamPlots_8cpp.html#aa7bc6e5554391b57acf10c691b6374e0">NDParametersStartingPos</a>;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keywordtype">int</span> Start = NDbinCounter;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Running on {} samples&quot;</span>, <a class="code" href="GetPostfitParamPlots_8cpp.html#ab5cba8ce6ff9a6e1e9a5ba0b9cfb0b37">NDSamplesNames</a>.size());</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160; </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="GetPostfitParamPlots_8cpp.html#ab5cba8ce6ff9a6e1e9a5ba0b9cfb0b37">NDSamplesNames</a>.size(); ++i)</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <a class="code" href="MaCh3Logger_8h.html#a4db4657acad5c79ac4bbb66a9d1c5905">MACH3LOG_DEBUG</a>(<span class="stringliteral">&quot;--- On sample {}&quot;</span>, <a class="code" href="GetPostfitParamPlots_8cpp.html#ab5cba8ce6ff9a6e1e9a5ba0b9cfb0b37">NDSamplesNames</a>[i]); </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    NDbinCounter += <a class="code" href="GetPostfitParamPlots_8cpp.html#a329ffa5c522d29e1ec016f0b7028437d">NDSamplesBins</a>[i];</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160; </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    std::vector&lt;std::unique_ptr&lt;TH1D&gt;&gt; PostfitNDDetHistVec(<a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getNFiles());</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    TH1D *PreFitNDDetHist = <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;input().getFile(0).file-&gt;Get&lt;TH1D&gt;(Form(<span class="stringliteral">&quot;param_%s_prefit&quot;</span>, <a class="code" href="GetPostfitParamPlots_8cpp.html#ab5cba8ce6ff9a6e1e9a5ba0b9cfb0b37">NDSamplesNames</a>[i].c_str()));</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;style().setTH1Style(PreFitNDDetHist, <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getOption&lt;std::string&gt;(<span class="stringliteral">&quot;prefitHistStyle&quot;</span>));</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    std::string temp = <a class="code" href="GetPostfitParamPlots_8cpp.html#ab5cba8ce6ff9a6e1e9a5ba0b9cfb0b37">NDSamplesNames</a>[i].c_str();</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordflow">while</span> (temp.find(<span class="stringliteral">&quot;_&quot;</span>) != std::string::npos) {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;       temp.replace(temp.find(<span class="stringliteral">&quot;_&quot;</span>), 1, std::string(<span class="stringliteral">&quot; &quot;</span>));</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;     }</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    PreFitNDDetHist-&gt;SetTitle(temp.c_str());</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    PreFitNDDetHist-&gt;GetXaxis()-&gt;SetRangeUser(Start, NDbinCounter);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <a class="code" href="MaCh3Logger_8h.html#a4db4657acad5c79ac4bbb66a9d1c5905">MACH3LOG_DEBUG</a>(<span class="stringliteral">&quot;  Start bin: {} :: End bin: {}&quot;</span>, Start, NDbinCounter);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="comment">// set the x range for the postfits</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> fileId = 0; fileId &lt; <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getNFiles(); fileId++){</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      PostfitNDDetHistVec[fileId] = <a class="code" href="namespaceM3.html#a174fa82e79c5b38edecbc0552a4ce5b1">M3::Clone</a>(<a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;input().getFile(fileId).file-&gt;Get&lt;TH1D&gt;(Form(<span class="stringliteral">&quot;param_%s_%s&quot;</span>, <a class="code" href="GetPostfitParamPlots_8cpp.html#ab5cba8ce6ff9a6e1e9a5ba0b9cfb0b37">NDSamplesNames</a>[i].c_str(), <a class="code" href="GetPostfitParamPlots_8cpp.html#aee5c9d8d7ad14d8728dffad47b8d4efe">plotType</a>.c_str())));</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    }</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160; </div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="comment">//KS: We don&#39;t&#39; need name for every nd param</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="GetPostfitParamPlots_8cpp.html#a329ffa5c522d29e1ec016f0b7028437d">NDSamplesBins</a>[i]; ++j)</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      <span class="keywordtype">bool</span> ProductOfTen = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      <span class="keywordflow">if</span>(j % 10) ProductOfTen = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      <span class="keywordflow">if</span>(j != 0 &amp;&amp; ProductOfTen) PreFitNDDetHist-&gt;GetXaxis()-&gt;SetBinLabel(Start+j+1, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        PreFitNDDetHist-&gt;GetXaxis()-&gt;SetBinLabel(Start+j+1, Form(<span class="stringliteral">&quot;Det Variation Bin %i&quot;</span>, Start+j));</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      }</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    }</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    PreFitNDDetHist-&gt;GetYaxis()-&gt;SetRangeUser(<a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getOption&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;detParYRange_low&quot;</span>), <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getOption&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;detParYRange_high&quot;</span>));</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    </div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    Start += <a class="code" href="GetPostfitParamPlots_8cpp.html#a329ffa5c522d29e1ec016f0b7028437d">NDSamplesBins</a>[i];</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160; </div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <a class="code" href="GetPostfitParamPlots_8cpp.html#aea2b2a696e8fa4cd2e2e5f86287ce016">DrawPlots</a>(canv, PreFitNDDetHist, PostfitNDDetHistVec, pTop, pDown, <a class="code" href="GetPostfitParamPlots_8cpp.html#a78b45c4d250d7b2113925577bbce2dad">SaveName</a>);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    canv-&gt;Update();</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  }</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="keyword">delete</span> pTop;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="keyword">delete</span> pDown;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="keyword">delete</span> Prefit;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keyword">delete</span> canv;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;}</div>
<div class="ttc" id="aGetPostfitParamPlots_8cpp_html_a2da20c7b11fdfbf6a274cc32170a294c"><div class="ttname"><a href="GetPostfitParamPlots_8cpp.html#a2da20c7b11fdfbf6a274cc32170a294c">InitializePads</a></div><div class="ttdeci">void InitializePads(const TCanvas *canvas, TPad *&amp;pad3, TPad *&amp;pad4)</div><div class="ttdef"><b>Definition:</b> <a href="GetPostfitParamPlots_8cpp_source.html#l00082">GetPostfitParamPlots.cpp:82</a></div></div>
<div class="ttc" id="aGetPostfitParamPlots_8cpp_html_a329ffa5c522d29e1ec016f0b7028437d"><div class="ttname"><a href="GetPostfitParamPlots_8cpp.html#a329ffa5c522d29e1ec016f0b7028437d">NDSamplesBins</a></div><div class="ttdeci">std::vector&lt; int &gt; NDSamplesBins</div><div class="ttdef"><b>Definition:</b> <a href="GetPostfitParamPlots_8cpp_source.html#l00056">GetPostfitParamPlots.cpp:56</a></div></div>
<div class="ttc" id="aGetPostfitParamPlots_8cpp_html_aa7bc6e5554391b57acf10c691b6374e0"><div class="ttname"><a href="GetPostfitParamPlots_8cpp.html#aa7bc6e5554391b57acf10c691b6374e0">NDParametersStartingPos</a></div><div class="ttdeci">int NDParametersStartingPos</div><div class="ttdef"><b>Definition:</b> <a href="GetPostfitParamPlots_8cpp_source.html#l00054">GetPostfitParamPlots.cpp:54</a></div></div>
<div class="ttc" id="aGetPostfitParamPlots_8cpp_html_ab5cba8ce6ff9a6e1e9a5ba0b9cfb0b37"><div class="ttname"><a href="GetPostfitParamPlots_8cpp.html#ab5cba8ce6ff9a6e1e9a5ba0b9cfb0b37">NDSamplesNames</a></div><div class="ttdeci">std::vector&lt; std::string &gt; NDSamplesNames</div><div class="ttdef"><b>Definition:</b> <a href="GetPostfitParamPlots_8cpp_source.html#l00057">GetPostfitParamPlots.cpp:57</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4966a6fff9ff250e7cde4bf7ca215ad7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4966a6fff9ff250e7cde4bf7ca215ad7">&#9670;&nbsp;</a></span>MakeParameterPlots()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MakeParameterPlots </td>
          <td>(</td>
          <td class="paramtype">TCanvas *&#160;</td>
          <td class="paramname"><em>canv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GetPostfitParamPlots_8cpp_source.html#l00328">328</a> of file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;{  </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="comment">// get the names of the blocks of parameters to group together</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  std::vector&lt;std::string&gt; <span class="keyword">const</span> blockNames = <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getOption&lt;std::vector&lt;std::string&gt;&gt;(<span class="stringliteral">&quot;paramGroups&quot;</span>);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> nPlots = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(blockNames.size());</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  TPad *p3 = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  TPad *p4 = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="comment">// these for named parameters where we need a nice big gap at the botto to fit the names</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <a class="code" href="GetPostfitParamPlots_8cpp.html#a2da20c7b11fdfbf6a274cc32170a294c">InitializePads</a>(canv, p3, p4);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nPlots; i++)</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="comment">// get the configuration for this parameter</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    std::string blockName = blockNames[i];</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    YAML::Node paramBlock = <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getOption(blockName);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keyword">auto</span> blockTitle       = paramBlock[0].as&lt;std::string&gt;();</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keyword">auto</span> blockLimits      = paramBlock[1].as&lt;std::vector&lt;double&gt;&gt;();</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keyword">auto</span> blockContents    = paramBlock[2].as&lt;std::vector&lt;std::string&gt;&gt;();</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="comment">// get num of params in the block</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> nParams = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(blockContents.size());</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="comment">// set some plot things</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keyword">auto</span> blockHist_prefit = std::make_unique&lt;TH1D&gt;(blockName.c_str(), blockTitle.c_str(),</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                                                  nParams, 0.0, <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(nParams));</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;style().setTH1Style(blockHist_prefit.get(), <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getOption&lt;std::string&gt;(<span class="stringliteral">&quot;prefitHistStyle&quot;</span>));</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="comment">// set the errors for the prefit block hist</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> localBin=0; localBin &lt; nParams; localBin ++){</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <span class="comment">// the &quot;local&quot; bin is the params index within the group of parameters</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      std::string paramName = blockContents[localBin];</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <a class="code" href="GetPostfitParamPlots_8cpp.html#a3a9ef138385a4c0f71323c4898713bb8">copyParToBlockHist</a>(localBin, paramName, blockHist_prefit.get(), <span class="stringliteral">&quot;Prior&quot;</span>, 0);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="comment">// now set for the postfit blocks for all files</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    std::vector &lt;std::unique_ptr&lt;TH1D&gt;&gt; blockHist_postfit_Vec;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> fileId = 0; fileId &lt; <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getNFiles(); fileId++) {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <span class="keyword">auto</span> blockHist_postfit = std::make_unique&lt;TH1D&gt;((blockName + <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getFileName(fileId)).c_str(),</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                                                      blockTitle.c_str(), nParams, 0.0, <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(nParams));</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <span class="comment">// loop through all the parameters in this block and set the contents in the blocks TH1</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> localBin=0; localBin &lt; nParams; localBin ++){</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <span class="comment">// the &quot;local&quot; bin is the params index within the group of parameters</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        std::string paramName = blockContents[localBin];</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <a class="code" href="GetPostfitParamPlots_8cpp.html#a3a9ef138385a4c0f71323c4898713bb8">copyParToBlockHist</a>(localBin, paramName, blockHist_postfit.get(), <span class="stringliteral">&quot;&quot;</span>, fileId);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      blockHist_postfit_Vec.push_back(std::move(blockHist_postfit));</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    } </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="comment">// set the y axis limits we got from config</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    blockHist_prefit-&gt;GetYaxis()-&gt;SetRangeUser(blockLimits[0], blockLimits[1]); </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="comment">// Do some fancy replacements</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="GetPostfitParamPlots_8cpp.html#acbde284ea52643cf3db23f6edc77850c">PrettifyTitles</a>(blockHist_prefit.get());</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <a class="code" href="GetPostfitParamPlots_8cpp.html#aea2b2a696e8fa4cd2e2e5f86287ce016">DrawPlots</a>(canv, blockHist_prefit.get(), blockHist_postfit_Vec, p3, p4, <a class="code" href="GetPostfitParamPlots_8cpp.html#a78b45c4d250d7b2113925577bbce2dad">SaveName</a>);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keyword">delete</span> p3;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="keyword">delete</span> p4;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5610a49986fc2ac4d19ec2ba403df3f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5610a49986fc2ac4d19ec2ba403df3f4">&#9670;&nbsp;</a></span>makeRatio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;TH1D&gt; makeRatio </td>
          <td>(</td>
          <td class="paramtype">TH1D *&#160;</td>
          <td class="paramname"><em>PrefitCopy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TH1D *&#160;</td>
          <td class="paramname"><em>PostfitCopy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>setAxes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GetPostfitParamPlots_8cpp_source.html#l00184">184</a> of file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                                                                                 {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="comment">// set up the ratio hist</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  std::unique_ptr&lt;TH1D&gt; Ratio = <a class="code" href="namespaceM3.html#a174fa82e79c5b38edecbc0552a4ce5b1">M3::Clone</a>(PrefitCopy);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  Ratio-&gt;GetYaxis()-&gt;SetTitle(<span class="stringliteral">&quot;(x_{Post}-#mu_{Prior})/#sigma_{Prior}&quot;</span>);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  Ratio-&gt;SetMinimum(-3.7);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  Ratio-&gt;SetMaximum(3.7);    </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; Ratio-&gt;GetXaxis()-&gt;GetNbins(); ++j) </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">if</span> ( PrefitCopy-&gt;GetBinError(j+1) &gt; 1.e-5 )</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      Ratio-&gt;SetBinContent(j+1, (PostfitCopy-&gt;GetBinContent(j+1)-PrefitCopy-&gt;GetBinContent(j+1))/PrefitCopy-&gt;GetBinError(j+1));</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <span class="keywordtype">double</span> up = (PostfitCopy-&gt;GetBinContent(j+1)+PostfitCopy-&gt;GetBinError(j+1)-PrefitCopy-&gt;GetBinContent(j+1))/PrefitCopy-&gt;GetBinError(j+1);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <span class="keywordtype">double</span> down = (PostfitCopy-&gt;GetBinContent(j+1)-PostfitCopy-&gt;GetBinError(j+1)-PrefitCopy-&gt;GetBinContent(j+1))/PrefitCopy-&gt;GetBinError(j+1);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="keywordtype">double</span> maximum = up-Ratio-&gt;GetBinContent(j+1);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <span class="keywordtype">double</span> minimum = Ratio-&gt;GetBinContent(j+1)-down;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      Ratio-&gt;SetBinError(j+1, std::max(maximum, minimum));</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">//KS: Most likely flat prior</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      Ratio-&gt;SetBinContent(j+1, (PostfitCopy-&gt;GetBinContent(j+1)-PrefitCopy-&gt;GetBinContent(j+1)));</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      <span class="keywordtype">double</span> up = (PostfitCopy-&gt;GetBinContent(j+1)+PostfitCopy-&gt;GetBinError(j+1)-PrefitCopy-&gt;GetBinContent(j+1));</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      <span class="keywordtype">double</span> down = (PostfitCopy-&gt;GetBinContent(j+1)-PostfitCopy-&gt;GetBinError(j+1)-PrefitCopy-&gt;GetBinContent(j+1));</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <span class="keywordtype">double</span> maximum = up-Ratio-&gt;GetBinContent(j+1);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <span class="keywordtype">double</span> minimum = Ratio-&gt;GetBinContent(j+1)-down;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      Ratio-&gt;SetBinError(j+1, std::max(maximum, minimum));</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  } <span class="comment">//end loop over parameters</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordflow">if</span>(setAxes){</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    Ratio-&gt;SetFillStyle(0);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    Ratio-&gt;SetFillColor(0);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    Ratio-&gt;SetLineColor(PostfitCopy-&gt;GetLineColor());</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">if</span> (Ratio-&gt;GetLineColor() == 0) Ratio-&gt;SetLineColor(kBlack);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    Ratio-&gt;SetMarkerColor(PostfitCopy-&gt;GetMarkerColor());</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    Ratio-&gt;SetLineWidth(<a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getOption&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;plotLineWidth&quot;</span>));</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    Ratio-&gt;SetTitle(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    Ratio-&gt;SetMarkerSize(2);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    Ratio-&gt;SetMarkerStyle(20);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    Ratio-&gt;GetYaxis()-&gt;SetTitleSize(25);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    Ratio-&gt;GetYaxis()-&gt;SetTitleFont(43);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    Ratio-&gt;GetYaxis()-&gt;SetTitleOffset(2.0);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    Ratio-&gt;GetYaxis()-&gt;SetLabelFont(43);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    Ratio-&gt;GetYaxis()-&gt;SetLabelSize(25);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    Ratio-&gt;GetYaxis()-&gt;CenterTitle();</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    Ratio-&gt;GetYaxis()-&gt;SetNdivisions(5,2,0);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    Ratio-&gt;GetXaxis()-&gt;SetTitleSize(25);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    Ratio-&gt;GetXaxis()-&gt;SetTitleFont(43);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    Ratio-&gt;GetXaxis()-&gt;SetTitleOffset(4.0);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    Ratio-&gt;GetXaxis()-&gt;SetLabelOffset(0.025);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    Ratio-&gt;GetXaxis()-&gt;SetLabelFont(43);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    Ratio-&gt;GetXaxis()-&gt;SetLabelSize(25);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keywordflow">return</span> Ratio;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8dc9e9b4dd5dbd06c2111a1e5e3a0eba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dc9e9b4dd5dbd06c2111a1e5e3a0eba">&#9670;&nbsp;</a></span>MakeRidgePlots()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MakeRidgePlots </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GetPostfitParamPlots_8cpp_source.html#l00549">549</a> of file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;{  </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  gStyle-&gt;SetPalette(51);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160; </div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="keyword">auto</span> blankCanv = std::make_unique&lt;TCanvas&gt;(<span class="stringliteral">&quot;blankCanv&quot;</span>, <span class="stringliteral">&quot;blankCanv&quot;</span>, 2048, 2048);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  blankCanv-&gt;SaveAs(<span class="stringliteral">&quot;RidgePlots.pdf[&quot;</span>);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160; </div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="comment">// get the names of the blocks of parameters to group together</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> blockNames = <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getOption&lt;std::vector&lt;std::string&gt;&gt;(<span class="stringliteral">&quot;paramGroups&quot;</span>);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> nPlots = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(blockNames.size());</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  constexpr <span class="keywordtype">double</span> padTopMargin = 0.9;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  constexpr <span class="keywordtype">double</span> padBottomMargin = 0.1;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  constexpr <span class="keywordtype">double</span> padOverlap = 0.9;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  constexpr <span class="keywordtype">double</span> ridgeLineWidth = 1.0;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nPlots; i++)</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="comment">// get the configuration for this parameter</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    std::string blockName = blockNames[i];</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> &amp;paramBlock = <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;getOption(blockName);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keyword">auto</span> blockTitle    = paramBlock[0].as&lt;std::string&gt;();</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keyword">auto</span> blockLimits   = paramBlock[1].as&lt;std::vector&lt;double&gt;&gt;();</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keyword">auto</span> blockContents = paramBlock[2].as&lt;std::vector&lt;std::string&gt;&gt;();</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160; </div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="comment">// the directory of histograms</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    TDirectoryFile *posteriorDir = <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;input().getFile(0).file-&gt;Get&lt;TDirectoryFile&gt;(<span class="stringliteral">&quot;Post_1d_hists&quot;</span>);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160; </div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="comment">// get num of params in the block</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordtype">int</span> nParams = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(blockContents.size());</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160; </div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">if</span> (nParams == 1) {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <a class="code" href="MaCh3Logger_8h.html#ad5b2eb6377721e3ac95def22c2386bb1">MACH3LOG_WARN</a>(<span class="stringliteral">&quot;{} doesn&#39;t work for single param&quot;</span>, __func__);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    }</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="keyword">auto</span> ridgeCanv = std::make_unique&lt;TCanvas&gt;(<span class="stringliteral">&quot;RidgePlotCanv&quot;</span>, <span class="stringliteral">&quot;RidgePlotCanv&quot;</span>, 2048, 2048);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    ridgeCanv-&gt;Divide(1,1+nParams, 0.01, 0.0);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keyword">auto</span> title = std::make_unique&lt;TLatex&gt;();</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    title-&gt;SetTextAlign(21);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    title-&gt;SetTextSize(0.03);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    title-&gt;DrawLatex(0.5, 0.95, blockTitle.c_str());</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160; </div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keyword">auto</span> label = std::make_unique&lt;TLatex&gt;();</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    label-&gt;SetTextAlign(31);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    label-&gt;SetTextSize(0.02);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    </div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="keyword">auto</span> line = std::make_unique&lt;TLine&gt;();</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    line-&gt;SetLineColor(kBlack);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    line-&gt;SetLineWidth(ridgeLineWidth);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="comment">// use this to set the limits and also to plot the x axis and grid</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keyword">auto</span> axisPlot = std::make_unique&lt;TH1D&gt;(<span class="stringliteral">&quot;axis plot&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 1, blockLimits[0], blockLimits[1]);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160; </div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    std::vector&lt;std::unique_ptr&lt;TH1D&gt;&gt; axisPlot_holder(nParams);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    std::vector&lt;std::unique_ptr&lt;TPad&gt;&gt; graph_holder(nParams);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> parId = 0; parId &lt; nParams; parId++) {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      std::string paramName = blockContents[parId];</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      TH1D *posteriorDist = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <span class="comment">// get the list of objects in the directory</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      TIter next(posteriorDir-&gt;GetListOfKeys());</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      <span class="keywordflow">while</span> (TKey* key = <span class="keyword">static_cast&lt;</span>TKey*<span class="keyword">&gt;</span>(next())) {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <span class="comment">// check if the end of the param name matches with the MaCh3 name, do this so we exclude things like nds_ at the start of the name</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        std::string str(key-&gt;GetTitle());</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        std::string name = <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;input().translateName(0, MaCh3Plotting::kPostFit, paramName);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        uint pos = str.find(name);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <span class="keywordtype">bool</span> foundPar = (pos == str.length() - name.length());</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160; </div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <a class="code" href="MaCh3Logger_8h.html#afc88f0aa23c7127b2ff6e5c7ca3fa892">MACH3LOG_TRACE</a>(<span class="stringliteral">&quot;Looking for {} in {}&quot;</span>, name, str);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        <span class="keywordflow">if</span>(foundPar){</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;          <a class="code" href="MaCh3Logger_8h.html#afc88f0aa23c7127b2ff6e5c7ca3fa892">MACH3LOG_TRACE</a>(<span class="stringliteral">&quot;Found it&quot;</span>);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;          posteriorDist = posteriorDir-&gt;Get&lt;TH1D&gt;(key-&gt;GetName());</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        }</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;      }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      <span class="keywordflow">if</span>(posteriorDist == <span class="keyword">nullptr</span>){</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <a class="code" href="MaCh3Logger_8h.html#ad5b2eb6377721e3ac95def22c2386bb1">MACH3LOG_WARN</a>(<span class="stringliteral">&quot;Couldn&#39;t find parameter {} when making ridgeline plots&quot;</span>, paramName);</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <a class="code" href="MaCh3Logger_8h.html#ad5b2eb6377721e3ac95def22c2386bb1">MACH3LOG_WARN</a>(<span class="stringliteral">&quot;It could be fixed param&quot;</span>);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      }</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160; </div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <span class="comment">// EM: do some funky scaling so that we always get evenly spaced pads in the range [bottomMargin, TopMargin] with the specified overlap</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <span class="keywordtype">double</span> padAnchor = padBottomMargin + (<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(nParams - parId - 1) /</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                                  <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(nParams - 1)) * (padTopMargin - padBottomMargin);</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      <span class="keywordtype">double</span> padWidth = (padTopMargin - padBottomMargin) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(nParams);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      <span class="keywordtype">double</span> norm = (padTopMargin - padBottomMargin);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160; </div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      <span class="keywordtype">double</span> padTop = padWidth * (1.0 + padOverlap) * (padTopMargin - padAnchor) / norm + padAnchor;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      <span class="keywordtype">double</span> padBottom = padAnchor - padWidth * (1.0 + padOverlap) * (padAnchor - padBottomMargin) / norm;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160; </div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      <span class="keyword">auto</span> pad = std::make_unique&lt;TPad&gt;(paramName.c_str(), <span class="stringliteral">&quot;&quot;</span>, 0.3, padBottom, 0.9, padTop, -1, 0, -1);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      ridgeCanv-&gt;cd();</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160; </div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      pad-&gt;SetBottomMargin(0.0);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      pad-&gt;SetTopMargin(0.0);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      pad-&gt;SetLeftMargin(0.0);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      pad-&gt;SetRightMargin(0.0);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160; </div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      pad-&gt;Draw();</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      pad-&gt;cd();</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      pad-&gt;SetFillStyle(4000);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160; </div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      gPad-&gt;SetFrameFillStyle(4000);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      posteriorDist-&gt;GetFunction(<span class="stringliteral">&quot;Gauss&quot;</span>)-&gt;SetBit(TF1::kNotDraw);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      posteriorDist-&gt;SetTitle(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      posteriorDist-&gt;SetLineWidth(ridgeLineWidth);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      </div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <span class="keyword">auto</span> axisPlot_tmp = <a class="code" href="namespaceM3.html#a174fa82e79c5b38edecbc0552a4ce5b1">M3::Clone</a>(axisPlot.get(), Form(<span class="stringliteral">&quot;AxisPlot_%s&quot;</span>, paramName.c_str()));</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      axisPlot_tmp-&gt;Draw(<span class="stringliteral">&quot;A&quot;</span>);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      posteriorDist-&gt;Draw(<span class="stringliteral">&quot;H SAME&quot;</span>);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      axisPlot_tmp-&gt;GetYaxis()-&gt;SetRangeUser(0.0, 0.7 *posteriorDist-&gt;GetMaximum());</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      posteriorDist-&gt;SetLineColor(kWhite);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      posteriorDist-&gt;SetFillColorAlpha(TColor::GetColorPalette(floor(<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(parId) *</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                                          TColor::GetNumberOfColors() / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(nParams))), 0.85);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      </div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      posteriorDist-&gt;GetXaxis()-&gt;SetRangeUser(blockLimits[0], blockLimits[1]);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      posteriorDist-&gt;GetYaxis()-&gt;SetTitle(paramName.c_str());</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      <span class="comment">//EM: Have to get the frame drawn by the histogram and then set it to be transparent... it took me an hour to get rid of this one line on a plot</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      gPad-&gt;Modified(); gPad-&gt;Update();</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      TFrame *frame = gPad-&gt;GetFrame();</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      frame-&gt;SetLineColorAlpha(0, 0.0);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      </div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      ridgeCanv-&gt;cd();</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      label-&gt;DrawLatexNDC(0.29, padBottom + 0.005, <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;style().prettifyParamName(paramName).c_str());</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      line-&gt;DrawLine(0.1, padBottom, 0.9, padBottom);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160; </div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      axisPlot_holder[parId] = std::move(axisPlot_tmp);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      graph_holder[parId] = std::move(pad);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160; </div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    ridgeCanv-&gt;cd();</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    ridgeCanv-&gt;SetGrid(1,1);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="keyword">auto</span> axisPad = std::make_unique&lt;TPad&gt;(<span class="stringliteral">&quot;AxisPad&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 0.3, 0.0, 0.9, 1.0, -1, 0, -1);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    axisPad-&gt;SetLeftMargin(0.0);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    axisPad-&gt;SetRightMargin(0.0);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    axisPad-&gt;Draw();</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    axisPad-&gt;cd();</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    axisPad-&gt;SetGrid(1,1);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    axisPad-&gt;SetFrameFillStyle(4000);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    axisPlot-&gt;GetXaxis()-&gt;SetTickSize(0.01);</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    axisPlot-&gt;GetXaxis()-&gt;SetTitle(<span class="stringliteral">&quot;Parameter Variation&quot;</span>);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    axisPlot-&gt;GetYaxis()-&gt;SetLabelOffset(9999);</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    axisPlot-&gt;GetYaxis()-&gt;SetLabelSize(0);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    axisPlot-&gt;GetYaxis()-&gt;SetTickSize(0);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    axisPlot-&gt;GetYaxis()-&gt;SetAxisColor(0,0.0);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    axisPlot-&gt;Draw(<span class="stringliteral">&quot;AXIS&quot;</span>);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    axisPlot-&gt;Draw(<span class="stringliteral">&quot;AXIG SAME&quot;</span>);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160; </div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    axisPlot-&gt;SetFillStyle(4000);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    axisPad-&gt;SetFillStyle(4000);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    </div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    axisPad-&gt;SetGrid(1,1);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    gPad-&gt;Modified(); gPad-&gt;Update();</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    gPad-&gt;SetFrameFillStyle(4000);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    gPad-&gt;Modified(); gPad-&gt;Update();</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    TFrame *frame = gPad-&gt;GetFrame();</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    frame-&gt;SetLineColorAlpha(0, 0.0);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160; </div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    ridgeCanv-&gt;SaveAs(<span class="stringliteral">&quot;RidgePlots.pdf&quot;</span>);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  }</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  blankCanv-&gt;SaveAs(<span class="stringliteral">&quot;RidgePlots.pdf]&quot;</span>);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;}</div>
<div class="ttc" id="aMaCh3Logger_8h_html_afc88f0aa23c7127b2ff6e5c7ca3fa892"><div class="ttname"><a href="MaCh3Logger_8h.html#afc88f0aa23c7127b2ff6e5c7ca3fa892">MACH3LOG_TRACE</a></div><div class="ttdeci">#define MACH3LOG_TRACE</div><div class="ttdef"><b>Definition:</b> <a href="MaCh3Logger_8h_source.html#l00033">MaCh3Logger.h:33</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad3c9db8ae8a10ce5c59501934d2a2d88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3c9db8ae8a10ce5c59501934d2a2d88">&#9670;&nbsp;</a></span>MakeTGraphAsymmErrors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;TGraphAsymmErrors&gt; MakeTGraphAsymmErrors </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; TFile &gt; &amp;&#160;</td>
          <td class="paramname"><em>File</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt;&#160;</td>
          <td class="paramname"><em>Index</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GetPostfitParamPlots_8cpp_source.html#l00785">785</a> of file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                                                                                                                 {})</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;{</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="keywordtype">int</span> GraphBins = Index.size();</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  std::vector&lt;double&gt; x(GraphBins);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  std::vector&lt;double&gt; y(GraphBins);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  std::vector&lt;double&gt; exl(GraphBins);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  std::vector&lt;double&gt; eyl(GraphBins);</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  std::vector&lt;double&gt; exh(GraphBins);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  std::vector&lt;double&gt; eyh(GraphBins);</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  TH1D* PostHist = <span class="keyword">static_cast&lt;</span>TH1D*<span class="keyword">&gt;</span>(File-&gt;Get( (<span class="stringliteral">&quot;param_xsec_&quot;</span>+<a class="code" href="GetPostfitParamPlots_8cpp.html#aee5c9d8d7ad14d8728dffad47b8d4efe">plotType</a>).c_str() ));</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160; </div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <span class="keyword">auto</span> Errors_HPD_Positive = <span class="keyword">static_cast&lt;</span>TVectorD*<span class="keyword">&gt;</span>(File-&gt;Get( <span class="stringliteral">&quot;Errors_HPD_Positive&quot;</span> ));</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="keyword">auto</span> Errors_HPD_Negative = <span class="keyword">static_cast&lt;</span>TVectorD*<span class="keyword">&gt;</span>(File-&gt;Get( <span class="stringliteral">&quot;Errors_HPD_Negative&quot;</span> ));</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  <span class="comment">//KS: I am tempted to multithread this...</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; GraphBins; ++i)</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="keywordtype">int</span> Counter = Index.size() == 0 ? i : Index[i];</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="comment">//KS: We are extracting value from three object each having different numbering scheme, I have checked carefully so this is correct please don&#39;t change all these +1 +0.5 etc. it just work...</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    x[i] = i + 0.5;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    y[i] = PostHist-&gt;GetBinContent(Counter+1);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160; </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="comment">//KS: We don&#39;t want x axis errors as they are confusing in Violin plot</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    exh[i] = 0.00001;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    exl[i] = 0.00001;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    eyh[i] = (*Errors_HPD_Positive)(Counter);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    eyl[i] = (*Errors_HPD_Negative)(Counter);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  }</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keyword">auto</span> PostGraph = std::make_unique&lt;TGraphAsymmErrors&gt;(GraphBins, x.data(), y.data(), exl.data(), exh.data(), eyl.data(), eyh.data());</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  PostGraph-&gt;SetTitle(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <span class="keywordflow">return</span> PostGraph;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="acbde284ea52643cf3db23f6edc77850c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbde284ea52643cf3db23f6edc77850c">&#9670;&nbsp;</a></span>PrettifyTitles() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PrettifyTitles </td>
          <td>(</td>
          <td class="paramtype">TH1D *&#160;</td>
          <td class="paramname"><em>Hist</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GetPostfitParamPlots_8cpp_source.html#l00134">134</a> of file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                                {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; Hist-&gt;GetXaxis()-&gt;GetNbins(); ++i)</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    std::string title = Hist-&gt;GetXaxis()-&gt;GetBinLabel(i+1);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    title = <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;style().prettifyParamName(title);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    Hist-&gt;GetXaxis()-&gt;SetBinLabel(i+1, title.c_str());</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac62f1b08f728a24d44cfc23cb0e6cd03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac62f1b08f728a24d44cfc23cb0e6cd03">&#9670;&nbsp;</a></span>PrettifyTitles() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PrettifyTitles </td>
          <td>(</td>
          <td class="paramtype">TH2D *&#160;</td>
          <td class="paramname"><em>Hist</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GetPostfitParamPlots_8cpp_source.html#l00143">143</a> of file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                                {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; Hist-&gt;GetXaxis()-&gt;GetNbins(); ++i) </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    std::string title = Hist-&gt;GetXaxis()-&gt;GetBinLabel(i+1);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    title = <a class="code" href="GetPostfitParamPlots_8cpp.html#a3e3e90b7d4e8c99cf9130e9f41685deb">PlotMan</a>-&gt;style().prettifyParamName(title);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    Hist-&gt;GetXaxis()-&gt;SetBinLabel(i+1, title.c_str());</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a62fabd89835f68331d917ae242231a24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62fabd89835f68331d917ae242231a24">&#9670;&nbsp;</a></span>ReadSettings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ReadSettings </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; TFile &gt; &amp;&#160;</td>
          <td class="paramname"><em>File1</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GetPostfitParamPlots_8cpp_source.html#l00153">153</a> of file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;{</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a4db4657acad5c79ac4bbb66a9d1c5905">MACH3LOG_DEBUG</a>(<span class="stringliteral">&quot;Reading settings for file {}&quot;</span>, File1-&gt;GetName());</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="preprocessor">  #ifdef DEBUG</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  File1-&gt;ls();</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="preprocessor">  #endif</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  TTree *Settings = (File1-&gt;Get&lt;TTree&gt;(<span class="stringliteral">&quot;Settings&quot;</span>));</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="comment">// can&#39;t find settings tree :(</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordflow">if</span> (!Settings) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a4db4657acad5c79ac4bbb66a9d1c5905">MACH3LOG_DEBUG</a>(<span class="stringliteral">&quot;Got settings tree&quot;</span>);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <a class="code" href="namespaceMaCh3Utils.html#a5b7ff2bce925264ab124f99cd83c9a99">MaCh3Utils::Print</a>(Settings);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  Settings-&gt;SetBranchAddress(<span class="stringliteral">&quot;NDParameters&quot;</span>, &amp;<a class="code" href="GetPostfitParamPlots_8cpp.html#adb4ee3a874472b4ffccc8734da66250e">NDParameters</a>);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  Settings-&gt;SetBranchAddress(<span class="stringliteral">&quot;NDParametersStartingPos&quot;</span>, &amp;<a class="code" href="GetPostfitParamPlots_8cpp.html#aa7bc6e5554391b57acf10c691b6374e0">NDParametersStartingPos</a>);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  std::vector&lt;int&gt; *NDSamples_Bins = 0;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  std::vector&lt;std::string&gt; *NDSamples_Names = 0;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  Settings-&gt;SetBranchAddress(<span class="stringliteral">&quot;NDSamplesNames&quot;</span>, &amp;NDSamples_Names);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  Settings-&gt;SetBranchAddress(<span class="stringliteral">&quot;NDSamplesBins&quot;</span>, &amp;NDSamples_Bins);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  Settings-&gt;GetEntry(0);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <a class="code" href="GetPostfitParamPlots_8cpp.html#ab5cba8ce6ff9a6e1e9a5ba0b9cfb0b37">NDSamplesNames</a> = *NDSamples_Names;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <a class="code" href="GetPostfitParamPlots_8cpp.html#a329ffa5c522d29e1ec016f0b7028437d">NDSamplesBins</a> = *NDSamples_Bins;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <a class="code" href="MaCh3Logger_8h.html#a4db4657acad5c79ac4bbb66a9d1c5905">MACH3LOG_DEBUG</a>(<span class="stringliteral">&quot;Read settings tree successfully&quot;</span>);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div>
<div class="ttc" id="anamespaceMaCh3Utils_html_a5b7ff2bce925264ab124f99cd83c9a99"><div class="ttname"><a href="namespaceMaCh3Utils.html#a5b7ff2bce925264ab124f99cd83c9a99">MaCh3Utils::Print</a></div><div class="ttdeci">void Print(const TTree *tree)</div><div class="ttdef"><b>Definition:</b> <a href="Monitor_8cpp_source.html#l00325">Monitor.cpp:325</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="adb4ee3a874472b4ffccc8734da66250e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb4ee3a874472b4ffccc8734da66250e">&#9670;&nbsp;</a></span>NDParameters</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NDParameters</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GetPostfitParamPlots_8cpp_source.html#l00053">53</a> of file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>

</div>
</div>
<a id="aa7bc6e5554391b57acf10c691b6374e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7bc6e5554391b57acf10c691b6374e0">&#9670;&nbsp;</a></span>NDParametersStartingPos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NDParametersStartingPos</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GetPostfitParamPlots_8cpp_source.html#l00054">54</a> of file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>

</div>
</div>
<a id="a329ffa5c522d29e1ec016f0b7028437d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a329ffa5c522d29e1ec016f0b7028437d">&#9670;&nbsp;</a></span>NDSamplesBins</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; NDSamplesBins</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GetPostfitParamPlots_8cpp_source.html#l00056">56</a> of file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>

</div>
</div>
<a id="ab5cba8ce6ff9a6e1e9a5ba0b9cfb0b37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5cba8ce6ff9a6e1e9a5ba0b9cfb0b37">&#9670;&nbsp;</a></span>NDSamplesNames</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; NDSamplesNames</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GetPostfitParamPlots_8cpp_source.html#l00057">57</a> of file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>

</div>
</div>
<a id="a656e9eabac71748634b6bf892e68e767"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a656e9eabac71748634b6bf892e68e767">&#9670;&nbsp;</a></span>PlotColor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr Color_t PlotColor[] = {kRed, kBlack, kBlue, kGreen}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GetPostfitParamPlots_8cpp_source.html#l00062">62</a> of file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>

</div>
</div>
<a id="a3e3e90b7d4e8c99cf9130e9f41685deb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e3e90b7d4e8c99cf9130e9f41685deb">&#9670;&nbsp;</a></span>PlotMan</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MaCh3Plotting::PlottingManager* PlotMan</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GetPostfitParamPlots_8cpp_source.html#l00051">51</a> of file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>

</div>
</div>
<a id="aee5c9d8d7ad14d8728dffad47b8d4efe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee5c9d8d7ad14d8728dffad47b8d4efe">&#9670;&nbsp;</a></span>plotType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string plotType</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GetPostfitParamPlots_8cpp_source.html#l00063">63</a> of file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>

</div>
</div>
<a id="a78b45c4d250d7b2113925577bbce2dad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78b45c4d250d7b2113925577bbce2dad">&#9670;&nbsp;</a></span>SaveName</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string SaveName</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GetPostfitParamPlots_8cpp_source.html#l00059">59</a> of file <a class="el" href="GetPostfitParamPlots_8cpp_source.html">GetPostfitParamPlots.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- Footer for MaCh3 Doxygen documentation -->
<footer class="mach3-footer" style="text-align: center;">
    <div style="margin-bottom: 15px;">
        <span style="font-weight: bold;">The MaCh3 Collaboration</span>
    </div>
    <!-- Dropdown to jump between doc versions -->
    <div style="margin-bottom: 10px;">
        <span>Select Software Version: </span>
        <select id="versionSelector" onchange="window.location.href=this.value" style="padding: 5px; border-radius: 4px; border: 1px solid #ccc;">
            <option value="">-- Select --</option>
            <option value="https://mach3-software.github.io/MaCh3/">develop</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v2.4.0/index.html">v2.4.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v2.3.0/index.html">v2.3.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v2.2.0/index.html">v2.2.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v2.1.0/index.html">v2.1.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v2.0.0/index.html">v2.0.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v1.5.0/index.html">v1.5.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v1.4.0/index.html">v1.4.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v1.3.0/index.html">v1.3.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v1.2.0/index.html">v1.2.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v1.1.0/index.html">v1.1.0</option>
        </select>
    </div>
    <!-- Footer info about doxygen -->
    <div style="font-size: 0.9em; color: #666; margin-top: 10px;">
        Documentation generated with
        <a href="https://www.doxygen.nl/" target="_blank" style="color: #666;">Doxygen</a>
        <span id="doxygenVersion"></span>
    </div>
    <!-- Now grab doxygen version from metadata -->
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        const meta = document.querySelector('meta[name="generator"]');
        if (meta) {
            const version = meta.getAttribute("content").replace("Doxygen ", "");
            document.getElementById("doxygenVersion").textContent = " " + version;
        }
    });
    </script>
</footer>

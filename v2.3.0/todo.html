<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MaCh3: Todo List</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="MaCh3.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="mach3logo_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MaCh3
   &#160;<span id="projectnumber">2.3.0</span>
   </div>
   <div id="projectbrief">Reference Guide</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Todo List </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="reflist">
<dt>Member <a class="el" href="gpuUtils_8cuh.html#ace64b352b82023c1dc75e981ef999197">__cudaSafeCall</a>  (cudaError err, const char *file, const int line)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000001"></a>KS: There is plenty of useful stuff here <a href="https://github.com/NVIDIA/cuda-samples/blob/master/Samples/1_Utilities/deviceQuery/deviceQuery.cpp">https://github.com/NVIDIA/cuda-samples/blob/master/Samples/1_Utilities/deviceQuery/deviceQuery.cpp</a> </p>
<p class="enddd">KS: We might want to port some of these utilities, for example having bool if there is unified memory etc.  </p>
</dd>
<dt>Member <a class="el" href="classBinnedSplineHandler.html#ab4747c7d1cc21664305a72966d44a4b6">BinnedSplineHandler::BinnedSplineHandler</a>  (<a class="el" href="classParameterHandlerGeneric.html" title="Class responsible for handling of systematic error parameters with different types defined in the con...">ParameterHandlerGeneric</a> *xsec_, <a class="el" href="classMaCh3Modes.html" title="KS: Class describing MaCh3 modes used in the analysis, it is being initialised from config.">MaCh3Modes</a> *Modes_)</dt>
<dd><a class="anchor" id="_todo000004"></a>ETA - do all of these functions and members actually need to be public?  </dd>
<dt>Member <a class="el" href="classBinnedSplineHandler.html#a279a6350c12647741b5e903b8269a56c">BinnedSplineHandler::CalcSplineWeights</a>  () override</dt>
<dd><a class="anchor" id="_todo000003"></a>KS: Once could use "ParamValues" but this will result in tiny bit different results due to floating point precision  </dd>
<dt>Member <a class="el" href="classBinnedSplineHandler.html#ae34e0b1344880e3a4d532244a801ef74">BinnedSplineHandler::~BinnedSplineHandler</a>  ()</dt>
<dd><a class="anchor" id="_todo000005"></a>it need some love  </dd>
<dt>Member <a class="el" href="classBinningHandler.html#a704e09f2998ed81aa018c1774af5121f">BinningHandler::FindGlobalBin</a>  (const int iSample, const double XVar, const int NomXBin, const int NomYBin) const</dt>
<dd><a class="anchor" id="_todo000006"></a>add Y binning migration  </dd>
<dt>Member <a class="el" href="HistogramUtils_8h.html#a2dce7c8dec7d4d7f9c61346893973421">CalculateEnu</a>  (double PLep, double cosTheta, double EB, bool neutrino)</dt>
<dd><a class="anchor" id="_todo000007"></a>WARNING this is hardcoded  </dd>
<dt>Member <a class="el" href="ParameterStructs_8h.html#ae1269e95d2dd880566df85b9e7c508ce">CleanVector</a>  (std::vector&lt; std::vector&lt; std::vector&lt; std::vector&lt; std::vector&lt; std::vector&lt; std::vector&lt; T &gt;&gt;&gt;&gt;&gt;&gt;&gt; &amp;vec)</dt>
<dd><a class="anchor" id="_todo000046"></a>Use recursive to make it more scalable in future  </dd>
<dt>Member <a class="el" href="CombineMaCh3Chains_8cpp.html#a2c9f5c3c2218d29b0374c7e3c4fb32ff">CompareHistograms</a>  (const TH1 *h1, const TH1 *h2, const std::string &amp;histName, const std::string &amp;folderName)</dt>
<dd><a class="anchor" id="_todo000021"></a>add checks for stuff like bin content etc  </dd>
<dt>Member <a class="el" href="classFitterBase.html#aed21cb87772dcaecb0bc5ccb44b6efd4">FitterBase::SanitiseInputs</a>  ()</dt>
<dd><a class="anchor" id="_todo000011"></a>consider expanding into ParmaterHandler and add more sanitisers  </dd>
<dt>Member <a class="el" href="MaCh3Logger_8h.html#a2c1ca790abd0cc6e40d642c2cf55b2d4">get_default_log_level</a>  ()</dt>
<dd><a class="anchor" id="_todo000002"></a>make constexpr with c++17  </dd>
<dt>File <a class="el" href="GetPenaltyTerm_8cpp.html">GetPenaltyTerm.cpp</a>  </dt>
<dd><a class="anchor" id="_todo000022"></a>KS: This should really be moved to MCMC Processor  </dd>
<dt>Member <a class="el" href="ReweightMCMC_8cpp.html#aacb3021f13784ba0a2ba4eeb6424b544">Graph_interpolate1D</a>  (TGraph *graph, double theta13)</dt>
<dd><a class="anchor" id="_todo000028"></a>double check implementation of TGraph interpolation for 1D  </dd>
<dt>Member <a class="el" href="ReweightMCMC_8cpp.html#a2563a9eb6d96f18a246edf7f07cac191">Graph_interpolateNO</a>  (TGraph2D *graph, double theta13, double dm32)</dt>
<dd><a class="anchor" id="_todo000024"></a>add a generic 2D reweight that is not dm32 and theta13 specific DWR  </dd>
<dt>Member <a class="el" href="MaCh3Factory_8h.html#a6a20eec7f0813dec80b8620c1f3e3b18">MaCh3CovarianceFactory</a>  (manager *FitManager, const std::string &amp;PreFix)</dt>
<dd><a class="anchor" id="_todo000013"></a>add adaptive stuff  </dd>
<dt>Member <a class="el" href="MaCh3Factory_8cpp.html#ae70e59ddf8b8ddfc8f7b2ff8a723373e">MaCh3ManagerFactory</a>  (int argc, char **argv)</dt>
<dd><a class="anchor" id="_todo000012"></a>KS: May need some recursive magic to reduce amount of hardcoding  </dd>
<dt>Member <a class="el" href="structMaCh3Plotting_1_1InputFile.html#a0897b76fdbfc674ed94da1d2b4adb0a2">MaCh3Plotting::InputFile::Dump</a>  () const</dt>
<dd><a class="anchor" id="_todo000035"></a>Same as for <a class="el" href="structMaCh3Plotting_1_1InputFile.html#a4b3753ca1fa1a399e519aa15bca8658a" title="Print out a small summary of what is contained in the file.">Summarise()</a>, could add a check that the file info has actually been filled.  </dd>
<dt>Member <a class="el" href="structMaCh3Plotting_1_1InputFile.html#a7491ea81990748b02402796ee512f518">MaCh3Plotting::InputFile::hasLLHScans</a>  </dt>
<dd><p class="startdd"><a class="anchor" id="_todo000036"></a>I think it would be nice to store all the <a class="el" href="structMaCh3Plotting_1_1InputFile.html" title="Struct which wraps around the actual input file and also holds general information,...">InputFile</a> data in some non root, maybe custom c++ types, and have separate reader classes for potential different input file formats that can convert to these types. </p>
<p class="enddd">Currently all fitters use root but maybe some wonderful day in the far far future this wont be the case. Doing things this way we could maintain the possible future option of moving away from root???  </p>
</dd>
<dt>Member <a class="el" href="structMaCh3Plotting_1_1InputFile.html#a4b3753ca1fa1a399e519aa15bca8658a">MaCh3Plotting::InputFile::Summarise</a>  () const</dt>
<dd><a class="anchor" id="_todo000034"></a>Could add some flag to this to check if the relevant information has actually been filled already and if not give some warning or print only some of the values.  </dd>
<dt>Class <a class="el" href="classMaCh3Plotting_1_1InputManager.html">MaCh3Plotting::InputManager</a>  </dt>
<dd><p class="startdd"><a class="anchor" id="_todo000033"></a>A lot of string comparisons going on in the code for the post fit errors, would maybe be good to implement some kind of indexing for parameters and just have a map between the parameter names and this index to be used internally by the class. </p>
<p class="interdd">Add code to read MCMC from input file </p>
<p class="interdd">Add code to read Sigma variations. There are usually so many of these that we might not want to read them all into memory at once when adding the file but maybe just check to see what ones are in the file, then be able to read them on the fly later. </p>
<p class="enddd">Add code to read in Violin plots from the postfit error output files.  </p>
</dd>
<dt>Member <a class="el" href="classMaCh3Plotting_1_1InputManager.html#a8a89fc87110fcfad0bfd77b3b572eae4">MaCh3Plotting::InputManager::fillFileInfo</a>  (<a class="el" href="structMaCh3Plotting_1_1InputFile.html" title="Struct which wraps around the actual input file and also holds general information,...">InputFile</a> &amp;inputFileDef, const bool printThoughts=true)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000032"></a>add a check here to make sure all the scans that are in the file are being picked up by the reader, and warn if any are not being used </p>
<p class="enddd"><a class="anchor" id="_todo000031"></a>Would like to be able to specify what kind of file and what fitter an input is from on the command like: e.g. like `plotApp [options] &lt;fileName1&gt;;&lt;fileType&gt;;&lt;fitterName&gt;... and only try to auto-detect it if its not specified, this would save some time and would also be very helpful in situations where we can't auto-detect e.g. if there is some kind of overlap in the file structure between two fitters  </p>
</dd>
<dt>Member <a class="el" href="classMaCh3Plotting_1_1PlottingManager.html#aeb042d09d55644d8b35632f66f1832b6">MaCh3Plotting::PlottingManager::addUserOption</a>  ()</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000040"></a>Implement this. </p>
<p class="interdd"><a class="anchor" id="_todo000039"></a>Would be good to add functionality to this to allow user to add their own options. </p>
<p class="interdd">The way I can think to do this would be have fn <a class="el" href="classMaCh3Plotting_1_1PlottingManager.html#aeb042d09d55644d8b35632f66f1832b6" title="Describe an option you want to add to the PlottingManager which can be read in from the command line ...">addUserOption()</a> to set the options, defining the cmd line option (e.g. -x), the name of the option, and maybe some description of the option to be used in the help message </p>
<p class="enddd">can then store these options in some map or something to be retrieved later by <a class="el" href="classMaCh3Plotting_1_1PlottingManager.html#af9f60a6196a9249d7ad7fee6c7bba89a" title="Retrieve a command line option you specified using addOption.">getUserOption()</a>  </p>
</dd>
<dt>Member <a class="el" href="classMaCh3Plotting_1_1PlottingManager.html#a9c1177794e2fecce4e258ee8446d6569">MaCh3Plotting::PlottingManager::getOutputName</a>  (const std::string &amp;suffix)</dt>
<dd><a class="anchor" id="_todo000044"></a>Make this support .root files too  </dd>
<dt>Member <a class="el" href="classMaCh3Plotting_1_1PlottingManager.html#af9f60a6196a9249d7ad7fee6c7bba89a">MaCh3Plotting::PlottingManager::getUserOption</a>  (std::string option)</dt>
<dd><a class="anchor" id="_todo000041"></a>Implement this.  </dd>
<dt>Member <a class="el" href="classMaCh3Plotting_1_1PlottingManager.html#a20fbe3c9673f14adb46d3cd8919e306d">MaCh3Plotting::PlottingManager::initialise</a>  ()</dt>
<dd><a class="anchor" id="_todo000037"></a>should add some kind of validataConfigs() method to got throught all of the specified config files and make sure that all provided options are valid and all necessary options are provided as it can be pretty annoying and difficult to identify what's going wrong when yaml just fails to find an option at runtime  </dd>
<dt>Member <a class="el" href="classMaCh3Plotting_1_1PlottingManager.html#a6abd05428a9f8827c67a22bd6f8ffce3">MaCh3Plotting::PlottingManager::parseInputs</a>  (int argc, char *const *argv)</dt>
<dd><a class="anchor" id="_todo000038"></a>make this able to return any un-parsed arguments so that user can specify their own arguments for use in their plotting scripts  </dd>
<dt>Member <a class="el" href="classMaCh3Plotting_1_1PlottingManager.html#a8910c157ce1ec6698f3bacdf521789ff">MaCh3Plotting::PlottingManager::usage</a>  ()</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000043"></a>could add some function to allow user to specify the help message for their particular script, then auto generate what the cmd line syntax looks like based on user specified options? </p>
<p class="enddd"><a class="anchor" id="_todo000042"></a>Implement this.  </p>
</dd>
<dt>Member <a class="el" href="namespaceMaCh3Utils.html#a1b305c72615a48a89e74a9c3ded69c02">MaCh3Utils::GetMassFromPDG</a>  (const int PDG)</dt>
<dd><a class="anchor" id="_todo000010"></a>this could be constexpr in c++17 <a class="el" href="citelist.html#CITEREF_pdg2024">[24]</a> (particle masses) <a class="el" href="citelist.html#CITEREF_ame2020">[34]</a> (nuclear masses)  </dd>
<dt>File <a class="el" href="MatrixPlotter_8cpp.html">MatrixPlotter.cpp</a>  </dt>
<dd><a class="anchor" id="_todo000029"></a>Integrate within StylePlotting to get fancy labels etc  </dd>
<dt>Member <a class="el" href="classMCMCProcessor.html#aef760d8c4bb70690a5c4114f4b2409b3">MCMCProcessor::PowerSpectrumAnalysis</a>  ()</dt>
<dd><a class="anchor" id="_todo000014"></a>KS: Code is awfully slow... I know how to make it faster (GPU scream in a distant) but for now just make it for two params, bit hacky sry...  </dd>
<dt>Member <a class="el" href="classMinuitFit.html#a5392a49207148d7b884974db3d3f5eac">MinuitFit::MinuitFit</a>  (manager *const fitMan)</dt>
<dd><a class="anchor" id="_todo000016"></a>KS: Make this in future configurable, for more see: <a href="https://root.cern.ch/doc/master/classROOT_1_1Math_1_1Minimizer.html">https://root.cern.ch/doc/master/classROOT_1_1Math_1_1Minimizer.html</a>  </dd>
<dt>Member <a class="el" href="classOscProcessor.html#aa5b2ecf52ca107e11ac55bb9721db2c5">OscProcessor::LoadAdditionalInfo</a>  () override</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000019"></a>we should actually calculate central value and prior error but leave it for now... </p>
<p class="enddd"><a class="anchor" id="_todo000018"></a>remove this hardcoding (e.g., use a map or enum-to-name function)  </p>
</dd>
<dt>Member <a class="el" href="classOscProcessor.html#a4f6aea5665b9966d7fe42b53805e7305">OscProcessor::OscProcessor</a>  (const std::string &amp;InputFile)</dt>
<dd><a class="anchor" id="_todo000017"></a>Here where we should add all unitarity triangles, fancy Jarlskog studies and other hacky things that only make sense for oscitations  </dd>
<dt>Member <a class="el" href="MCMCProcessor_8h.html#acd2848273413543fe14936252942c20b">ParameterEnum</a>  </dt>
<dd><a class="anchor" id="_todo000015"></a>KS: Implement <a class="el" href="GetPenaltyTerm_8cpp.html" title="KS: This file contains the implementation of the function to extract specific penalty terms from syst...">Diagnostics/GetPenaltyTerm.cpp</a> here. KS: Enum for different covariance classes  </dd>
<dt>Member <a class="el" href="classParameterHandlerBase.html#a216561fe8c8fbcd8e607d857a0559738">ParameterHandlerBase::PrintParameters</a>  () const</dt>
<dd><a class="anchor" id="_todo000045"></a>remove it  </dd>
<dt>Member <a class="el" href="classPCAHandler.html#a1316d16755cb320ea053b4351dbec7b1">PCAHandler::ThrowParameters</a>  (const std::vector&lt; std::unique_ptr&lt; TRandom3 &gt;&gt; &amp;random_number, double **throwMatrixCholDecomp, double *randParams, double *corr_throw, const std::vector&lt; double &gt; &amp;fPreFitValue, const std::vector&lt; double &gt; &amp;fLowBound, const std::vector&lt; double &gt; &amp;fUpBound, int _fNumPar)</dt>
<dd><a class="anchor" id="_todo000048"></a>KS: We don't check if param is out of bounds. This is more problematic for PCA params.  </dd>
<dt>File <a class="el" href="PlotMCMCDiag_8cpp.html">PlotMCMCDiag.cpp</a>  </dt>
<dd><a class="anchor" id="_todo000023"></a>this need serious refactor  </dd>
<dt>File <a class="el" href="PlotSigmaVariation_8cpp.html">PlotSigmaVariation.cpp</a>  </dt>
<dd><a class="anchor" id="_todo000030"></a>Integrate within StylePlotting to get fancy labels etc  </dd>
<dt>Class <a class="el" href="classPredictiveThrower.html">PredictiveThrower</a>  </dt>
<dd><p class="startdd"><a class="anchor" id="_todo000020"></a>add BIC, DIC, WAIC </p>
<p class="interdd">add ability yo make projection for Get1DDiscVar </p>
<p class="interdd">add ability for TH2D </p>
<p class="interdd">speed improvements </p>
<p class="interdd">add Rate $p$-value </p>
<p class="enddd">unify code with <a class="el" href="classSampleSummary.html" title="Class to calculate pvalue produce posterior predictive and many fancy Bayesian stuff .">SampleSummary</a>  </p>
</dd>
<dt>Member <a class="el" href="ReweightMCMC_8cpp.html#ade0a39153d1b68876f307113a0d298cd">ReweightMCMC</a>  (const std::string &amp;inputFile, const std::string &amp;configFile)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000027"></a>add tracking for how many events are outside the graph ranges for diagnostics DWR </p>
<p class="interdd"><a class="anchor" id="_todo000026"></a>Finish Asimov shifting implementation, for now just warn that Asimovs are not being properly handled </p>
<p class="enddd"><a class="anchor" id="_todo000025"></a>Get list only of unique parameters, this is repeating unnecessarily when adding more than 1 weight DWR  </p>
</dd>
<dt>Member <a class="el" href="structSampleBinningInfo.html#a1ed80362ca1da2a2a5098d8b59d4d6cf">SampleBinningInfo::InitialiseBinMigrationLookUp</a>  ()</dt>
<dd><a class="anchor" id="_todo000009"></a>KS: This could be expanded easily for Y axis  </dd>
<dt>Member <a class="el" href="classSampleHandlerFD.html#a1a984c564107c7207a2611d0bf67d9cc">SampleHandlerFD::SetupSplines</a>  ()=0</dt>
<dd><a class="anchor" id="_todo000008"></a>abstract the spline initialisation completely to core  </dd>
<dt>Member <a class="el" href="ParameterStructs_8h.html#affc27d8b7b82d3713f45af17873fde2f">SystType</a>  </dt>
<dd><a class="anchor" id="_todo000047"></a>KS: Consider using enum class, it is generally recommended as safer. It will require many static_cast </dd>
</dl>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- Footer for MaCh3 Doxygen documentation -->
<footer class="mach3-footer" style="text-align: center;">
    <div style="margin-bottom: 15px;">
        <span style="font-weight: bold;">The MaCh3 Collaboration</span>
    </div>
    <!-- Dropdown to jump between doc versions -->
    <div style="margin-bottom: 10px;">
        <span>Select Software Version: </span>
        <select id="versionSelector" onchange="window.location.href=this.value" style="padding: 5px; border-radius: 4px; border: 1px solid #ccc;">
            <option value="">-- Select --</option>
            <option value="https://mach3-software.github.io/MaCh3/">develop</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v2.3.0/index.html">v2.3.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v2.2.0/index.html">v2.2.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v2.1.0/index.html">v2.1.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v2.0.0/index.html">v2.0.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v1.5.0/index.html">v1.5.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v1.4.0/index.html">v1.4.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v1.3.0/index.html">v1.3.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v1.2.0/index.html">v1.2.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v1.1.0/index.html">v1.1.0</option>
        </select>
    </div>
    <!-- Footer info about doxygen -->
    <div style="font-size: 0.9em; color: #666; margin-top: 10px;">
        Documentation generated with
        <a href="https://www.doxygen.nl/" target="_blank" style="color: #666;">Doxygen</a>
        <span id="doxygenVersion"></span>
    </div>
    <!-- Now grab doxygen version from metadata -->
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        const meta = document.querySelector('meta[name="generator"]');
        if (meta) {
            const version = meta.getAttribute("content").replace("Doxygen ", "");
            document.getElementById("doxygenVersion").textContent = " " + version;
        }
    });
    </script>
</footer>

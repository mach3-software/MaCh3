<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MaCh3: /home/runner/work/MaCh3/MaCh3/Diagnostics/ProcessMCMC.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="MaCh3.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="mach3logo_small.png"/></td>
  <td id="projectalign">
   <div id="projectname">MaCh3<span id="projectnumber">&#160;1.2.0</span>
   </div>
   <div id="projectbrief">Reference Guide</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_43e0a1f539e00dcfa1a6bc4d4fee4fc2.html">home</a></li><li class="navelem"><a class="el" href="dir_1036706e55c22cab35bc1c58ee689f1d.html">runner</a></li><li class="navelem"><a class="el" href="dir_629f8151d55d307162ff2d619fb1783d.html">work</a></li><li class="navelem"><a class="el" href="dir_a50b9e3ecffd0792033cf4aced2b0765.html">MaCh3</a></li><li class="navelem"><a class="el" href="dir_29d60c598fcad042cfaabbe0a0485dbc.html">MaCh3</a></li><li class="navelem"><a class="el" href="dir_c69e84b3395e5294df8895efd2dd3060.html">Diagnostics</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">ProcessMCMC.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="MCMCProcessor_8h_source.html">mcmc/MCMCProcessor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="manager_8h_source.html">manager/manager.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ProcessMCMC.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="ProcessMCMC_8cpp__incl.png" border="0" usemap="#a_2home_2runner_2work_2MaCh3_2MaCh3_2Diagnostics_2ProcessMCMC_8cpp" alt=""/></div>
<map name="a_2home_2runner_2work_2MaCh3_2MaCh3_2Diagnostics_2ProcessMCMC_8cpp" id="a_2home_2runner_2work_2MaCh3_2MaCh3_2Diagnostics_2ProcessMCMC_8cpp">
<area shape="rect" title=" " alt="" coords="1140,5,1415,45"/>
<area shape="rect" href="MCMCProcessor_8h.html" title=" " alt="" coords="1938,93,2121,119"/>
<area shape="rect" href="manager_8h.html" title=" " alt="" coords="423,240,577,265"/>
<area shape="rect" title=" " alt="" coords="3589,167,3667,192"/>
<area shape="rect" title=" " alt="" coords="613,167,675,192"/>
<area shape="rect" title=" " alt="" coords="699,167,797,192"/>
<area shape="rect" title=" " alt="" coords="675,533,778,559"/>
<area shape="rect" title=" " alt="" coords="1425,533,1490,559"/>
<area shape="rect" title=" " alt="" coords="1073,460,1159,485"/>
<area shape="rect" title=" " alt="" coords="1489,167,1578,192"/>
<area shape="rect" title=" " alt="" coords="1603,167,1672,192"/>
<area shape="rect" title=" " alt="" coords="1697,167,1786,192"/>
<area shape="rect" title=" " alt="" coords="1811,167,1891,192"/>
<area shape="rect" title=" " alt="" coords="1915,167,1975,192"/>
<area shape="rect" title=" " alt="" coords="1999,167,2059,192"/>
<area shape="rect" title=" " alt="" coords="2083,167,2202,192"/>
<area shape="rect" title=" " alt="" coords="2227,167,2320,192"/>
<area shape="rect" title=" " alt="" coords="2344,167,2419,192"/>
<area shape="rect" title=" " alt="" coords="2443,167,2517,192"/>
<area shape="rect" title=" " alt="" coords="1235,460,1346,485"/>
<area shape="rect" title=" " alt="" coords="2541,167,2611,192"/>
<area shape="rect" title=" " alt="" coords="2635,167,2714,192"/>
<area shape="rect" title=" " alt="" coords="1371,460,1440,485"/>
<area shape="rect" title=" " alt="" coords="2738,167,2817,192"/>
<area shape="rect" title=" " alt="" coords="2841,167,2905,192"/>
<area shape="rect" title=" " alt="" coords="2929,167,3033,192"/>
<area shape="rect" title=" " alt="" coords="3058,167,3171,192"/>
<area shape="rect" title=" " alt="" coords="3195,167,3282,192"/>
<area shape="rect" title=" " alt="" coords="3307,167,3381,192"/>
<area shape="rect" title=" " alt="" coords="3406,167,3565,192"/>
<area shape="rect" href="StatisticalUtils_8h.html" title="Utility functions for statistical interpretations in MaCh3." alt="" coords="980,167,1153,192"/>
<area shape="rect" title=" " alt="" coords="567,680,647,705"/>
<area shape="rect" title=" " alt="" coords="1163,680,1237,705"/>
<area shape="rect" title=" " alt="" coords="1325,533,1400,559"/>
<area shape="rect" title=" " alt="" coords="1238,533,1301,559"/>
<area shape="rect" title=" " alt="" coords="1024,240,1109,265"/>
<area shape="rect" title=" " alt="" coords="734,387,797,412"/>
<area shape="rect" href="Structs_8h.html" title=" " alt="" coords="789,460,947,485"/>
<area shape="rect" title=" " alt="" coords="526,533,599,559"/>
<area shape="rect" title=" " alt="" coords="904,533,947,559"/>
<area shape="rect" title=" " alt="" coords="971,533,1013,559"/>
<area shape="rect" title=" " alt="" coords="1038,533,1162,559"/>
<area shape="rect" href="MaCh3Exception_8h.html" title=" " alt="" coords="195,533,400,559"/>
<area shape="rect" href="MaCh3Logger_8h.html" title=" " alt="" coords="245,607,429,632"/>
<area shape="rect" title=" " alt="" coords="128,680,187,705"/>
<area shape="rect" title=" " alt="" coords="243,680,367,705"/>
<area shape="rect" title=" " alt="" coords="391,680,478,705"/>
<area shape="rect" href="YamlHelper_8h.html" title="Utility functions for handling YAML nodes." alt="" coords="278,460,447,485"/>
<area shape="rect" href="Monitor_8h.html" title="System and monitoring utilities for printing system information and status updates." alt="" coords="513,387,658,412"/>
<area shape="rect" href="MaCh3Modes_8h.html" title=" " alt="" coords="253,313,437,339"/>
</map>
</div>
</div>
<p><a href="ProcessMCMC_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a52c48199a4bcad577b88768020a91041"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ProcessMCMC_8cpp.html#a52c48199a4bcad577b88768020a91041">ProcessMCMC</a> (const std::string &amp;inputFile)</td></tr>
<tr class="memdesc:a52c48199a4bcad577b88768020a91041"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main function processing MCMC and Producing plots.  <br /></td></tr>
<tr class="separator:a52c48199a4bcad577b88768020a91041"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83be70750a728e4deae518ea3ffaf388"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ProcessMCMC_8cpp.html#a83be70750a728e4deae518ea3ffaf388">MultipleProcessMCMC</a> ()</td></tr>
<tr class="memdesc:a83be70750a728e4deae518ea3ffaf388"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function producing comparison of posterior and more betwen a few MCMC chains.  <br /></td></tr>
<tr class="separator:a83be70750a728e4deae518ea3ffaf388"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5381031738b5fa6481d7ac33d2ad854"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ProcessMCMC_8cpp.html#ac5381031738b5fa6481d7ac33d2ad854">CalcBayesFactor</a> (<a class="el" href="classMCMCProcessor.html">MCMCProcessor</a> *Processor)</td></tr>
<tr class="separator:ac5381031738b5fa6481d7ac33d2ad854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af772f7bdfdba080075141597e9c99f79"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ProcessMCMC_8cpp.html#af772f7bdfdba080075141597e9c99f79">CalcSavageDickey</a> (<a class="el" href="classMCMCProcessor.html">MCMCProcessor</a> *Processor)</td></tr>
<tr class="separator:af772f7bdfdba080075141597e9c99f79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d9c3cc52d1f5c3cc3e0775ae596e9c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ProcessMCMC_8cpp.html#a2d9c3cc52d1f5c3cc3e0775ae596e9c7">CalcBipolarPlot</a> (<a class="el" href="classMCMCProcessor.html">MCMCProcessor</a> *Processor)</td></tr>
<tr class="separator:a2d9c3cc52d1f5c3cc3e0775ae596e9c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32bb8e776bea9a8b778cfece3200932c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ProcessMCMC_8cpp.html#a32bb8e776bea9a8b778cfece3200932c">CalcParameterEvolution</a> (<a class="el" href="classMCMCProcessor.html">MCMCProcessor</a> *Processor)</td></tr>
<tr class="separator:a32bb8e776bea9a8b778cfece3200932c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02c2311b736096adc8525876c0ec1487"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ProcessMCMC_8cpp.html#a02c2311b736096adc8525876c0ec1487">GetTrianglePlot</a> (<a class="el" href="classMCMCProcessor.html">MCMCProcessor</a> *Processor)</td></tr>
<tr class="separator:a02c2311b736096adc8525876c0ec1487"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08adc262bf03d1cb8df996b39404572c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ProcessMCMC_8cpp.html#a08adc262bf03d1cb8df996b39404572c">DiagnoseCovarianceMatrix</a> (<a class="el" href="classMCMCProcessor.html">MCMCProcessor</a> *Processor, const std::string &amp;inputFile)</td></tr>
<tr class="memdesc:a08adc262bf03d1cb8df996b39404572c"><td class="mdescLeft">&#160;</td><td class="mdescRight">KS: You validate stability of posterior covariance matrix, you set burn calc cov matrix increase burn calc again and compare. By performing such operation several hundred times we can check when matrix becomes stable.  <br /></td></tr>
<tr class="separator:a08adc262bf03d1cb8df996b39404572c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbd13994de9f24524b06b19aa901d73f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ProcessMCMC_8cpp.html#abbd13994de9f24524b06b19aa901d73f">ReweightPrior</a> (<a class="el" href="classMCMCProcessor.html">MCMCProcessor</a> *Processor)</td></tr>
<tr class="separator:abbd13994de9f24524b06b19aa901d73f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2052da75bc58457dc290c8cbd06efe30"><td class="memItemLeft" align="right" valign="top">TH2D *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ProcessMCMC_8cpp.html#a2052da75bc58457dc290c8cbd06efe30">TMatrixIntoTH2D</a> (TMatrixDSym *Matrix, const std::string &amp;title)</td></tr>
<tr class="memdesc:a2052da75bc58457dc290c8cbd06efe30"><td class="mdescLeft">&#160;</td><td class="mdescRight">KS: Convert TMatrix to TH2D, mostly useful for making fancy plots.  <br /></td></tr>
<tr class="separator:a2052da75bc58457dc290c8cbd06efe30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aece705f01f7c21ad0d0f5f9f64af6d0d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ProcessMCMC_8cpp.html#aece705f01f7c21ad0d0f5f9f64af6d0d">KolmogorovSmirnovTest</a> (<a class="el" href="classMCMCProcessor.html">MCMCProcessor</a> **Processor, TCanvas *Posterior, TString canvasname)</td></tr>
<tr class="memdesc:aece705f01f7c21ad0d0f5f9f64af6d0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">KS: Perform KS test to check if two posteriors for the same parameter came from the same distribution.  <br /></td></tr>
<tr class="separator:aece705f01f7c21ad0d0f5f9f64af6d0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ProcessMCMC_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a6b25bcddaae9b868109dc98a54476e46"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a></td></tr>
<tr class="separator:a6b25bcddaae9b868109dc98a54476e46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e90c1478f4be185364988cac765a163"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ProcessMCMC_8cpp.html#a8e90c1478f4be185364988cac765a163">FileNames</a></td></tr>
<tr class="separator:a8e90c1478f4be185364988cac765a163"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bff863f66d44b865ce21762802730c8"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ProcessMCMC_8cpp.html#a2bff863f66d44b865ce21762802730c8">TitleNames</a></td></tr>
<tr class="separator:a2bff863f66d44b865ce21762802730c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13056efd080ab16304b6f7be0ebf0a61"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ProcessMCMC_8cpp.html#a13056efd080ab16304b6f7be0ebf0a61">config</a></td></tr>
<tr class="separator:a13056efd080ab16304b6f7be0ebf0a61"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac5381031738b5fa6481d7ac33d2ad854" name="ac5381031738b5fa6481d7ac33d2ad854"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5381031738b5fa6481d7ac33d2ad854">&#9670;&#160;</a></span>CalcBayesFactor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CalcBayesFactor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMCMCProcessor.html">MCMCProcessor</a> *&#160;</td>
          <td class="paramname"><em>Processor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ProcessMCMC_8cpp_source.html#l00325">325</a> of file <a class="el" href="ProcessMCMC_8cpp_source.html">ProcessMCMC.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  326</span>{</div>
<div class="line"><span class="lineno">  327</span>  YAML::Node card_yaml = YAML::LoadFile(<a class="code hl_variable" href="ProcessMCMC_8cpp.html#a13056efd080ab16304b6f7be0ebf0a61">config</a>.c_str());</div>
<div class="line"><span class="lineno">  328</span>  YAML::Node Settings = card_yaml[<span class="stringliteral">&quot;ProcessMCMC&quot;</span>];</div>
<div class="line"><span class="lineno">  329</span> </div>
<div class="line"><span class="lineno">  330</span>  std::vector&lt;std::string&gt; ParNames;</div>
<div class="line"><span class="lineno">  331</span>  std::vector&lt;std::vector&lt;double&gt;&gt; Model1Bounds;</div>
<div class="line"><span class="lineno">  332</span>  std::vector&lt;std::vector&lt;double&gt;&gt; Model2Bounds;</div>
<div class="line"><span class="lineno">  333</span>  std::vector&lt;std::vector&lt;std::string&gt;&gt; ModelNames;</div>
<div class="line"><span class="lineno">  334</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; dg : Settings[<span class="stringliteral">&quot;BayesFactor&quot;</span>])</div>
<div class="line"><span class="lineno">  335</span>  {</div>
<div class="line"><span class="lineno">  336</span>    ParNames.push_back(dg[0].as&lt;std::string&gt;());</div>
<div class="line"><span class="lineno">  337</span>    ModelNames.push_back(dg[1].as&lt;std::vector&lt;std::string&gt;&gt;());</div>
<div class="line"><span class="lineno">  338</span>    Model1Bounds.push_back(dg[2].as&lt;std::vector&lt;double&gt;&gt;());</div>
<div class="line"><span class="lineno">  339</span>    Model2Bounds.push_back(dg[3].as&lt;std::vector&lt;double&gt;&gt;());</div>
<div class="line"><span class="lineno">  340</span>  }</div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>  Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a1fc5adc3c109227e6ead71eb0746ec4d">GetBayesFactor</a>(ParNames, Model1Bounds, Model2Bounds, ModelNames);</div>
<div class="line"><span class="lineno">  343</span>  <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  344</span>}</div>
<div class="ttc" id="aProcessMCMC_8cpp_html_a13056efd080ab16304b6f7be0ebf0a61"><div class="ttname"><a href="ProcessMCMC_8cpp.html#a13056efd080ab16304b6f7be0ebf0a61">config</a></div><div class="ttdeci">std::string config</div><div class="ttdef"><b>Definition:</b> <a href="ProcessMCMC_8cpp_source.html#l00024">ProcessMCMC.cpp:24</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_a1fc5adc3c109227e6ead71eb0746ec4d"><div class="ttname"><a href="classMCMCProcessor.html#a1fc5adc3c109227e6ead71eb0746ec4d">MCMCProcessor::GetBayesFactor</a></div><div class="ttdeci">void GetBayesFactor(const std::vector&lt; std::string &gt; &amp;ParName, const std::vector&lt; std::vector&lt; double &gt; &gt; &amp;Model1Bounds, const std::vector&lt; std::vector&lt; double &gt; &gt; &amp;Model2Bounds, const std::vector&lt; std::vector&lt; std::string &gt; &gt; &amp;ModelNames)</div><div class="ttdoc">Calculate Bayes factor for vector of params, and model boundaries.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8cpp_source.html#l02835">MCMCProcessor.cpp:2835</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2d9c3cc52d1f5c3cc3e0775ae596e9c7" name="a2d9c3cc52d1f5c3cc3e0775ae596e9c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d9c3cc52d1f5c3cc3e0775ae596e9c7">&#9670;&#160;</a></span>CalcBipolarPlot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CalcBipolarPlot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMCMCProcessor.html">MCMCProcessor</a> *&#160;</td>
          <td class="paramname"><em>Processor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ProcessMCMC_8cpp_source.html#l00383">383</a> of file <a class="el" href="ProcessMCMC_8cpp_source.html">ProcessMCMC.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  384</span>{</div>
<div class="line"><span class="lineno">  385</span>  YAML::Node card_yaml = YAML::LoadFile(<a class="code hl_variable" href="ProcessMCMC_8cpp.html#a13056efd080ab16304b6f7be0ebf0a61">config</a>.c_str());</div>
<div class="line"><span class="lineno">  386</span>  YAML::Node Settings = card_yaml[<span class="stringliteral">&quot;ProcessMCMC&quot;</span>];</div>
<div class="line"><span class="lineno">  387</span> </div>
<div class="line"><span class="lineno">  388</span>  std::vector&lt;std::string&gt; ParNames;</div>
<div class="line"><span class="lineno">  389</span> </div>
<div class="line"><span class="lineno">  390</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; d : Settings[<span class="stringliteral">&quot;BipolarPlot&quot;</span>])</div>
<div class="line"><span class="lineno">  391</span>  {</div>
<div class="line"><span class="lineno">  392</span>    ParNames.push_back(d[0].as&lt;std::string&gt;());</div>
<div class="line"><span class="lineno">  393</span>  }</div>
<div class="line"><span class="lineno">  394</span>  Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#ac358c3ffe7c060e8872c762259973c6b">GetPolarPlot</a>(ParNames);</div>
<div class="line"><span class="lineno">  395</span>  <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  396</span>}</div>
<div class="ttc" id="aclassMCMCProcessor_html_ac358c3ffe7c060e8872c762259973c6b"><div class="ttname"><a href="classMCMCProcessor.html#ac358c3ffe7c060e8872c762259973c6b">MCMCProcessor::GetPolarPlot</a></div><div class="ttdeci">void GetPolarPlot(const std::vector&lt; std::string &gt; &amp;ParNames)</div><div class="ttdoc">Make funny polar plot.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8cpp_source.html#l02757">MCMCProcessor.cpp:2757</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a32bb8e776bea9a8b778cfece3200932c" name="a32bb8e776bea9a8b778cfece3200932c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32bb8e776bea9a8b778cfece3200932c">&#9670;&#160;</a></span>CalcParameterEvolution()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CalcParameterEvolution </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMCMCProcessor.html">MCMCProcessor</a> *&#160;</td>
          <td class="paramname"><em>Processor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ProcessMCMC_8cpp_source.html#l00366">366</a> of file <a class="el" href="ProcessMCMC_8cpp_source.html">ProcessMCMC.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  367</span>{</div>
<div class="line"><span class="lineno">  368</span>  YAML::Node card_yaml = YAML::LoadFile(<a class="code hl_variable" href="ProcessMCMC_8cpp.html#a13056efd080ab16304b6f7be0ebf0a61">config</a>.c_str());</div>
<div class="line"><span class="lineno">  369</span>  YAML::Node Settings = card_yaml[<span class="stringliteral">&quot;ProcessMCMC&quot;</span>];</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span>  std::vector&lt;std::string&gt; ParNames;</div>
<div class="line"><span class="lineno">  372</span>  std::vector&lt;int&gt; Intervals;</div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; d : Settings[<span class="stringliteral">&quot;ParameterEvolution&quot;</span>])</div>
<div class="line"><span class="lineno">  375</span>  {</div>
<div class="line"><span class="lineno">  376</span>    ParNames.push_back(d[0].as&lt;std::string&gt;());</div>
<div class="line"><span class="lineno">  377</span>    Intervals.push_back(d[1].as&lt;int&gt;());</div>
<div class="line"><span class="lineno">  378</span>  }</div>
<div class="line"><span class="lineno">  379</span>  Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#ac9a5fc93b5ac3f6ef7850d21f47fd5dd">ParameterEvolution</a>(ParNames, Intervals);</div>
<div class="line"><span class="lineno">  380</span>  <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  381</span>}</div>
<div class="ttc" id="aclassMCMCProcessor_html_ac9a5fc93b5ac3f6ef7850d21f47fd5dd"><div class="ttname"><a href="classMCMCProcessor.html#ac9a5fc93b5ac3f6ef7850d21f47fd5dd">MCMCProcessor::ParameterEvolution</a></div><div class="ttdeci">void ParameterEvolution(const std::vector&lt; std::string &gt; &amp;Names, const std::vector&lt; int &gt; &amp;NIntervals)</div><div class="ttdoc">Make .gif of parameter evolution.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8cpp_source.html#l03143">MCMCProcessor.cpp:3143</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af772f7bdfdba080075141597e9c99f79" name="af772f7bdfdba080075141597e9c99f79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af772f7bdfdba080075141597e9c99f79">&#9670;&#160;</a></span>CalcSavageDickey()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CalcSavageDickey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMCMCProcessor.html">MCMCProcessor</a> *&#160;</td>
          <td class="paramname"><em>Processor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ProcessMCMC_8cpp_source.html#l00346">346</a> of file <a class="el" href="ProcessMCMC_8cpp_source.html">ProcessMCMC.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  347</span>{</div>
<div class="line"><span class="lineno">  348</span>  YAML::Node card_yaml = YAML::LoadFile(<a class="code hl_variable" href="ProcessMCMC_8cpp.html#a13056efd080ab16304b6f7be0ebf0a61">config</a>.c_str());</div>
<div class="line"><span class="lineno">  349</span>  YAML::Node Settings = card_yaml[<span class="stringliteral">&quot;ProcessMCMC&quot;</span>];</div>
<div class="line"><span class="lineno">  350</span> </div>
<div class="line"><span class="lineno">  351</span>  std::vector&lt;std::string&gt; ParNames;</div>
<div class="line"><span class="lineno">  352</span>  std::vector&lt;double&gt; EvaluationPoint;</div>
<div class="line"><span class="lineno">  353</span>  std::vector&lt;std::vector&lt;double&gt;&gt; Bounds;</div>
<div class="line"><span class="lineno">  354</span>  </div>
<div class="line"><span class="lineno">  355</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; d : Settings[<span class="stringliteral">&quot;SavageDickey&quot;</span>])</div>
<div class="line"><span class="lineno">  356</span>  {</div>
<div class="line"><span class="lineno">  357</span>    ParNames.push_back(d[0].as&lt;std::string&gt;());</div>
<div class="line"><span class="lineno">  358</span>    EvaluationPoint.push_back(d[1].as&lt;double&gt;());</div>
<div class="line"><span class="lineno">  359</span>    Bounds.push_back(d[2].as&lt;std::vector&lt;double&gt;&gt;());</div>
<div class="line"><span class="lineno">  360</span>  }</div>
<div class="line"><span class="lineno">  361</span> </div>
<div class="line"><span class="lineno">  362</span>  Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#ad09b1ad60fa52fdd87450ab8834e9cd9">GetSavageDickey</a>(ParNames, EvaluationPoint, Bounds);</div>
<div class="line"><span class="lineno">  363</span>  <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  364</span>}</div>
<div class="ttc" id="aclassMCMCProcessor_html_ad09b1ad60fa52fdd87450ab8834e9cd9"><div class="ttname"><a href="classMCMCProcessor.html#ad09b1ad60fa52fdd87450ab8834e9cd9">MCMCProcessor::GetSavageDickey</a></div><div class="ttdeci">void GetSavageDickey(const std::vector&lt; std::string &gt; &amp;ParName, const std::vector&lt; double &gt; &amp;EvaluationPoint, const std::vector&lt; std::vector&lt; double &gt; &gt; &amp;Bounds)</div><div class="ttdoc">Calculate Bayes factor for point like hypothesis using SavageDickey.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8cpp_source.html#l02895">MCMCProcessor.cpp:2895</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a08adc262bf03d1cb8df996b39404572c" name="a08adc262bf03d1cb8df996b39404572c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08adc262bf03d1cb8df996b39404572c">&#9670;&#160;</a></span>DiagnoseCovarianceMatrix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DiagnoseCovarianceMatrix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMCMCProcessor.html">MCMCProcessor</a> *&#160;</td>
          <td class="paramname"><em>Processor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>inputFile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>KS: You validate stability of posterior covariance matrix, you set burn calc cov matrix increase burn calc again and compare. By performing such operation several hundred times we can check when matrix becomes stable. </p>

<p class="definition">Definition at line <a class="el" href="ProcessMCMC_8cpp_source.html#l00419">419</a> of file <a class="el" href="ProcessMCMC_8cpp_source.html">ProcessMCMC.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  420</span>{</div>
<div class="line"><span class="lineno">  421</span>  <span class="comment">//Turn of plots from Processor</span></div>
<div class="line"><span class="lineno">  422</span>  Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a9db87211d9f066011daed18af7f4631e">SetPrintToPDF</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  423</span>  <span class="comment">// Open a TCanvas to write the posterior onto</span></div>
<div class="line"><span class="lineno">  424</span>  TCanvas* Canvas = <span class="keyword">new</span> TCanvas(<span class="stringliteral">&quot;Canvas&quot;</span>, <span class="stringliteral">&quot;Canvas&quot;</span>, 0, 0, 1024, 1024);</div>
<div class="line"><span class="lineno">  425</span>  Canvas-&gt;SetGrid();</div>
<div class="line"><span class="lineno">  426</span>  gStyle-&gt;SetOptStat(0);</div>
<div class="line"><span class="lineno">  427</span>  gStyle-&gt;SetOptTitle(0);</div>
<div class="line"><span class="lineno">  428</span>  Canvas-&gt;SetTickx();</div>
<div class="line"><span class="lineno">  429</span>  Canvas-&gt;SetTicky();</div>
<div class="line"><span class="lineno">  430</span>  Canvas-&gt;SetBottomMargin(0.1f);</div>
<div class="line"><span class="lineno">  431</span>  Canvas-&gt;SetTopMargin(0.05f);</div>
<div class="line"><span class="lineno">  432</span>  Canvas-&gt;SetRightMargin(0.15f);</div>
<div class="line"><span class="lineno">  433</span>  Canvas-&gt;SetLeftMargin(0.10f);</div>
<div class="line"><span class="lineno">  434</span>  </div>
<div class="line"><span class="lineno">  435</span>  <span class="comment">//KS: Fancy colours</span></div>
<div class="line"><span class="lineno">  436</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> NRGBs = 10;</div>
<div class="line"><span class="lineno">  437</span>  TColor::InitializeColors();</div>
<div class="line"><span class="lineno">  438</span>  Double_t stops[NRGBs] = { 0.00, 0.10, 0.25, 0.35, 0.50, 0.60, 0.65, 0.75, 0.90, 1.00 };</div>
<div class="line"><span class="lineno">  439</span>  Double_t red[NRGBs]   = { 0.50, 1.00, 1.00, 0.25, 0.00, 0.10, 0.50, 1.00, 0.75, 0.55 };</div>
<div class="line"><span class="lineno">  440</span>  Double_t green[NRGBs] = { 0.00, 0.25, 1.00, 0.25, 0.00, 0.60, 0.90, 1.00, 0.75, 0.75 };</div>
<div class="line"><span class="lineno">  441</span>  Double_t blue[NRGBs]  = { 0.00, 0.25, 1.00, 1.00, 0.50, 0.60, 0.90, 1.00, 0.05, 0.05 };</div>
<div class="line"><span class="lineno">  442</span>  TColor::CreateGradientColorTable(NRGBs, stops, red, green, blue, 255);</div>
<div class="line"><span class="lineno">  443</span>  gStyle-&gt;SetNumberContours(255);</div>
<div class="line"><span class="lineno">  444</span>  </div>
<div class="line"><span class="lineno">  445</span>  std::string OutName = inputFile;</div>
<div class="line"><span class="lineno">  446</span>  OutName = OutName.substr(0, OutName.find(<span class="stringliteral">&quot;.root&quot;</span>));</div>
<div class="line"><span class="lineno">  447</span>  Canvas-&gt;Print(Form(<span class="stringliteral">&quot;Correlation_%s.pdf[&quot;</span>, OutName.c_str()), <span class="stringliteral">&quot;pdf&quot;</span>);</div>
<div class="line"><span class="lineno">  448</span>  Canvas-&gt;Print(Form(<span class="stringliteral">&quot;Covariance_%s.pdf[&quot;</span>, OutName.c_str()), <span class="stringliteral">&quot;pdf&quot;</span>);</div>
<div class="line"><span class="lineno">  449</span>  </div>
<div class="line"><span class="lineno">  450</span>  YAML::Node card_yaml = YAML::LoadFile(<a class="code hl_variable" href="ProcessMCMC_8cpp.html#a13056efd080ab16304b6f7be0ebf0a61">config</a>.c_str());</div>
<div class="line"><span class="lineno">  451</span>  YAML::Node Settings = card_yaml[<span class="stringliteral">&quot;ProcessMCMC&quot;</span>];</div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> entries = int(Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#aa2ebe9262f7f28778d92148164a54d4b">GetnSteps</a>());</div>
<div class="line"><span class="lineno">  454</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> NIntervals = GetFromManager&lt;int&gt;(Settings[<span class="stringliteral">&quot;NIntervals&quot;</span>], 5);</div>
<div class="line"><span class="lineno">  455</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> IntervalsSize = entries/NIntervals;</div>
<div class="line"><span class="lineno">  456</span>  <span class="comment">//We start with burn from 0 (no burn in at all)</span></div>
<div class="line"><span class="lineno">  457</span>  <span class="keywordtype">int</span> BurnIn = 0;</div>
<div class="line"><span class="lineno">  458</span>  <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Diagnosing matrices with entries={}, NIntervals={} and IntervalsSize={}&quot;</span>, entries, NIntervals, IntervalsSize);</div>
<div class="line"><span class="lineno">  459</span> </div>
<div class="line"><span class="lineno">  460</span>  TMatrixDSym *Covariance = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  461</span>  TMatrixDSym *Correlation = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  462</span>  </div>
<div class="line"><span class="lineno">  463</span>  TH2D *CovariancePreviousHist = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  464</span>  TH2D *CorrelationPreviousHist = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  465</span> </div>
<div class="line"><span class="lineno">  466</span>  TH2D *CovarianceHist = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  467</span>  TH2D *CorrelationHist = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  468</span> </div>
<div class="line"><span class="lineno">  469</span>  <span class="comment">//KS: Get first covariances, we need two for comparison...</span></div>
<div class="line"><span class="lineno">  470</span>  Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#ad610d8e835031872b428e759ef4045f1">SetStepCut</a>(BurnIn);</div>
<div class="line"><span class="lineno">  471</span>  Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#ac9e4fdea5d2de92a1abad5b79b7daf88">GetCovariance</a>(Covariance, Correlation);</div>
<div class="line"><span class="lineno">  472</span>  </div>
<div class="line"><span class="lineno">  473</span>  CovariancePreviousHist = <a class="code hl_function" href="ProcessMCMC_8cpp.html#a2052da75bc58457dc290c8cbd06efe30">TMatrixIntoTH2D</a>(Covariance, <span class="stringliteral">&quot;Covariance&quot;</span>); </div>
<div class="line"><span class="lineno">  474</span>  CorrelationPreviousHist = <a class="code hl_function" href="ProcessMCMC_8cpp.html#a2052da75bc58457dc290c8cbd06efe30">TMatrixIntoTH2D</a>(Correlation, <span class="stringliteral">&quot;Correlation&quot;</span>);</div>
<div class="line"><span class="lineno">  475</span>      </div>
<div class="line"><span class="lineno">  476</span>  <span class="keyword">delete</span> Covariance;</div>
<div class="line"><span class="lineno">  477</span>  Covariance = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  478</span>  <span class="keyword">delete</span> Correlation;</div>
<div class="line"><span class="lineno">  479</span>  Correlation = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  480</span>  </div>
<div class="line"><span class="lineno">  481</span>  <span class="comment">//KS: Loop over all desired cuts</span></div>
<div class="line"><span class="lineno">  482</span>  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> k = 1; k &lt; NIntervals; ++k)</div>
<div class="line"><span class="lineno">  483</span>  {</div>
<div class="line"><span class="lineno">  484</span>    BurnIn = k*IntervalsSize;</div>
<div class="line"><span class="lineno">  485</span>    Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#ad610d8e835031872b428e759ef4045f1">SetStepCut</a>(BurnIn);</div>
<div class="line"><span class="lineno">  486</span>    Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#ac9e4fdea5d2de92a1abad5b79b7daf88">GetCovariance</a>(Covariance, Correlation);</div>
<div class="line"><span class="lineno">  487</span>    Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a36441ec3d5b0e24e48040282ffcda3eb">ResetHistograms</a>();</div>
<div class="line"><span class="lineno">  488</span>    </div>
<div class="line"><span class="lineno">  489</span>    CovarianceHist = <a class="code hl_function" href="ProcessMCMC_8cpp.html#a2052da75bc58457dc290c8cbd06efe30">TMatrixIntoTH2D</a>(Covariance, <span class="stringliteral">&quot;Covariance&quot;</span>); </div>
<div class="line"><span class="lineno">  490</span>    CorrelationHist = <a class="code hl_function" href="ProcessMCMC_8cpp.html#a2052da75bc58457dc290c8cbd06efe30">TMatrixIntoTH2D</a>(Correlation, <span class="stringliteral">&quot;Correlation&quot;</span>);</div>
<div class="line"><span class="lineno">  491</span>            </div>
<div class="line"><span class="lineno">  492</span>    TH2D *CovarianceDiff = <span class="keyword">static_cast&lt;</span>TH2D*<span class="keyword">&gt;</span>(CovarianceHist-&gt;Clone(<span class="stringliteral">&quot;Covariance_Ratio&quot;</span>));</div>
<div class="line"><span class="lineno">  493</span>    TH2D *CorrelationDiff = <span class="keyword">static_cast&lt;</span>TH2D*<span class="keyword">&gt;</span>(CorrelationHist-&gt;Clone(<span class="stringliteral">&quot;Correlation_Ratio&quot;</span>));</div>
<div class="line"><span class="lineno">  494</span>    </div>
<div class="line"><span class="lineno">  495</span>    <span class="comment">//KS: Bit messy but quite often covariance is 0 is divided by 0 is problematic so</span></div>
<div class="line"><span class="lineno">  496</span><span class="preprocessor">    #ifdef MULTITHREAD</span></div>
<div class="line"><span class="lineno">  497</span><span class="preprocessor">    #pragma omp parallel for</span></div>
<div class="line"><span class="lineno">  498</span><span class="preprocessor">    #endif</span></div>
<div class="line"><span class="lineno">  499</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 1; j &lt; CovarianceDiff-&gt;GetXaxis()-&gt;GetNbins()+1; ++j)</div>
<div class="line"><span class="lineno">  500</span>    {</div>
<div class="line"><span class="lineno">  501</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; CovarianceDiff-&gt;GetYaxis()-&gt;GetNbins()+1; ++i)</div>
<div class="line"><span class="lineno">  502</span>      {</div>
<div class="line"><span class="lineno">  503</span>        <span class="keywordflow">if</span>( std::fabs (CovarianceDiff-&gt;GetBinContent(j, i)) &lt; 1.e-5 &amp;&amp; std::fabs (CovariancePreviousHist-&gt;GetBinContent(j, i)) &lt; 1.e-5)</div>
<div class="line"><span class="lineno">  504</span>        {</div>
<div class="line"><span class="lineno">  505</span>          CovarianceDiff-&gt;SetBinContent(j, i, <a class="code hl_define" href="MCMCProcessor_8h.html#a82a6d79039474bc403b627437a7b97ec">_UNDEF_</a>);</div>
<div class="line"><span class="lineno">  506</span>          CovariancePreviousHist-&gt;SetBinContent(j, i, <a class="code hl_define" href="MCMCProcessor_8h.html#a82a6d79039474bc403b627437a7b97ec">_UNDEF_</a>);</div>
<div class="line"><span class="lineno">  507</span>        }</div>
<div class="line"><span class="lineno">  508</span>        <span class="keywordflow">if</span>( std::fabs (CorrelationDiff-&gt;GetBinContent(j, i)) &lt; 1.e-5 &amp;&amp; std::fabs (CorrelationPreviousHist-&gt;GetBinContent(j, i)) &lt; 1.e-5)</div>
<div class="line"><span class="lineno">  509</span>        {</div>
<div class="line"><span class="lineno">  510</span>          CorrelationDiff-&gt;SetBinContent(j, i, <a class="code hl_define" href="MCMCProcessor_8h.html#a82a6d79039474bc403b627437a7b97ec">_UNDEF_</a>);</div>
<div class="line"><span class="lineno">  511</span>          CorrelationPreviousHist-&gt;SetBinContent(j, i, <a class="code hl_define" href="MCMCProcessor_8h.html#a82a6d79039474bc403b627437a7b97ec">_UNDEF_</a>);</div>
<div class="line"><span class="lineno">  512</span>        }</div>
<div class="line"><span class="lineno">  513</span>      }</div>
<div class="line"><span class="lineno">  514</span>    }</div>
<div class="line"><span class="lineno">  515</span>    <span class="comment">//Divide matrices</span></div>
<div class="line"><span class="lineno">  516</span>    CovarianceDiff-&gt;Divide(CovariancePreviousHist);</div>
<div class="line"><span class="lineno">  517</span>    CorrelationDiff-&gt;Divide(CorrelationPreviousHist);</div>
<div class="line"><span class="lineno">  518</span>    </div>
<div class="line"><span class="lineno">  519</span>    <span class="comment">//Now it is time for fancy names etc.</span></div>
<div class="line"><span class="lineno">  520</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; CovarianceDiff-&gt;GetXaxis()-&gt;GetNbins(); ++j)</div>
<div class="line"><span class="lineno">  521</span>    {</div>
<div class="line"><span class="lineno">  522</span>      TString Title = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  523</span>      <span class="keywordtype">double</span> Prior = 1.0;</div>
<div class="line"><span class="lineno">  524</span>      <span class="keywordtype">double</span> PriorError = 1.0;</div>
<div class="line"><span class="lineno">  525</span>  </div>
<div class="line"><span class="lineno">  526</span>      Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a28dfe42f1bf6fd3a145287be1e63fb0b">GetNthParameter</a>(j, Prior, PriorError, Title);</div>
<div class="line"><span class="lineno">  527</span>      </div>
<div class="line"><span class="lineno">  528</span>      CovarianceDiff-&gt;GetXaxis()-&gt;SetBinLabel(j+1, Title);</div>
<div class="line"><span class="lineno">  529</span>      CovarianceDiff-&gt;GetYaxis()-&gt;SetBinLabel(j+1, Title);</div>
<div class="line"><span class="lineno">  530</span>      CorrelationDiff-&gt;GetXaxis()-&gt;SetBinLabel(j+1, Title);</div>
<div class="line"><span class="lineno">  531</span>      CorrelationDiff-&gt;GetYaxis()-&gt;SetBinLabel(j+1, Title);</div>
<div class="line"><span class="lineno">  532</span>    }</div>
<div class="line"><span class="lineno">  533</span>    CovarianceDiff-&gt;GetXaxis()-&gt;SetLabelSize(0.015f);</div>
<div class="line"><span class="lineno">  534</span>    CovarianceDiff-&gt;GetYaxis()-&gt;SetLabelSize(0.015f);</div>
<div class="line"><span class="lineno">  535</span>    CorrelationDiff-&gt;GetXaxis()-&gt;SetLabelSize(0.015f);</div>
<div class="line"><span class="lineno">  536</span>    CorrelationDiff-&gt;GetYaxis()-&gt;SetLabelSize(0.015f);</div>
<div class="line"><span class="lineno">  537</span>    </div>
<div class="line"><span class="lineno">  538</span>    std::stringstream ss;</div>
<div class="line"><span class="lineno">  539</span>    ss &lt;&lt; <span class="stringliteral">&quot;BCut_&quot;</span>;</div>
<div class="line"><span class="lineno">  540</span>    ss &lt;&lt; BurnIn;</div>
<div class="line"><span class="lineno">  541</span>    ss &lt;&lt; <span class="stringliteral">&quot;/&quot;</span>;</div>
<div class="line"><span class="lineno">  542</span>    ss &lt;&lt; <span class="stringliteral">&quot;BCut_&quot;</span>;</div>
<div class="line"><span class="lineno">  543</span>    ss &lt;&lt; (k-1)*IntervalsSize;</div>
<div class="line"><span class="lineno">  544</span>    std::string str = ss.str();</div>
<div class="line"><span class="lineno">  545</span>    </div>
<div class="line"><span class="lineno">  546</span>    TString Title = <span class="stringliteral">&quot;Cov &quot;</span> + str;</div>
<div class="line"><span class="lineno">  547</span>    CovarianceDiff-&gt;GetZaxis()-&gt;SetTitle( Title );</div>
<div class="line"><span class="lineno">  548</span>    Title = <span class="stringliteral">&quot;Corr &quot;</span> + str;</div>
<div class="line"><span class="lineno">  549</span>    CorrelationDiff-&gt;GetZaxis()-&gt;SetTitle(Title);</div>
<div class="line"><span class="lineno">  550</span>    </div>
<div class="line"><span class="lineno">  551</span>    CovarianceDiff-&gt;SetMinimum(-2);</div>
<div class="line"><span class="lineno">  552</span>    CovarianceDiff-&gt;SetMaximum(2);</div>
<div class="line"><span class="lineno">  553</span>    CorrelationDiff-&gt;SetMinimum(-2);</div>
<div class="line"><span class="lineno">  554</span>    CorrelationDiff-&gt;SetMaximum(2);</div>
<div class="line"><span class="lineno">  555</span> </div>
<div class="line"><span class="lineno">  556</span>    Canvas-&gt;cd();</div>
<div class="line"><span class="lineno">  557</span>    CovarianceDiff-&gt;Draw(<span class="stringliteral">&quot;colz&quot;</span>);</div>
<div class="line"><span class="lineno">  558</span>    Canvas-&gt;Print(Form(<span class="stringliteral">&quot;Covariance_%s.pdf&quot;</span>, OutName.c_str()), <span class="stringliteral">&quot;pdf&quot;</span>);</div>
<div class="line"><span class="lineno">  559</span> </div>
<div class="line"><span class="lineno">  560</span>    CorrelationDiff-&gt;Draw(<span class="stringliteral">&quot;colz&quot;</span>);</div>
<div class="line"><span class="lineno">  561</span>    Canvas-&gt;Print(Form(<span class="stringliteral">&quot;Correlation_%s.pdf&quot;</span>, OutName.c_str()), <span class="stringliteral">&quot;pdf&quot;</span>);</div>
<div class="line"><span class="lineno">  562</span>        </div>
<div class="line"><span class="lineno">  563</span>    <span class="comment">//KS: Current hist become previous as we need it for further comparison</span></div>
<div class="line"><span class="lineno">  564</span>    <span class="keyword">delete</span> CovariancePreviousHist;</div>
<div class="line"><span class="lineno">  565</span>    CovariancePreviousHist = <span class="keyword">static_cast&lt;</span>TH2D*<span class="keyword">&gt;</span>(CovarianceHist-&gt;Clone());</div>
<div class="line"><span class="lineno">  566</span>    <span class="keyword">delete</span> CorrelationPreviousHist;</div>
<div class="line"><span class="lineno">  567</span>    CorrelationPreviousHist = <span class="keyword">static_cast&lt;</span>TH2D*<span class="keyword">&gt;</span>(CorrelationHist-&gt;Clone());</div>
<div class="line"><span class="lineno">  568</span>    </div>
<div class="line"><span class="lineno">  569</span>    <span class="keyword">delete</span> CovarianceHist;</div>
<div class="line"><span class="lineno">  570</span>    CovarianceHist = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  571</span>    <span class="keyword">delete</span> CorrelationHist;</div>
<div class="line"><span class="lineno">  572</span>    CorrelationHist = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  573</span>    </div>
<div class="line"><span class="lineno">  574</span>    <span class="keyword">delete</span> CovarianceDiff;</div>
<div class="line"><span class="lineno">  575</span>    <span class="keyword">delete</span> CorrelationDiff;</div>
<div class="line"><span class="lineno">  576</span>    <span class="keyword">delete</span> Covariance;</div>
<div class="line"><span class="lineno">  577</span>    Covariance = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  578</span>    <span class="keyword">delete</span> Correlation;</div>
<div class="line"><span class="lineno">  579</span>    Correlation = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  580</span>  }</div>
<div class="line"><span class="lineno">  581</span>  Canvas-&gt;cd();</div>
<div class="line"><span class="lineno">  582</span>  Canvas-&gt;Print(Form(<span class="stringliteral">&quot;Covariance_%s.pdf]&quot;</span>, OutName.c_str()), <span class="stringliteral">&quot;pdf&quot;</span>);</div>
<div class="line"><span class="lineno">  583</span>  Canvas-&gt;Print(Form(<span class="stringliteral">&quot;Correlation_%s.pdf]&quot;</span>, OutName.c_str()), <span class="stringliteral">&quot;pdf&quot;</span>);</div>
<div class="line"><span class="lineno">  584</span>  </div>
<div class="line"><span class="lineno">  585</span>  Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a9db87211d9f066011daed18af7f4631e">SetPrintToPDF</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  586</span>  <span class="keywordflow">if</span>(Covariance != <span class="keyword">nullptr</span>)              <span class="keyword">delete</span> Covariance;</div>
<div class="line"><span class="lineno">  587</span>  <span class="keywordflow">if</span>(Correlation != <span class="keyword">nullptr</span>)             <span class="keyword">delete</span> Correlation;</div>
<div class="line"><span class="lineno">  588</span>  <span class="keywordflow">if</span>(CovariancePreviousHist != <span class="keyword">nullptr</span>)  <span class="keyword">delete</span> CovariancePreviousHist;</div>
<div class="line"><span class="lineno">  589</span>  <span class="keywordflow">if</span>(CorrelationPreviousHist != <span class="keyword">nullptr</span>) <span class="keyword">delete</span> CorrelationPreviousHist;</div>
<div class="line"><span class="lineno">  590</span>  <span class="keywordflow">if</span>(CovarianceHist != <span class="keyword">nullptr</span>)          <span class="keyword">delete</span> CovarianceHist;</div>
<div class="line"><span class="lineno">  591</span>  <span class="keywordflow">if</span>(CorrelationHist != <span class="keyword">nullptr</span>)         <span class="keyword">delete</span> CorrelationHist;</div>
<div class="line"><span class="lineno">  592</span>  <span class="keyword">delete</span> Canvas;</div>
<div class="line"><span class="lineno">  593</span>}</div>
<div class="ttc" id="aMCMCProcessor_8h_html_a82a6d79039474bc403b627437a7b97ec"><div class="ttname"><a href="MCMCProcessor_8h.html#a82a6d79039474bc403b627437a7b97ec">_UNDEF_</a></div><div class="ttdeci">#define _UNDEF_</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8h_source.html#l00004">MCMCProcessor.h:4</a></div></div>
<div class="ttc" id="aMaCh3Logger_8h_html_a95fa4dffc648e4c5536c9292c2bdcac3"><div class="ttname"><a href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a></div><div class="ttdeci">#define MACH3LOG_INFO</div><div class="ttdef"><b>Definition:</b> <a href="MaCh3Logger_8h_source.html#l00016">MaCh3Logger.h:16</a></div></div>
<div class="ttc" id="aProcessMCMC_8cpp_html_a2052da75bc58457dc290c8cbd06efe30"><div class="ttname"><a href="ProcessMCMC_8cpp.html#a2052da75bc58457dc290c8cbd06efe30">TMatrixIntoTH2D</a></div><div class="ttdeci">TH2D * TMatrixIntoTH2D(TMatrixDSym *Matrix, const std::string &amp;title)</div><div class="ttdoc">KS: Convert TMatrix to TH2D, mostly useful for making fancy plots.</div><div class="ttdef"><b>Definition:</b> <a href="ProcessMCMC_8cpp_source.html#l00611">ProcessMCMC.cpp:611</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_a28dfe42f1bf6fd3a145287be1e63fb0b"><div class="ttname"><a href="classMCMCProcessor.html#a28dfe42f1bf6fd3a145287be1e63fb0b">MCMCProcessor::GetNthParameter</a></div><div class="ttdeci">void GetNthParameter(const int param, double &amp;Prior, double &amp;PriorError, TString &amp;Title)</div><div class="ttdoc">Get properties of parameter by passing it number.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8cpp_source.html#l02703">MCMCProcessor.cpp:2703</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_a36441ec3d5b0e24e48040282ffcda3eb"><div class="ttname"><a href="classMCMCProcessor.html#a36441ec3d5b0e24e48040282ffcda3eb">MCMCProcessor::ResetHistograms</a></div><div class="ttdeci">void ResetHistograms()</div><div class="ttdoc">Reset 2D posteriors, in case we would like to calculate in again with different BurnInCut.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8cpp_source.html#l02739">MCMCProcessor.cpp:2739</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_a9db87211d9f066011daed18af7f4631e"><div class="ttname"><a href="classMCMCProcessor.html#a9db87211d9f066011daed18af7f4631e">MCMCProcessor::SetPrintToPDF</a></div><div class="ttdeci">void SetPrintToPDF(const bool PlotOrNot)</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8h_source.html#l00222">MCMCProcessor.h:222</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_aa2ebe9262f7f28778d92148164a54d4b"><div class="ttname"><a href="classMCMCProcessor.html#aa2ebe9262f7f28778d92148164a54d4b">MCMCProcessor::GetnSteps</a></div><div class="ttdeci">Long64_t GetnSteps()</div><div class="ttdoc">Get Number of Steps that Chain has, for merged chains will not be the same nEntries.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8h_source.html#l00210">MCMCProcessor.h:210</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_ac9e4fdea5d2de92a1abad5b79b7daf88"><div class="ttname"><a href="classMCMCProcessor.html#ac9e4fdea5d2de92a1abad5b79b7daf88">MCMCProcessor::GetCovariance</a></div><div class="ttdeci">void GetCovariance(TMatrixDSym *&amp;Cov, TMatrixDSym *&amp;Corr)</div><div class="ttdoc">Get the post-fit covariances and correlations.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8cpp_source.html#l00199">MCMCProcessor.cpp:199</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_ad610d8e835031872b428e759ef4045f1"><div class="ttname"><a href="classMCMCProcessor.html#ad610d8e835031872b428e759ef4045f1">MCMCProcessor::SetStepCut</a></div><div class="ttdeci">void SetStepCut(const std::string &amp;Cuts)</div><div class="ttdoc">Set the step cutting by string.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8cpp_source.html#l02685">MCMCProcessor.cpp:2685</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a02c2311b736096adc8525876c0ec1487" name="a02c2311b736096adc8525876c0ec1487"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02c2311b736096adc8525876c0ec1487">&#9670;&#160;</a></span>GetTrianglePlot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GetTrianglePlot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMCMCProcessor.html">MCMCProcessor</a> *&#160;</td>
          <td class="paramname"><em>Processor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ProcessMCMC_8cpp_source.html#l00399">399</a> of file <a class="el" href="ProcessMCMC_8cpp_source.html">ProcessMCMC.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  399</span>                                               {</div>
<div class="line"><span class="lineno">  400</span>  YAML::Node card_yaml = YAML::LoadFile(<a class="code hl_variable" href="ProcessMCMC_8cpp.html#a13056efd080ab16304b6f7be0ebf0a61">config</a>.c_str());</div>
<div class="line"><span class="lineno">  401</span>  YAML::Node Settings = card_yaml[<span class="stringliteral">&quot;ProcessMCMC&quot;</span>];</div>
<div class="line"><span class="lineno">  402</span> </div>
<div class="line"><span class="lineno">  403</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; dg : Settings[<span class="stringliteral">&quot;TrianglePlot&quot;</span>])</div>
<div class="line"><span class="lineno">  404</span>  {</div>
<div class="line"><span class="lineno">  405</span>    std::string ParName = dg[0].as&lt;std::string&gt;();</div>
<div class="line"><span class="lineno">  406</span> </div>
<div class="line"><span class="lineno">  407</span>    std::vector&lt;std::string&gt; NameVec = dg[1].as&lt;std::vector&lt;std::string&gt;&gt;();</div>
<div class="line"><span class="lineno">  408</span>    Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a3ae80722efa0c94eec066ee91f3cf997">MakeTrianglePlot</a>(NameVec,</div>
<div class="line"><span class="lineno">  409</span>                                <a class="code hl_function" href="YamlHelper_8h.html#a1a6adcb8b24bfbdcb936ced6812e1b0c">GetFromManager</a>&lt;std::vector&lt;double&gt;&gt;(Settings[<span class="stringliteral">&quot;CredibleIntervals&quot;</span>], {0.99, 0.90, 0.68}),</div>
<div class="line"><span class="lineno">  410</span>                                <a class="code hl_function" href="YamlHelper_8h.html#a1a6adcb8b24bfbdcb936ced6812e1b0c">GetFromManager</a>&lt;std::vector&lt;short int&gt;&gt;(Settings[<span class="stringliteral">&quot;CredibleIntervalsColours&quot;</span>], {436, 430, 422}),</div>
<div class="line"><span class="lineno">  411</span>                                <a class="code hl_function" href="YamlHelper_8h.html#a1a6adcb8b24bfbdcb936ced6812e1b0c">GetFromManager</a>&lt;std::vector&lt;double&gt;&gt;(Settings[<span class="stringliteral">&quot;CredibleRegions&quot;</span>], {0.99, 0.90, 0.68}),</div>
<div class="line"><span class="lineno">  412</span>                                <a class="code hl_function" href="YamlHelper_8h.html#a1a6adcb8b24bfbdcb936ced6812e1b0c">GetFromManager</a>&lt;std::vector&lt;short int&gt;&gt;(Settings[<span class="stringliteral">&quot;CredibleRegionStyle&quot;</span>], {2, 1, 3}),</div>
<div class="line"><span class="lineno">  413</span>                                <a class="code hl_function" href="YamlHelper_8h.html#a1a6adcb8b24bfbdcb936ced6812e1b0c">GetFromManager</a>&lt;std::vector&lt;short int&gt;&gt;(Settings[<span class="stringliteral">&quot;CredibleRegionColor&quot;</span>], {413, 406, 416}),</div>
<div class="line"><span class="lineno">  414</span>                                GetFromManager&lt;bool&gt;(Settings[<span class="stringliteral">&quot;CredibleInSigmas&quot;</span>], <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  415</span>  }</div>
<div class="line"><span class="lineno">  416</span>}</div>
<div class="ttc" id="aYamlHelper_8h_html_a1a6adcb8b24bfbdcb936ced6812e1b0c"><div class="ttname"><a href="YamlHelper_8h.html#a1a6adcb8b24bfbdcb936ced6812e1b0c">GetFromManager</a></div><div class="ttdeci">Type GetFromManager(const YAML::Node &amp;node, Type defval)</div><div class="ttdoc">Get content of config file if node is not found take default value specified.</div><div class="ttdef"><b>Definition:</b> <a href="YamlHelper_8h_source.html#l00024">YamlHelper.h:24</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_a3ae80722efa0c94eec066ee91f3cf997"><div class="ttname"><a href="classMCMCProcessor.html#a3ae80722efa0c94eec066ee91f3cf997">MCMCProcessor::MakeTrianglePlot</a></div><div class="ttdeci">void MakeTrianglePlot(const std::vector&lt; std::string &gt; &amp;ParNames, const std::vector&lt; double &gt; &amp;CredibleIntervals={0.99, 0.90, 0.68 }, const std::vector&lt; Color_t &gt; &amp;CredibleIntervalsColours={kCyan+4, kCyan-2, kCyan-10}, const std::vector&lt; double &gt; &amp;CredibleRegions={0.99, 0.90, 0.68}, const std::vector&lt; Style_t &gt; &amp;CredibleRegionStyle={kDashed, kSolid, kDotted}, const std::vector&lt; Color_t &gt; &amp;CredibleRegionColor={kGreen-3, kGreen-10, kGreen}, const bool CredibleInSigmas=false)</div><div class="ttdoc">Make fancy triangle plot for selected parameters.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8cpp_source.html#l01766">MCMCProcessor.cpp:1766</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aece705f01f7c21ad0d0f5f9f64af6d0d" name="aece705f01f7c21ad0d0f5f9f64af6d0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aece705f01f7c21ad0d0f5f9f64af6d0d">&#9670;&#160;</a></span>KolmogorovSmirnovTest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void KolmogorovSmirnovTest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMCMCProcessor.html">MCMCProcessor</a> **&#160;</td>
          <td class="paramname"><em>Processor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TCanvas *&#160;</td>
          <td class="paramname"><em>Posterior</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TString&#160;</td>
          <td class="paramname"><em>canvasname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>KS: Perform KS test to check if two posteriors for the same parameter came from the same distribution. </p>

<p class="definition">Definition at line <a class="el" href="ProcessMCMC_8cpp_source.html#l00626">626</a> of file <a class="el" href="ProcessMCMC_8cpp_source.html">ProcessMCMC.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  627</span>{</div>
<div class="line"><span class="lineno">  628</span>  <span class="keyword">const</span> Color_t CumulativeColor[] = {kBlue-1, kRed, kGreen+2};</div>
<div class="line"><span class="lineno">  629</span>  <span class="keyword">const</span> Style_t CumulativeStyle[] = {kSolid, kDashed, kDotted};</div>
<div class="line"><span class="lineno">  630</span> </div>
<div class="line"><span class="lineno">  631</span>  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; Processor[0]-&gt;<a class="code hl_function" href="classMCMCProcessor.html#adbde2f115d983b233d0a9ea896187586">GetNParams</a>(); ++i) </div>
<div class="line"><span class="lineno">  632</span>  {</div>
<div class="line"><span class="lineno">  633</span>    <span class="comment">// This holds the posterior density</span></div>
<div class="line"><span class="lineno">  634</span>    TH1D **hpost = <span class="keyword">new</span> TH1D*[<a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>];</div>
<div class="line"><span class="lineno">  635</span>    TH1D **CumulativeDistribution = <span class="keyword">new</span> TH1D*[<a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>];</div>
<div class="line"><span class="lineno">  636</span>       </div>
<div class="line"><span class="lineno">  637</span>    TString Title;</div>
<div class="line"><span class="lineno">  638</span>    <span class="keywordtype">double</span> Prior = 1.0;</div>
<div class="line"><span class="lineno">  639</span>    <span class="keywordtype">double</span> PriorError = 1.0;</div>
<div class="line"><span class="lineno">  640</span> </div>
<div class="line"><span class="lineno">  641</span>    Processor[0]-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a28dfe42f1bf6fd3a145287be1e63fb0b">GetNthParameter</a>(i, Prior, PriorError, Title);</div>
<div class="line"><span class="lineno">  642</span>    <span class="keywordtype">bool</span> Skip = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  643</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ik = 0 ; ik &lt; <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>;  ik++)</div>
<div class="line"><span class="lineno">  644</span>    {</div>
<div class="line"><span class="lineno">  645</span>      <span class="keywordtype">int</span> Index = 0;</div>
<div class="line"><span class="lineno">  646</span>      <span class="keywordflow">if</span>(ik == 0 ) Index = i;</div>
<div class="line"><span class="lineno">  647</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  648</span>      {</div>
<div class="line"><span class="lineno">  649</span>        <span class="comment">// KS: If somehow this chain doesn&#39;t given params we skip it</span></div>
<div class="line"><span class="lineno">  650</span>        Index = Processor[ik]-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a5ab91183fbbf23fff759fefc9954a1a5">GetParamIndexFromName</a>(hpost[0]-&gt;GetTitle());</div>
<div class="line"><span class="lineno">  651</span>        <span class="keywordflow">if</span>(Index == <a class="code hl_define" href="MCMCProcessor_8h.html#a82a6d79039474bc403b627437a7b97ec">_UNDEF_</a>)</div>
<div class="line"><span class="lineno">  652</span>        {</div>
<div class="line"><span class="lineno">  653</span>          Skip = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  654</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  655</span>        }</div>
<div class="line"><span class="lineno">  656</span>      }</div>
<div class="line"><span class="lineno">  657</span>      hpost[ik] = <span class="keyword">static_cast&lt;</span>TH1D*<span class="keyword">&gt;</span>(Processor[ik]-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a70f5590946414af43c3b6c3a5cd315de">GetHpost</a>(Index)-&gt;Clone());</div>
<div class="line"><span class="lineno">  658</span>      CumulativeDistribution[ik] = <span class="keyword">static_cast&lt;</span>TH1D*<span class="keyword">&gt;</span>(Processor[ik]-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a70f5590946414af43c3b6c3a5cd315de">GetHpost</a>(Index)-&gt;Clone());</div>
<div class="line"><span class="lineno">  659</span>      CumulativeDistribution[ik]-&gt;Fill(0., 0.);</div>
<div class="line"><span class="lineno">  660</span>      CumulativeDistribution[ik]-&gt;Reset();</div>
<div class="line"><span class="lineno">  661</span>      CumulativeDistribution[ik]-&gt;SetMaximum(1.);</div>
<div class="line"><span class="lineno">  662</span>      TString TempTittle = Title+<span class="stringliteral">&quot; Kolmogorov Smirnov&quot;</span>;</div>
<div class="line"><span class="lineno">  663</span>      CumulativeDistribution[ik]-&gt;SetTitle(TempTittle);</div>
<div class="line"><span class="lineno">  664</span>      </div>
<div class="line"><span class="lineno">  665</span>      TempTittle = Title+<span class="stringliteral">&quot; Value&quot;</span>;</div>
<div class="line"><span class="lineno">  666</span>      CumulativeDistribution[ik]-&gt;GetXaxis()-&gt;SetTitle(TempTittle);</div>
<div class="line"><span class="lineno">  667</span>      CumulativeDistribution[ik]-&gt;GetYaxis()-&gt;SetTitle(<span class="stringliteral">&quot;Cumulative Probability&quot;</span>);</div>
<div class="line"><span class="lineno">  668</span>      </div>
<div class="line"><span class="lineno">  669</span>      CumulativeDistribution[ik]-&gt;SetLineWidth(2);</div>
<div class="line"><span class="lineno">  670</span>      CumulativeDistribution[ik]-&gt;SetLineColor(CumulativeColor[ik]);</div>
<div class="line"><span class="lineno">  671</span>      CumulativeDistribution[ik]-&gt;SetLineStyle(CumulativeStyle[ik]);</div>
<div class="line"><span class="lineno">  672</span>    }</div>
<div class="line"><span class="lineno">  673</span> </div>
<div class="line"><span class="lineno">  674</span>    <span class="comment">// Don&#39;t plot if this is a fixed histogram (i.e. the peak is the whole integral)</span></div>
<div class="line"><span class="lineno">  675</span>    <span class="keywordflow">if</span>(hpost[0]-&gt;GetMaximum() == hpost[0]-&gt;Integral()*1.5 || Skip)</div>
<div class="line"><span class="lineno">  676</span>    {</div>
<div class="line"><span class="lineno">  677</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ik = 0; ik &lt; <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>;  ik++)</div>
<div class="line"><span class="lineno">  678</span>      {</div>
<div class="line"><span class="lineno">  679</span>        <span class="keyword">delete</span> hpost[ik];</div>
<div class="line"><span class="lineno">  680</span>        <span class="keyword">delete</span> CumulativeDistribution[ik];</div>
<div class="line"><span class="lineno">  681</span>      }</div>
<div class="line"><span class="lineno">  682</span>      <span class="keyword">delete</span>[] hpost;</div>
<div class="line"><span class="lineno">  683</span>      <span class="keyword">delete</span>[] CumulativeDistribution;</div>
<div class="line"><span class="lineno">  684</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  685</span>    }</div>
<div class="line"><span class="lineno">  686</span>    </div>
<div class="line"><span class="lineno">  687</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ik = 0 ; ik &lt; <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>;  ik++)</div>
<div class="line"><span class="lineno">  688</span>    {</div>
<div class="line"><span class="lineno">  689</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> NumberOfBins = hpost[ik]-&gt;GetXaxis()-&gt;GetNbins();</div>
<div class="line"><span class="lineno">  690</span>      <span class="keywordtype">double</span> Cumulative = 0;</div>
<div class="line"><span class="lineno">  691</span>      <span class="keyword">const</span> <span class="keywordtype">double</span> Integral = hpost[ik]-&gt;Integral();</div>
<div class="line"><span class="lineno">  692</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 1; j &lt; NumberOfBins+1; ++j)</div>
<div class="line"><span class="lineno">  693</span>      {</div>
<div class="line"><span class="lineno">  694</span>        Cumulative += hpost[ik]-&gt;GetBinContent(j)/Integral;</div>
<div class="line"><span class="lineno">  695</span>        CumulativeDistribution[ik]-&gt;SetBinContent(j, Cumulative);</div>
<div class="line"><span class="lineno">  696</span>      }</div>
<div class="line"><span class="lineno">  697</span>      <span class="comment">//KS: Set overflow to 1 just in case</span></div>
<div class="line"><span class="lineno">  698</span>      CumulativeDistribution[ik]-&gt;SetBinContent(NumberOfBins+1, 1.);</div>
<div class="line"><span class="lineno">  699</span>    }</div>
<div class="line"><span class="lineno">  700</span>    </div>
<div class="line"><span class="lineno">  701</span>    <span class="keywordtype">int</span>* TestStatBin = <span class="keyword">new</span> <span class="keywordtype">int</span>[<a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>];</div>
<div class="line"><span class="lineno">  702</span>    <span class="keywordtype">double</span>* TestStatD = <span class="keyword">new</span> <span class="keywordtype">double</span>[<a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>];</div>
<div class="line"><span class="lineno">  703</span>    TLine **LineD = <span class="keyword">new</span> TLine*[<a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>];</div>
<div class="line"><span class="lineno">  704</span> </div>
<div class="line"><span class="lineno">  705</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ik = 0 ; ik &lt; <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>;  ik++) { TestStatBin[ik] = 0; TestStatD[ik] = -999;}</div>
<div class="line"><span class="lineno">  706</span> </div>
<div class="line"><span class="lineno">  707</span>    <span class="comment">//Find KS statistic</span></div>
<div class="line"><span class="lineno">  708</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ik = 1 ; ik &lt; <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>;  ik++)</div>
<div class="line"><span class="lineno">  709</span>    {</div>
<div class="line"><span class="lineno">  710</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> NumberOfBins = CumulativeDistribution[0]-&gt;GetXaxis()-&gt;GetNbins();</div>
<div class="line"><span class="lineno">  711</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 1; j &lt; NumberOfBins+1; ++j)</div>
<div class="line"><span class="lineno">  712</span>      {</div>
<div class="line"><span class="lineno">  713</span>        <span class="keywordtype">double</span> BinValue = CumulativeDistribution[0]-&gt;GetBinCenter(j);</div>
<div class="line"><span class="lineno">  714</span>        <span class="keywordtype">int</span> BinNumber = CumulativeDistribution[ik]-&gt;FindBin(BinValue);</div>
<div class="line"><span class="lineno">  715</span>        <span class="comment">//KS: Calculate D statistic for this bin, only save it if it&#39;s bigger than previously found value</span></div>
<div class="line"><span class="lineno">  716</span>        <span class="keywordtype">double</span> TempDstat = std::fabs(CumulativeDistribution[0]-&gt;GetBinContent(j) - CumulativeDistribution[ik]-&gt;GetBinContent(BinNumber));</div>
<div class="line"><span class="lineno">  717</span>        <span class="keywordflow">if</span>(TempDstat &gt; TestStatD[ik])</div>
<div class="line"><span class="lineno">  718</span>        {</div>
<div class="line"><span class="lineno">  719</span>          TestStatD[ik] = TempDstat;</div>
<div class="line"><span class="lineno">  720</span>          TestStatBin[ik] = j;</div>
<div class="line"><span class="lineno">  721</span>        }</div>
<div class="line"><span class="lineno">  722</span>      }</div>
<div class="line"><span class="lineno">  723</span>    }</div>
<div class="line"><span class="lineno">  724</span> </div>
<div class="line"><span class="lineno">  725</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ik = 0 ; ik &lt; <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>;  ik++)</div>
<div class="line"><span class="lineno">  726</span>    {</div>
<div class="line"><span class="lineno">  727</span>      LineD[ik] =  <span class="keyword">new</span> TLine(CumulativeDistribution[0]-&gt;GetBinCenter(TestStatBin[ik]), 0, CumulativeDistribution[0]-&gt;GetBinCenter(TestStatBin[ik]), CumulativeDistribution[0]-&gt;GetBinContent(TestStatBin[ik]));</div>
<div class="line"><span class="lineno">  728</span>      LineD[ik]-&gt;SetLineColor(CumulativeColor[ik]);</div>
<div class="line"><span class="lineno">  729</span>      LineD[ik]-&gt;SetLineWidth(2.0);</div>
<div class="line"><span class="lineno">  730</span>    }</div>
<div class="line"><span class="lineno">  731</span>    CumulativeDistribution[0]-&gt;Draw();</div>
<div class="line"><span class="lineno">  732</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ik = 0 ; ik &lt; <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>;  ik++)</div>
<div class="line"><span class="lineno">  733</span>      CumulativeDistribution[ik]-&gt;Draw(<span class="stringliteral">&quot;SAME&quot;</span>);</div>
<div class="line"><span class="lineno">  734</span>    </div>
<div class="line"><span class="lineno">  735</span>    TLegend *leg = <span class="keyword">new</span> TLegend(0.15, 0.7, 0.5, 0.90);</div>
<div class="line"><span class="lineno">  736</span>    leg-&gt;SetTextSize(0.04f);</div>
<div class="line"><span class="lineno">  737</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ik = 0; ik &lt; <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>;  ik++)</div>
<div class="line"><span class="lineno">  738</span>      leg-&gt;AddEntry(CumulativeDistribution[ik], <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a2bff863f66d44b865ce21762802730c8">TitleNames</a>[ik].c_str(), <span class="stringliteral">&quot;l&quot;</span>);</div>
<div class="line"><span class="lineno">  739</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ik = 1; ik &lt; <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>;  ik++)</div>
<div class="line"><span class="lineno">  740</span>      leg-&gt;AddEntry(LineD[ik], Form(<span class="stringliteral">&quot;#Delta D = %.4f&quot;</span>, TestStatD[ik]), <span class="stringliteral">&quot;l&quot;</span>);</div>
<div class="line"><span class="lineno">  741</span>    </div>
<div class="line"><span class="lineno">  742</span>    leg-&gt;SetLineColor(0);</div>
<div class="line"><span class="lineno">  743</span>    leg-&gt;SetLineStyle(0);</div>
<div class="line"><span class="lineno">  744</span>    leg-&gt;SetFillColor(0);</div>
<div class="line"><span class="lineno">  745</span>    leg-&gt;SetFillStyle(0);</div>
<div class="line"><span class="lineno">  746</span>    leg-&gt;Draw(<span class="stringliteral">&quot;SAME&quot;</span>);</div>
<div class="line"><span class="lineno">  747</span> </div>
<div class="line"><span class="lineno">  748</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ik = 1; ik &lt; <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>;  ik++)</div>
<div class="line"><span class="lineno">  749</span>      LineD[ik]-&gt;Draw(<span class="stringliteral">&quot;sam&quot;</span>);</div>
<div class="line"><span class="lineno">  750</span>      </div>
<div class="line"><span class="lineno">  751</span>    Posterior-&gt;cd();</div>
<div class="line"><span class="lineno">  752</span>    Posterior-&gt;Print(canvasname);</div>
<div class="line"><span class="lineno">  753</span>    </div>
<div class="line"><span class="lineno">  754</span>    <span class="keyword">delete</span> leg;</div>
<div class="line"><span class="lineno">  755</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ik = 0; ik &lt; <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>;  ik++)</div>
<div class="line"><span class="lineno">  756</span>    {</div>
<div class="line"><span class="lineno">  757</span>      <span class="keyword">delete</span> hpost[ik];</div>
<div class="line"><span class="lineno">  758</span>      <span class="keyword">delete</span> CumulativeDistribution[ik];</div>
<div class="line"><span class="lineno">  759</span>      <span class="keyword">delete</span> LineD[ik];</div>
<div class="line"><span class="lineno">  760</span>    }</div>
<div class="line"><span class="lineno">  761</span>    <span class="keyword">delete</span>[] hpost;</div>
<div class="line"><span class="lineno">  762</span>    <span class="keyword">delete</span>[] CumulativeDistribution;</div>
<div class="line"><span class="lineno">  763</span>    <span class="keyword">delete</span>[] LineD;</div>
<div class="line"><span class="lineno">  764</span>    <span class="keyword">delete</span>[] TestStatBin;</div>
<div class="line"><span class="lineno">  765</span>    <span class="keyword">delete</span>[] TestStatD;</div>
<div class="line"><span class="lineno">  766</span>  } <span class="comment">//End loop over parameter</span></div>
<div class="line"><span class="lineno">  767</span>}</div>
<div class="ttc" id="aProcessMCMC_8cpp_html_a2bff863f66d44b865ce21762802730c8"><div class="ttname"><a href="ProcessMCMC_8cpp.html#a2bff863f66d44b865ce21762802730c8">TitleNames</a></div><div class="ttdeci">std::vector&lt; std::string &gt; TitleNames</div><div class="ttdef"><b>Definition:</b> <a href="ProcessMCMC_8cpp_source.html#l00023">ProcessMCMC.cpp:23</a></div></div>
<div class="ttc" id="aProcessMCMC_8cpp_html_a6b25bcddaae9b868109dc98a54476e46"><div class="ttname"><a href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a></div><div class="ttdeci">int nFiles</div><div class="ttdef"><b>Definition:</b> <a href="ProcessMCMC_8cpp_source.html#l00021">ProcessMCMC.cpp:21</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_a5ab91183fbbf23fff759fefc9954a1a5"><div class="ttname"><a href="classMCMCProcessor.html#a5ab91183fbbf23fff759fefc9954a1a5">MCMCProcessor::GetParamIndexFromName</a></div><div class="ttdeci">int GetParamIndexFromName(const std::string &amp;Name)</div><div class="ttdoc">Get parameter number based on name.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8cpp_source.html#l02717">MCMCProcessor.cpp:2717</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_a70f5590946414af43c3b6c3a5cd315de"><div class="ttname"><a href="classMCMCProcessor.html#a70f5590946414af43c3b6c3a5cd315de">MCMCProcessor::GetHpost</a></div><div class="ttdeci">TH1D * GetHpost(const int i)</div><div class="ttdoc">Get 1D posterior for a given parameter.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8h_source.html#l00176">MCMCProcessor.h:176</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_adbde2f115d983b233d0a9ea896187586"><div class="ttname"><a href="classMCMCProcessor.html#adbde2f115d983b233d0a9ea896187586">MCMCProcessor::GetNParams</a></div><div class="ttdeci">int GetNParams()</div><div class="ttdoc">Get total number of used parameters.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8h_source.html#l00167">MCMCProcessor.h:167</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ddf1224851353fc92bfbff6f499fa97" name="a0ddf1224851353fc92bfbff6f499fa97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ddf1224851353fc92bfbff6f499fa97">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ProcessMCMC_8cpp_source.html#l00026">26</a> of file <a class="el" href="ProcessMCMC_8cpp_source.html">ProcessMCMC.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   27</span>{</div>
<div class="line"><span class="lineno">   28</span>  <a class="code hl_function" href="MaCh3Logger_8h.html#aa603c55ea73cd86d1994901227883e1e">SetMaCh3LoggerFormat</a>();</div>
<div class="line"><span class="lineno">   29</span>  <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a> = 0;</div>
<div class="line"><span class="lineno">   30</span>  <span class="keywordflow">if</span> (argc != 3 &amp;&amp; argc !=6 &amp;&amp; argc != 8)</div>
<div class="line"><span class="lineno">   31</span>  {</div>
<div class="line"><span class="lineno">   32</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;How to use: {}&lt;Config&gt; &lt;MCMM_ND_Output.root&gt;&quot;</span>, argv[0]);</div>
<div class="line"><span class="lineno">   33</span>    <span class="keywordflow">throw</span> <a class="code hl_class" href="classMaCh3Exception.html">MaCh3Exception</a>(__FILE__ , __LINE__ );</div>
<div class="line"><span class="lineno">   34</span>  }</div>
<div class="line"><span class="lineno">   35</span> </div>
<div class="line"><span class="lineno">   36</span>  <span class="keywordflow">if</span> (argc == 3)</div>
<div class="line"><span class="lineno">   37</span>  {</div>
<div class="line"><span class="lineno">   38</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Producing single fit output&quot;</span>);</div>
<div class="line"><span class="lineno">   39</span>    <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a13056efd080ab16304b6f7be0ebf0a61">config</a> = argv[1];</div>
<div class="line"><span class="lineno">   40</span>    std::string filename = argv[2];</div>
<div class="line"><span class="lineno">   41</span>    <a class="code hl_function" href="ProcessMCMC_8cpp.html#a52c48199a4bcad577b88768020a91041">ProcessMCMC</a>(filename);</div>
<div class="line"><span class="lineno">   42</span>  }</div>
<div class="line"><span class="lineno">   43</span>  <span class="comment">// If we want to compare two or more fits (e.g. binning changes or introducing new params/priors)</span></div>
<div class="line"><span class="lineno">   44</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (argc == 6 || argc == 8)</div>
<div class="line"><span class="lineno">   45</span>  {</div>
<div class="line"><span class="lineno">   46</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Producing two fit comparison&quot;</span>);</div>
<div class="line"><span class="lineno">   47</span>    <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a13056efd080ab16304b6f7be0ebf0a61">config</a> = argv[1];</div>
<div class="line"><span class="lineno">   48</span> </div>
<div class="line"><span class="lineno">   49</span>    <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a8e90c1478f4be185364988cac765a163">FileNames</a>.push_back(argv[2]);</div>
<div class="line"><span class="lineno">   50</span>    <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a2bff863f66d44b865ce21762802730c8">TitleNames</a>.push_back(argv[3]);</div>
<div class="line"><span class="lineno">   51</span> </div>
<div class="line"><span class="lineno">   52</span>    <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a8e90c1478f4be185364988cac765a163">FileNames</a>.push_back(argv[4]);</div>
<div class="line"><span class="lineno">   53</span>    <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a2bff863f66d44b865ce21762802730c8">TitleNames</a>.push_back(argv[5]);</div>
<div class="line"><span class="lineno">   54</span>    <span class="comment">//KS: If there is third file add it</span></div>
<div class="line"><span class="lineno">   55</span>    <span class="keywordflow">if</span>(argc == 8)</div>
<div class="line"><span class="lineno">   56</span>    {</div>
<div class="line"><span class="lineno">   57</span>      <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a8e90c1478f4be185364988cac765a163">FileNames</a>.push_back(argv[6]);</div>
<div class="line"><span class="lineno">   58</span>      <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a2bff863f66d44b865ce21762802730c8">TitleNames</a>.push_back(argv[7]);</div>
<div class="line"><span class="lineno">   59</span>    }</div>
<div class="line"><span class="lineno">   60</span> </div>
<div class="line"><span class="lineno">   61</span>    <a class="code hl_function" href="ProcessMCMC_8cpp.html#a83be70750a728e4deae518ea3ffaf388">MultipleProcessMCMC</a>();</div>
<div class="line"><span class="lineno">   62</span>  }</div>
<div class="line"><span class="lineno">   63</span> </div>
<div class="line"><span class="lineno">   64</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   65</span>}</div>
<div class="ttc" id="aMaCh3Logger_8h_html_a61052119a625282d0ec6d4a97adf3ee2"><div class="ttname"><a href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a></div><div class="ttdeci">#define MACH3LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="MaCh3Logger_8h_source.html#l00018">MaCh3Logger.h:18</a></div></div>
<div class="ttc" id="aMaCh3Logger_8h_html_aa603c55ea73cd86d1994901227883e1e"><div class="ttname"><a href="MaCh3Logger_8h.html#aa603c55ea73cd86d1994901227883e1e">SetMaCh3LoggerFormat</a></div><div class="ttdeci">void SetMaCh3LoggerFormat()</div><div class="ttdoc">Set messaging format of the logger.</div><div class="ttdef"><b>Definition:</b> <a href="MaCh3Logger_8h_source.html#l00023">MaCh3Logger.h:23</a></div></div>
<div class="ttc" id="aProcessMCMC_8cpp_html_a52c48199a4bcad577b88768020a91041"><div class="ttname"><a href="ProcessMCMC_8cpp.html#a52c48199a4bcad577b88768020a91041">ProcessMCMC</a></div><div class="ttdeci">void ProcessMCMC(const std::string &amp;inputFile)</div><div class="ttdoc">Main function processing MCMC and Producing plots.</div><div class="ttdef"><b>Definition:</b> <a href="ProcessMCMC_8cpp_source.html#l00067">ProcessMCMC.cpp:67</a></div></div>
<div class="ttc" id="aProcessMCMC_8cpp_html_a83be70750a728e4deae518ea3ffaf388"><div class="ttname"><a href="ProcessMCMC_8cpp.html#a83be70750a728e4deae518ea3ffaf388">MultipleProcessMCMC</a></div><div class="ttdeci">void MultipleProcessMCMC()</div><div class="ttdoc">Function producing comparison of posterior and more betwen a few MCMC chains.</div><div class="ttdef"><b>Definition:</b> <a href="ProcessMCMC_8cpp_source.html#l00146">ProcessMCMC.cpp:146</a></div></div>
<div class="ttc" id="aProcessMCMC_8cpp_html_a8e90c1478f4be185364988cac765a163"><div class="ttname"><a href="ProcessMCMC_8cpp.html#a8e90c1478f4be185364988cac765a163">FileNames</a></div><div class="ttdeci">std::vector&lt; std::string &gt; FileNames</div><div class="ttdef"><b>Definition:</b> <a href="ProcessMCMC_8cpp_source.html#l00022">ProcessMCMC.cpp:22</a></div></div>
<div class="ttc" id="aclassMaCh3Exception_html"><div class="ttname"><a href="classMaCh3Exception.html">MaCh3Exception</a></div><div class="ttdoc">Custom exception class for MaCh3 errors.</div><div class="ttdef"><b>Definition:</b> <a href="MaCh3Exception_8h_source.html#l00012">MaCh3Exception.h:12</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a83be70750a728e4deae518ea3ffaf388" name="a83be70750a728e4deae518ea3ffaf388"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83be70750a728e4deae518ea3ffaf388">&#9670;&#160;</a></span>MultipleProcessMCMC()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MultipleProcessMCMC </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function producing comparison of posterior and more betwen a few MCMC chains. </p>

<p class="definition">Definition at line <a class="el" href="ProcessMCMC_8cpp_source.html#l00146">146</a> of file <a class="el" href="ProcessMCMC_8cpp_source.html">ProcessMCMC.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  147</span>{</div>
<div class="line"><span class="lineno">  148</span>  YAML::Node card_yaml = YAML::LoadFile(<a class="code hl_variable" href="ProcessMCMC_8cpp.html#a13056efd080ab16304b6f7be0ebf0a61">config</a>.c_str());</div>
<div class="line"><span class="lineno">  149</span>  YAML::Node Settings = card_yaml[<span class="stringliteral">&quot;ProcessMCMC&quot;</span>];</div>
<div class="line"><span class="lineno">  150</span> </div>
<div class="line"><span class="lineno">  151</span>  <span class="keyword">const</span> Color_t PosteriorColor[] = {kBlue-1, kRed, kGreen+2};</div>
<div class="line"><span class="lineno">  152</span>  <span class="comment">//const Style_t PosteriorStyle[] = {kSolid, kDashed, kDotted};</span></div>
<div class="line"><span class="lineno">  153</span>  <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a> = int(<a class="code hl_variable" href="ProcessMCMC_8cpp.html#a8e90c1478f4be185364988cac765a163">FileNames</a>.size());</div>
<div class="line"><span class="lineno">  154</span>  <a class="code hl_class" href="classMCMCProcessor.html">MCMCProcessor</a>** Processor; </div>
<div class="line"><span class="lineno">  155</span>  Processor = <span class="keyword">new</span> <a class="code hl_class" href="classMCMCProcessor.html">MCMCProcessor</a>*[<a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>];</div>
<div class="line"><span class="lineno">  156</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ik = 0; ik &lt; <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>;  ik++)</div>
<div class="line"><span class="lineno">  157</span>  {</div>
<div class="line"><span class="lineno">  158</span>    <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;File for study: {}&quot;</span>, <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a8e90c1478f4be185364988cac765a163">FileNames</a>[ik]);</div>
<div class="line"><span class="lineno">  159</span>    <span class="comment">// Make the processor</span></div>
<div class="line"><span class="lineno">  160</span>    Processor[ik] = <span class="keyword">new</span> <a class="code hl_class" href="classMCMCProcessor.html">MCMCProcessor</a>(<a class="code hl_variable" href="ProcessMCMC_8cpp.html#a8e90c1478f4be185364988cac765a163">FileNames</a>[ik]);</div>
<div class="line"><span class="lineno">  161</span>    Processor[ik]-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a2f4bf14c95b830c457a73be5399403ad">SetOutputSuffix</a>((<span class="stringliteral">&quot;_&quot;</span> + std::to_string(ik)).c_str());</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>    Processor[ik]-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a4364a8ab084906c8925c9db9dc110485">SetExcludedTypes</a>(<a class="code hl_function" href="YamlHelper_8h.html#a1a6adcb8b24bfbdcb936ced6812e1b0c">GetFromManager</a>&lt;std::vector&lt;std::string&gt;&gt;(Settings[<span class="stringliteral">&quot;ExcludedTypes&quot;</span>], {<span class="stringliteral">&quot;&quot;</span>}));</div>
<div class="line"><span class="lineno">  164</span>    Processor[ik]-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a09a6fa6cefcb20c00bee22c1dc5718c5">SetExcludedNames</a>(<a class="code hl_function" href="YamlHelper_8h.html#a1a6adcb8b24bfbdcb936ced6812e1b0c">GetFromManager</a>&lt;std::vector&lt;std::string&gt;&gt;(Settings[<span class="stringliteral">&quot;ExcludedNames&quot;</span>], {<span class="stringliteral">&quot;&quot;</span>}));</div>
<div class="line"><span class="lineno">  165</span> </div>
<div class="line"><span class="lineno">  166</span>    <span class="comment">//Apply additional cuts to 1D posterior</span></div>
<div class="line"><span class="lineno">  167</span>    Processor[ik]-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a641da7f5e018d48d480638fbad6406a4">SetPosterior1DCut</a>(GetFromManager&lt;std::string&gt;(Settings[<span class="stringliteral">&quot;Posterior1DCut&quot;</span>], <span class="stringliteral">&quot;&quot;</span>));</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>    Processor[ik]-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a6ea549289949ac19d2fc768d82c8f1c9">SetPlotRelativeToPrior</a>(GetFromManager&lt;bool&gt;(Settings[<span class="stringliteral">&quot;PlotRelativeToPrior&quot;</span>], <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  170</span>    Processor[ik]-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a7f61cf0a51670f24f16dd7d77b7f5ae4">SetFancyNames</a>(GetFromManager&lt;bool&gt;(Settings[<span class="stringliteral">&quot;FancyNames&quot;</span>], <span class="keyword">true</span>));</div>
<div class="line"><span class="lineno">  171</span>    Processor[ik]-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a224995a0b47bd9cbd04e099cc3ca634c">Initialise</a>();</div>
<div class="line"><span class="lineno">  172</span>  }</div>
<div class="line"><span class="lineno">  173</span>  <span class="comment">//KS: Multithreading here is very tempting but there are some issues with root that need to be resovled :(</span></div>
<div class="line"><span class="lineno">  174</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ik = 0; ik &lt; <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>;  ik++)</div>
<div class="line"><span class="lineno">  175</span>  {</div>
<div class="line"><span class="lineno">  176</span>    <span class="comment">// Make the postfit</span></div>
<div class="line"><span class="lineno">  177</span>    Processor[ik]-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a8667510132aa01395520f028287f511b">MakePostfit</a>();</div>
<div class="line"><span class="lineno">  178</span>    Processor[ik]-&gt;<a class="code hl_function" href="classMCMCProcessor.html#ab420de77e598da4b02ba74cdc20f2ea9">DrawPostfit</a>();</div>
<div class="line"><span class="lineno">  179</span>  }</div>
<div class="line"><span class="lineno">  180</span> </div>
<div class="line"><span class="lineno">  181</span>  <span class="comment">// Open a TCanvas to write the posterior onto</span></div>
<div class="line"><span class="lineno">  182</span>  TCanvas* Posterior = <span class="keyword">new</span> TCanvas(<span class="stringliteral">&quot;PosteriorMulti&quot;</span>, <span class="stringliteral">&quot;PosteriorMulti&quot;</span>, 0, 0, 1024, 1024);</div>
<div class="line"><span class="lineno">  183</span>  gStyle-&gt;SetOptStat(0);</div>
<div class="line"><span class="lineno">  184</span>  gStyle-&gt;SetOptTitle(0);</div>
<div class="line"><span class="lineno">  185</span>  Posterior-&gt;SetGrid();</div>
<div class="line"><span class="lineno">  186</span>  Posterior-&gt;SetBottomMargin(0.1f);</div>
<div class="line"><span class="lineno">  187</span>  Posterior-&gt;SetTopMargin(0.05f);</div>
<div class="line"><span class="lineno">  188</span>  Posterior-&gt;SetRightMargin(0.03f);</div>
<div class="line"><span class="lineno">  189</span>  Posterior-&gt;SetLeftMargin(0.10f);</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>  <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a8e90c1478f4be185364988cac765a163">FileNames</a>[0] = <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a8e90c1478f4be185364988cac765a163">FileNames</a>[0].substr(0, <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a8e90c1478f4be185364988cac765a163">FileNames</a>[0].find(<span class="stringliteral">&quot;.root&quot;</span>)-1);</div>
<div class="line"><span class="lineno">  192</span>  TString canvasname = <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a8e90c1478f4be185364988cac765a163">FileNames</a>[0];</div>
<div class="line"><span class="lineno">  193</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ik = 1; ik &lt; <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>;  ik++)</div>
<div class="line"><span class="lineno">  194</span>  {</div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="ProcessMCMC_8cpp.html#a8e90c1478f4be185364988cac765a163">FileNames</a>[ik].find(<span class="stringliteral">&quot;/&quot;</span>) != std::string::npos)</div>
<div class="line"><span class="lineno">  196</span>    {</div>
<div class="line"><span class="lineno">  197</span>      <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a8e90c1478f4be185364988cac765a163">FileNames</a>[ik] = <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a8e90c1478f4be185364988cac765a163">FileNames</a>[ik].substr(<a class="code hl_variable" href="ProcessMCMC_8cpp.html#a8e90c1478f4be185364988cac765a163">FileNames</a>[ik].find(<span class="stringliteral">&quot;/&quot;</span>)+1, <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a8e90c1478f4be185364988cac765a163">FileNames</a>[ik].find(<span class="stringliteral">&quot;.root&quot;</span>)-1);</div>
<div class="line"><span class="lineno">  198</span>    }</div>
<div class="line"><span class="lineno">  199</span>    canvasname = canvasname + <span class="stringliteral">&quot;_&quot;</span>+<a class="code hl_variable" href="ProcessMCMC_8cpp.html#a8e90c1478f4be185364988cac765a163">FileNames</a>[ik];</div>
<div class="line"><span class="lineno">  200</span>  }</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>  canvasname = canvasname +<span class="stringliteral">&quot;.pdf[&quot;</span>;</div>
<div class="line"><span class="lineno">  203</span> </div>
<div class="line"><span class="lineno">  204</span>  Posterior-&gt;Print(canvasname);</div>
<div class="line"><span class="lineno">  205</span>  <span class="comment">// Once the pdf file is open no longer need to bracket</span></div>
<div class="line"><span class="lineno">  206</span>  canvasname.ReplaceAll(<span class="stringliteral">&quot;[&quot;</span>,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; Processor[0]-&gt;<a class="code hl_function" href="classMCMCProcessor.html#adbde2f115d983b233d0a9ea896187586">GetNParams</a>(); ++i) </div>
<div class="line"><span class="lineno">  209</span>  {</div>
<div class="line"><span class="lineno">  210</span>    <span class="comment">// This holds the posterior density</span></div>
<div class="line"><span class="lineno">  211</span>    TH1D **hpost = <span class="keyword">new</span> TH1D*[<a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>];</div>
<div class="line"><span class="lineno">  212</span>    TLine **hpd = <span class="keyword">new</span> TLine*[<a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>];</div>
<div class="line"><span class="lineno">  213</span>    hpost[0] = <span class="keyword">static_cast&lt;</span>TH1D *<span class="keyword">&gt;</span>(Processor[0]-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a70f5590946414af43c3b6c3a5cd315de">GetHpost</a>(i)-&gt;Clone());</div>
<div class="line"><span class="lineno">  214</span> </div>
<div class="line"><span class="lineno">  215</span>    <span class="keywordtype">bool</span> Skip = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  216</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ik = 1 ; ik &lt; <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>;  ik++)</div>
<div class="line"><span class="lineno">  217</span>    {</div>
<div class="line"><span class="lineno">  218</span>      <span class="comment">// KS: If somehow this chain doesn&#39;t given params we skip it</span></div>
<div class="line"><span class="lineno">  219</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> Index = Processor[ik]-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a5ab91183fbbf23fff759fefc9954a1a5">GetParamIndexFromName</a>(hpost[0]-&gt;GetTitle());</div>
<div class="line"><span class="lineno">  220</span>      <span class="keywordflow">if</span>(Index == <a class="code hl_define" href="MCMCProcessor_8h.html#a82a6d79039474bc403b627437a7b97ec">_UNDEF_</a>)</div>
<div class="line"><span class="lineno">  221</span>      {</div>
<div class="line"><span class="lineno">  222</span>        Skip = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  223</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  224</span>      }</div>
<div class="line"><span class="lineno">  225</span>      hpost[ik] = <span class="keyword">static_cast&lt;</span>TH1D *<span class="keyword">&gt;</span>(Processor[ik]-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a70f5590946414af43c3b6c3a5cd315de">GetHpost</a>(Index)-&gt;Clone());</div>
<div class="line"><span class="lineno">  226</span>    }</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>    <span class="comment">// Don&#39;t plot if this is a fixed histogram (i.e. the peak is the whole integral)</span></div>
<div class="line"><span class="lineno">  229</span>    <span class="keywordflow">if</span>(hpost[0]-&gt;GetMaximum() == hpost[0]-&gt;Integral()*1.5 || Skip)</div>
<div class="line"><span class="lineno">  230</span>    {</div>
<div class="line"><span class="lineno">  231</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ik = 0; ik &lt; <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>;  ik++)</div>
<div class="line"><span class="lineno">  232</span>        <span class="keyword">delete</span> hpost[ik];</div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>      <span class="keyword">delete</span>[] hpost;</div>
<div class="line"><span class="lineno">  235</span>      <span class="keyword">delete</span>[] hpd;</div>
<div class="line"><span class="lineno">  236</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  237</span>    }</div>
<div class="line"><span class="lineno">  238</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ik = 0; ik &lt; <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>;  ik++)</div>
<div class="line"><span class="lineno">  239</span>    {</div>
<div class="line"><span class="lineno">  240</span>      <a class="code hl_function" href="Structs_8cpp.html#a85463c0c6943e3d544d5fcb3f96bf18a">RemoveFitter</a>(hpost[ik], <span class="stringliteral">&quot;Gauss&quot;</span>);</div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span>      <span class="comment">// Set some nice colours</span></div>
<div class="line"><span class="lineno">  243</span>      hpost[ik]-&gt;SetLineColor(PosteriorColor[ik]);</div>
<div class="line"><span class="lineno">  244</span>      <span class="comment">//hpost[ik]-&gt;SetLineStyle(PosteriorStyle[ik]);</span></div>
<div class="line"><span class="lineno">  245</span>      hpost[ik]-&gt;SetLineWidth(2);</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>      <span class="comment">// Area normalise the distributions</span></div>
<div class="line"><span class="lineno">  248</span>      hpost[ik]-&gt;Scale(1./hpost[ik]-&gt;Integral(), <span class="stringliteral">&quot;width&quot;</span>);</div>
<div class="line"><span class="lineno">  249</span>    }</div>
<div class="line"><span class="lineno">  250</span>    TString Title;</div>
<div class="line"><span class="lineno">  251</span>    <span class="keywordtype">double</span> Prior = 1.0;</div>
<div class="line"><span class="lineno">  252</span>    <span class="keywordtype">double</span> PriorError = 1.0;</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>    Processor[0]-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a28dfe42f1bf6fd3a145287be1e63fb0b">GetNthParameter</a>(i, Prior, PriorError, Title);</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>    <span class="comment">// Now make the TLine for the Asimov</span></div>
<div class="line"><span class="lineno">  257</span>    TLine *Asimov = <span class="keyword">new</span> TLine(Prior,  hpost[0]-&gt;GetMinimum(), Prior,  hpost[0]-&gt;GetMaximum());</div>
<div class="line"><span class="lineno">  258</span>    Asimov-&gt;SetLineColor(kRed-3);</div>
<div class="line"><span class="lineno">  259</span>    Asimov-&gt;SetLineWidth(2);</div>
<div class="line"><span class="lineno">  260</span>    Asimov-&gt;SetLineStyle(kDashed);</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>    <span class="comment">// Make a nice little TLegend</span></div>
<div class="line"><span class="lineno">  263</span>    TLegend *leg = <span class="keyword">new</span> TLegend(0.12, 0.7, 0.6, 0.97);</div>
<div class="line"><span class="lineno">  264</span>    leg-&gt;SetTextSize(0.03f);</div>
<div class="line"><span class="lineno">  265</span>    leg-&gt;SetFillColor(0);</div>
<div class="line"><span class="lineno">  266</span>    leg-&gt;SetFillStyle(0);</div>
<div class="line"><span class="lineno">  267</span>    leg-&gt;SetLineColor(0);</div>
<div class="line"><span class="lineno">  268</span>    leg-&gt;SetLineStyle(0);</div>
<div class="line"><span class="lineno">  269</span>    TString asimovLeg = Form(<span class="stringliteral">&quot;#splitline{Prior}{x = %.2f , #sigma = %.2f}&quot;</span>, Prior, PriorError);</div>
<div class="line"><span class="lineno">  270</span>    leg-&gt;AddEntry(Asimov, asimovLeg, <span class="stringliteral">&quot;l&quot;</span>);</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ik = 0; ik &lt; <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>;  ik++)</div>
<div class="line"><span class="lineno">  273</span>    {</div>
<div class="line"><span class="lineno">  274</span>      TString rebinLeg = Form(<span class="stringliteral">&quot;#splitline{%s}{#mu = %.2f, #sigma = %.2f}&quot;</span>, <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a2bff863f66d44b865ce21762802730c8">TitleNames</a>[ik].c_str(), hpost[ik]-&gt;GetMean(), hpost[ik]-&gt;GetRMS());</div>
<div class="line"><span class="lineno">  275</span>      leg-&gt;AddEntry(hpost[ik],  rebinLeg, <span class="stringliteral">&quot;l&quot;</span>);</div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span>      hpd[ik] = <span class="keyword">new</span> TLine(hpost[ik]-&gt;GetBinCenter(hpost[ik]-&gt;GetMaximumBin()), hpost[ik]-&gt;GetMinimum(), hpost[ik]-&gt;GetBinCenter(hpost[ik]-&gt;GetMaximumBin()), hpost[ik]-&gt;GetMaximum());</div>
<div class="line"><span class="lineno">  278</span>      hpd[ik]-&gt;SetLineColor(hpost[ik]-&gt;GetLineColor());</div>
<div class="line"><span class="lineno">  279</span>      hpd[ik]-&gt;SetLineWidth(2);</div>
<div class="line"><span class="lineno">  280</span>      hpd[ik]-&gt;SetLineStyle(kSolid);</div>
<div class="line"><span class="lineno">  281</span>    }</div>
<div class="line"><span class="lineno">  282</span> </div>
<div class="line"><span class="lineno">  283</span>    <span class="comment">// Find the maximum value to nicely resize hist</span></div>
<div class="line"><span class="lineno">  284</span>    <span class="keywordtype">double</span> maximum = 0;</div>
<div class="line"><span class="lineno">  285</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ik = 0; ik &lt; <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>;  ik++) maximum = std::max(maximum, hpost[ik]-&gt;GetMaximum());</div>
<div class="line"><span class="lineno">  286</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ik = 0; ik &lt; <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>;  ik++) hpost[ik]-&gt;SetMaximum(1.3*maximum);</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>    hpost[0]-&gt;Draw(<span class="stringliteral">&quot;hist&quot;</span>);</div>
<div class="line"><span class="lineno">  289</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ik = 1; ik &lt; <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>;  ik++) hpost[ik]-&gt;Draw(<span class="stringliteral">&quot;hist same&quot;</span>);</div>
<div class="line"><span class="lineno">  290</span>    Asimov-&gt;Draw(<span class="stringliteral">&quot;same&quot;</span>);</div>
<div class="line"><span class="lineno">  291</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ik = 0; ik &lt; <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>;  ik++) hpd[ik]-&gt;Draw(<span class="stringliteral">&quot;same&quot;</span>);</div>
<div class="line"><span class="lineno">  292</span>    leg-&gt;Draw(<span class="stringliteral">&quot;same&quot;</span>);</div>
<div class="line"><span class="lineno">  293</span>    Posterior-&gt;cd();</div>
<div class="line"><span class="lineno">  294</span>    Posterior-&gt;Print(canvasname);</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>    <span class="keyword">delete</span> Asimov;</div>
<div class="line"><span class="lineno">  297</span>    <span class="keyword">delete</span> leg;</div>
<div class="line"><span class="lineno">  298</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ik = 0; ik &lt; <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>;  ik++)</div>
<div class="line"><span class="lineno">  299</span>    {</div>
<div class="line"><span class="lineno">  300</span>      <span class="keyword">delete</span> hpost[ik];</div>
<div class="line"><span class="lineno">  301</span>      <span class="keyword">delete</span> hpd[ik];</div>
<div class="line"><span class="lineno">  302</span>    }</div>
<div class="line"><span class="lineno">  303</span>    <span class="keyword">delete</span>[] hpost;</div>
<div class="line"><span class="lineno">  304</span>    <span class="keyword">delete</span>[] hpd;</div>
<div class="line"><span class="lineno">  305</span>  }<span class="comment">//End loop over parameters</span></div>
<div class="line"><span class="lineno">  306</span>    </div>
<div class="line"><span class="lineno">  307</span>  <span class="comment">// Finally draw the parameter plot onto the PDF</span></div>
<div class="line"><span class="lineno">  308</span>  <span class="comment">// Close the .pdf file with all the posteriors</span></div>
<div class="line"><span class="lineno">  309</span>  Posterior-&gt;cd();</div>
<div class="line"><span class="lineno">  310</span>  Posterior-&gt;Clear();</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>  <span class="keywordflow">if</span>(GetFromManager&lt;bool&gt;(Settings[<span class="stringliteral">&quot;PerformKStest&quot;</span>], <span class="keyword">true</span>)) <a class="code hl_function" href="ProcessMCMC_8cpp.html#aece705f01f7c21ad0d0f5f9f64af6d0d">KolmogorovSmirnovTest</a>(Processor, Posterior, canvasname);</div>
<div class="line"><span class="lineno">  313</span>  </div>
<div class="line"><span class="lineno">  314</span>  <span class="comment">// Close the pdf file</span></div>
<div class="line"><span class="lineno">  315</span>  <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;Closing pdf {}&quot;</span>, canvasname);</div>
<div class="line"><span class="lineno">  316</span>  canvasname+=<span class="stringliteral">&quot;]&quot;</span>;</div>
<div class="line"><span class="lineno">  317</span>  Posterior-&gt;Print(canvasname);</div>
<div class="line"><span class="lineno">  318</span>  </div>
<div class="line"><span class="lineno">  319</span>  <span class="keyword">delete</span> Posterior;</div>
<div class="line"><span class="lineno">  320</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ik = 0; ik &lt; <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a6b25bcddaae9b868109dc98a54476e46">nFiles</a>;  ik++) <span class="keyword">delete</span> Processor[ik];</div>
<div class="line"><span class="lineno">  321</span>  <span class="keyword">delete</span>[] Processor;</div>
<div class="line"><span class="lineno">  322</span>}</div>
<div class="ttc" id="aProcessMCMC_8cpp_html_aece705f01f7c21ad0d0f5f9f64af6d0d"><div class="ttname"><a href="ProcessMCMC_8cpp.html#aece705f01f7c21ad0d0f5f9f64af6d0d">KolmogorovSmirnovTest</a></div><div class="ttdeci">void KolmogorovSmirnovTest(MCMCProcessor **Processor, TCanvas *Posterior, TString canvasname)</div><div class="ttdoc">KS: Perform KS test to check if two posteriors for the same parameter came from the same distribution...</div><div class="ttdef"><b>Definition:</b> <a href="ProcessMCMC_8cpp_source.html#l00626">ProcessMCMC.cpp:626</a></div></div>
<div class="ttc" id="aStructs_8cpp_html_a85463c0c6943e3d544d5fcb3f96bf18a"><div class="ttname"><a href="Structs_8cpp.html#a85463c0c6943e3d544d5fcb3f96bf18a">RemoveFitter</a></div><div class="ttdeci">void RemoveFitter(TH1D *hist, const std::string &amp;name)</div><div class="ttdoc">KS: Remove fitted TF1 from hist to make comparison easier.</div><div class="ttdef"><b>Definition:</b> <a href="Structs_8cpp_source.html#l00419">Structs.cpp:419</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html"><div class="ttname"><a href="classMCMCProcessor.html">MCMCProcessor</a></div><div class="ttdoc">Class responsible for processing MCMC chains, performing diagnostics, generating plots,...</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8h_source.html#l00062">MCMCProcessor.h:62</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_a09a6fa6cefcb20c00bee22c1dc5718c5"><div class="ttname"><a href="classMCMCProcessor.html#a09a6fa6cefcb20c00bee22c1dc5718c5">MCMCProcessor::SetExcludedNames</a></div><div class="ttdeci">void SetExcludedNames(std::vector&lt; std::string &gt; Name)</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8h_source.html#l00236">MCMCProcessor.h:236</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_a224995a0b47bd9cbd04e099cc3ca634c"><div class="ttname"><a href="classMCMCProcessor.html#a224995a0b47bd9cbd04e099cc3ca634c">MCMCProcessor::Initialise</a></div><div class="ttdeci">void Initialise()</div><div class="ttdoc">Scan chain, what parameters we have and load information from covariance matrices.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8cpp_source.html#l00156">MCMCProcessor.cpp:156</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_a2f4bf14c95b830c457a73be5399403ad"><div class="ttname"><a href="classMCMCProcessor.html#a2f4bf14c95b830c457a73be5399403ad">MCMCProcessor::SetOutputSuffix</a></div><div class="ttdeci">void SetOutputSuffix(const std::string Suffix)</div><div class="ttdoc">Sett output suffix, this way jobs using the same file will have different names.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8h_source.html#l00244">MCMCProcessor.h:244</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_a4364a8ab084906c8925c9db9dc110485"><div class="ttname"><a href="classMCMCProcessor.html#a4364a8ab084906c8925c9db9dc110485">MCMCProcessor::SetExcludedTypes</a></div><div class="ttdeci">void SetExcludedTypes(std::vector&lt; std::string &gt; Name)</div><div class="ttdoc">Setter related what parameters we want to exclude from analysis, for example if cross-section paramet...</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8h_source.html#l00235">MCMCProcessor.h:235</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_a641da7f5e018d48d480638fbad6406a4"><div class="ttname"><a href="classMCMCProcessor.html#a641da7f5e018d48d480638fbad6406a4">MCMCProcessor::SetPosterior1DCut</a></div><div class="ttdeci">void SetPosterior1DCut(const std::string Cut)</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8h_source.html#l00245">MCMCProcessor.h:245</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_a6ea549289949ac19d2fc768d82c8f1c9"><div class="ttname"><a href="classMCMCProcessor.html#a6ea549289949ac19d2fc768d82c8f1c9">MCMCProcessor::SetPlotRelativeToPrior</a></div><div class="ttdeci">void SetPlotRelativeToPrior(const bool PlotOrNot)</div><div class="ttdoc">You can set relative to prior or relative to generated. It is advised to use relate to prior.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8h_source.html#l00221">MCMCProcessor.h:221</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_a7f61cf0a51670f24f16dd7d77b7f5ae4"><div class="ttname"><a href="classMCMCProcessor.html#a7f61cf0a51670f24f16dd7d77b7f5ae4">MCMCProcessor::SetFancyNames</a></div><div class="ttdeci">void SetFancyNames(const bool PlotOrNot)</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8h_source.html#l00226">MCMCProcessor.h:226</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_a8667510132aa01395520f028287f511b"><div class="ttname"><a href="classMCMCProcessor.html#a8667510132aa01395520f028287f511b">MCMCProcessor::MakePostfit</a></div><div class="ttdeci">void MakePostfit()</div><div class="ttdoc">Make 1D projection for each parameter and prepare structure.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8cpp_source.html#l00242">MCMCProcessor.cpp:242</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_ab420de77e598da4b02ba74cdc20f2ea9"><div class="ttname"><a href="classMCMCProcessor.html#ab420de77e598da4b02ba74cdc20f2ea9">MCMCProcessor::DrawPostfit</a></div><div class="ttdeci">void DrawPostfit()</div><div class="ttdoc">Draw the post-fit comparisons.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8cpp_source.html#l00441">MCMCProcessor.cpp:441</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a52c48199a4bcad577b88768020a91041" name="a52c48199a4bcad577b88768020a91041"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52c48199a4bcad577b88768020a91041">&#9670;&#160;</a></span>ProcessMCMC()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ProcessMCMC </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>inputFile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Main function processing MCMC and Producing plots. </p>

<p class="definition">Definition at line <a class="el" href="ProcessMCMC_8cpp_source.html#l00067">67</a> of file <a class="el" href="ProcessMCMC_8cpp_source.html">ProcessMCMC.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   68</span>{</div>
<div class="line"><span class="lineno">   69</span>  <a class="code hl_define" href="MaCh3Logger_8h.html#a95fa4dffc648e4c5536c9292c2bdcac3">MACH3LOG_INFO</a>(<span class="stringliteral">&quot;File for study: {} with config  {}&quot;</span>, inputFile, <a class="code hl_variable" href="ProcessMCMC_8cpp.html#a13056efd080ab16304b6f7be0ebf0a61">config</a>);</div>
<div class="line"><span class="lineno">   70</span>  <span class="comment">// Make the processor)</span></div>
<div class="line"><span class="lineno">   71</span>  <a class="code hl_class" href="classMCMCProcessor.html">MCMCProcessor</a>* Processor = <span class="keyword">new</span> <a class="code hl_class" href="classMCMCProcessor.html">MCMCProcessor</a>(inputFile);</div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span>  YAML::Node card_yaml = YAML::LoadFile(<a class="code hl_variable" href="ProcessMCMC_8cpp.html#a13056efd080ab16304b6f7be0ebf0a61">config</a>.c_str());</div>
<div class="line"><span class="lineno">   74</span>  YAML::Node Settings = card_yaml[<span class="stringliteral">&quot;ProcessMCMC&quot;</span>];</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span>  <span class="keywordtype">bool</span> PlotCorr = GetFromManager&lt;bool&gt;(Settings[<span class="stringliteral">&quot;PlotCorr&quot;</span>], <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span>  Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a4364a8ab084906c8925c9db9dc110485">SetExcludedTypes</a>(<a class="code hl_function" href="YamlHelper_8h.html#a1a6adcb8b24bfbdcb936ced6812e1b0c">GetFromManager</a>&lt;std::vector&lt;std::string&gt;&gt;(Settings[<span class="stringliteral">&quot;ExcludedTypes&quot;</span>], {<span class="stringliteral">&quot;&quot;</span>}));</div>
<div class="line"><span class="lineno">   79</span>  Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a09a6fa6cefcb20c00bee22c1dc5718c5">SetExcludedNames</a>(<a class="code hl_function" href="YamlHelper_8h.html#a1a6adcb8b24bfbdcb936ced6812e1b0c">GetFromManager</a>&lt;std::vector&lt;std::string&gt;&gt;(Settings[<span class="stringliteral">&quot;ExcludedNames&quot;</span>], {<span class="stringliteral">&quot;&quot;</span>}));</div>
<div class="line"><span class="lineno">   80</span>  <span class="comment">//Apply additional cuts to 1D posterior</span></div>
<div class="line"><span class="lineno">   81</span>  Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a641da7f5e018d48d480638fbad6406a4">SetPosterior1DCut</a>(GetFromManager&lt;std::string&gt;(Settings[<span class="stringliteral">&quot;Posterior1DCut&quot;</span>], <span class="stringliteral">&quot;&quot;</span>));</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span>  <span class="keywordflow">if</span>(PlotCorr) Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a2f4bf14c95b830c457a73be5399403ad">SetOutputSuffix</a>(<span class="stringliteral">&quot;_drawCorr&quot;</span>);</div>
<div class="line"><span class="lineno">   84</span>  <span class="comment">//KS:Turn off plotting detector and some other setting, should be via some config</span></div>
<div class="line"><span class="lineno">   85</span>  Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a6ea549289949ac19d2fc768d82c8f1c9">SetPlotRelativeToPrior</a>(GetFromManager&lt;bool&gt;(Settings[<span class="stringliteral">&quot;PlotRelativeToPrior&quot;</span>], <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">   86</span>  Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a9db87211d9f066011daed18af7f4631e">SetPrintToPDF</a>(GetFromManager&lt;bool&gt;(Settings[<span class="stringliteral">&quot;PrintToPDF&quot;</span>], <span class="keyword">true</span>));</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>  <span class="comment">//KS: Whether you want prior error bands for parameters with flat prior or not</span></div>
<div class="line"><span class="lineno">   89</span>  Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#adbe0ec06ce30447cb1c03a961364b929">SetPlotErrorForFlatPrior</a>(GetFromManager&lt;bool&gt;(Settings[<span class="stringliteral">&quot;PlotErrorForFlatPrior&quot;</span>], <span class="keyword">true</span>));</div>
<div class="line"><span class="lineno">   90</span>  Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a7f61cf0a51670f24f16dd7d77b7f5ae4">SetFancyNames</a>(GetFromManager&lt;bool&gt;(Settings[<span class="stringliteral">&quot;FancyNames&quot;</span>], <span class="keyword">true</span>));</div>
<div class="line"><span class="lineno">   91</span>  Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#aed120fafdfe97615f4c2a30aedde03dd">SetPlotBinValue</a>(GetFromManager&lt;bool&gt;(Settings[<span class="stringliteral">&quot;PlotBinValue&quot;</span>], <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">   92</span>  <span class="comment">//KS: Plot only 2D posteriors with correlations greater than 0.2</span></div>
<div class="line"><span class="lineno">   93</span>  Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#ab605f4d7bf4e2b24b4c0b1c5853b479f">SetPost2DPlotThreshold</a>(GetFromManager&lt;double&gt;(Settings[<span class="stringliteral">&quot;Post2DPlotThreshold&quot;</span>], 0.2));</div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span>  Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a224995a0b47bd9cbd04e099cc3ca634c">Initialise</a>();</div>
<div class="line"><span class="lineno">   96</span>  </div>
<div class="line"><span class="lineno">   97</span>  <span class="comment">// Make the postfit</span></div>
<div class="line"><span class="lineno">   98</span>  Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a8667510132aa01395520f028287f511b">MakePostfit</a>();</div>
<div class="line"><span class="lineno">   99</span>  Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#ab420de77e598da4b02ba74cdc20f2ea9">DrawPostfit</a>();</div>
<div class="line"><span class="lineno">  100</span>  <span class="comment">//KS: Should set via config whether you want below or not</span></div>
<div class="line"><span class="lineno">  101</span>  <span class="keywordflow">if</span>(GetFromManager&lt;bool&gt;(Settings[<span class="stringliteral">&quot;MakeCredibleIntervals&quot;</span>], <span class="keyword">true</span>)) {</div>
<div class="line"><span class="lineno">  102</span>    Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a17c0f09bfce82d1701a83645f748988a">MakeCredibleIntervals</a>(<a class="code hl_function" href="YamlHelper_8h.html#a1a6adcb8b24bfbdcb936ced6812e1b0c">GetFromManager</a>&lt;std::vector&lt;double&gt;&gt;(Settings[<span class="stringliteral">&quot;CredibleIntervals&quot;</span>], {0.99, 0.90, 0.68}),</div>
<div class="line"><span class="lineno">  103</span>                                     <a class="code hl_function" href="YamlHelper_8h.html#a1a6adcb8b24bfbdcb936ced6812e1b0c">GetFromManager</a>&lt;std::vector&lt;short int&gt;&gt;(Settings[<span class="stringliteral">&quot;CredibleIntervalsColours&quot;</span>], {436, 430, 422}),</div>
<div class="line"><span class="lineno">  104</span>                                     GetFromManager&lt;bool&gt;(Settings[<span class="stringliteral">&quot;CredibleInSigmas&quot;</span>], <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  105</span>  }</div>
<div class="line"><span class="lineno">  106</span>  <span class="keywordflow">if</span>(GetFromManager&lt;bool&gt;(Settings[<span class="stringliteral">&quot;CalcBayesFactor&quot;</span>], <span class="keyword">true</span>))  <a class="code hl_function" href="ProcessMCMC_8cpp.html#ac5381031738b5fa6481d7ac33d2ad854">CalcBayesFactor</a>(Processor);</div>
<div class="line"><span class="lineno">  107</span>  <span class="keywordflow">if</span>(GetFromManager&lt;bool&gt;(Settings[<span class="stringliteral">&quot;CalcSavageDickey&quot;</span>], <span class="keyword">true</span>)) <a class="code hl_function" href="ProcessMCMC_8cpp.html#af772f7bdfdba080075141597e9c99f79">CalcSavageDickey</a>(Processor);</div>
<div class="line"><span class="lineno">  108</span>  <span class="keywordflow">if</span>(GetFromManager&lt;bool&gt;(Settings[<span class="stringliteral">&quot;CalcBipolarPlot&quot;</span>], <span class="keyword">false</span>)) <a class="code hl_function" href="ProcessMCMC_8cpp.html#a2d9c3cc52d1f5c3cc3e0775ae596e9c7">CalcBipolarPlot</a>(Processor);</div>
<div class="line"><span class="lineno">  109</span>  <span class="keywordflow">if</span>(GetFromManager&lt;bool&gt;(Settings[<span class="stringliteral">&quot;CalcParameterEvolution&quot;</span>], <span class="keyword">false</span>)) <a class="code hl_function" href="ProcessMCMC_8cpp.html#a32bb8e776bea9a8b778cfece3200932c">CalcParameterEvolution</a>(Processor);</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>  <span class="keywordflow">if</span>(PlotCorr)</div>
<div class="line"><span class="lineno">  112</span>  {</div>
<div class="line"><span class="lineno">  113</span>    Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a4bec41cdc9af977a51b269e2a07fe961">SetSmoothing</a>(GetFromManager&lt;bool&gt;(Settings[<span class="stringliteral">&quot;Smoothing&quot;</span>], <span class="keyword">true</span>));</div>
<div class="line"><span class="lineno">  114</span>    <span class="comment">// Make the covariance matrix</span></div>
<div class="line"><span class="lineno">  115</span>    <span class="comment">//We have different treatment for multithread</span></div>
<div class="line"><span class="lineno">  116</span><span class="comment">//#ifdef MULTITHREAD</span></div>
<div class="line"><span class="lineno">  117</span>    Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#ace48a54fb08e2a3943d4e2ed1f8c4a4b">CacheSteps</a>();</div>
<div class="line"><span class="lineno">  118</span>    <span class="comment">//KS: Since we cached let&#39;s make fancy violins :)</span></div>
<div class="line"><span class="lineno">  119</span>    <span class="keywordflow">if</span>(GetFromManager&lt;bool&gt;(Settings[<span class="stringliteral">&quot;MakeViolin&quot;</span>], <span class="keyword">true</span>)) Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a04976c69f0ef0b3f39edcf5f25f90981">MakeViolin</a>();</div>
<div class="line"><span class="lineno">  120</span>    Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#ab367cb5f56606338bb1fce780f2414e8">MakeCovariance_MP</a>();</div>
<div class="line"><span class="lineno">  121</span><span class="comment">//#else</span></div>
<div class="line"><span class="lineno">  122</span>    <span class="comment">//Processor-&gt;MakeCovariance();</span></div>
<div class="line"><span class="lineno">  123</span><span class="comment">//#endif</span></div>
<div class="line"><span class="lineno">  124</span>    Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a8d9b9c1c780a51b130fe528583dc5019">DrawCovariance</a>();</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>    <span class="keyword">auto</span> <span class="keyword">const</span> &amp;MakeSubOptimality = Settings[<span class="stringliteral">&quot;MakeSubOptimality&quot;</span>];</div>
<div class="line"><span class="lineno">  127</span>    <span class="keywordflow">if</span>(MakeSubOptimality[0].as&lt;bool&gt;()) Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#afac304b884238cc3624f5471b43f1a7e">MakeSubOptimality</a>(MakeSubOptimality[1].as&lt;int&gt;());</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span>    <span class="keywordflow">if</span>(GetFromManager&lt;bool&gt;(Settings[<span class="stringliteral">&quot;MakeCredibleRegions&quot;</span>], <span class="keyword">false</span>)) {</div>
<div class="line"><span class="lineno">  130</span>      Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#a304adbe4407166ec42d76329c4bd17ff">MakeCredibleRegions</a>(<a class="code hl_function" href="YamlHelper_8h.html#a1a6adcb8b24bfbdcb936ced6812e1b0c">GetFromManager</a>&lt;std::vector&lt;double&gt;&gt;(Settings[<span class="stringliteral">&quot;CredibleRegions&quot;</span>], {0.99, 0.90, 0.68}),</div>
<div class="line"><span class="lineno">  131</span>                                     <a class="code hl_function" href="YamlHelper_8h.html#a1a6adcb8b24bfbdcb936ced6812e1b0c">GetFromManager</a>&lt;std::vector&lt;short int&gt;&gt;(Settings[<span class="stringliteral">&quot;CredibleRegionStyle&quot;</span>], {2, 1, 3}),</div>
<div class="line"><span class="lineno">  132</span>                                     <a class="code hl_function" href="YamlHelper_8h.html#a1a6adcb8b24bfbdcb936ced6812e1b0c">GetFromManager</a>&lt;std::vector&lt;short int&gt;&gt;(Settings[<span class="stringliteral">&quot;CredibleRegionColor&quot;</span>], {413, 406, 416}),</div>
<div class="line"><span class="lineno">  133</span>                                     GetFromManager&lt;bool&gt;(Settings[<span class="stringliteral">&quot;CredibleInSigmas&quot;</span>], <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  134</span>                                     );</div>
<div class="line"><span class="lineno">  135</span>    }</div>
<div class="line"><span class="lineno">  136</span>    <span class="keywordflow">if</span>(GetFromManager&lt;bool&gt;(Settings[<span class="stringliteral">&quot;GetTrianglePlot&quot;</span>], <span class="keyword">true</span>)) <a class="code hl_function" href="ProcessMCMC_8cpp.html#a02c2311b736096adc8525876c0ec1487">GetTrianglePlot</a>(Processor);</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>    <span class="comment">//KS: When creating covariance matrix longest time is spend on caching every step, since we already cached we can run some fancy covariance stability diagnostic</span></div>
<div class="line"><span class="lineno">  139</span>    <span class="keywordflow">if</span>(GetFromManager&lt;bool&gt;(Settings[<span class="stringliteral">&quot;DiagnoseCovarianceMatrix&quot;</span>], <span class="keyword">false</span>)) <a class="code hl_function" href="ProcessMCMC_8cpp.html#a08adc262bf03d1cb8df996b39404572c">DiagnoseCovarianceMatrix</a>(Processor, inputFile);</div>
<div class="line"><span class="lineno">  140</span>  }</div>
<div class="line"><span class="lineno">  141</span>  <span class="keywordflow">if</span>(GetFromManager&lt;bool&gt;(Settings[<span class="stringliteral">&quot;ReweightPrior&quot;</span>], <span class="keyword">false</span>)) <a class="code hl_function" href="ProcessMCMC_8cpp.html#abbd13994de9f24524b06b19aa901d73f">ReweightPrior</a>(Processor);</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>  <span class="keyword">delete</span> Processor;</div>
<div class="line"><span class="lineno">  144</span>}</div>
<div class="ttc" id="aProcessMCMC_8cpp_html_a02c2311b736096adc8525876c0ec1487"><div class="ttname"><a href="ProcessMCMC_8cpp.html#a02c2311b736096adc8525876c0ec1487">GetTrianglePlot</a></div><div class="ttdeci">void GetTrianglePlot(MCMCProcessor *Processor)</div><div class="ttdef"><b>Definition:</b> <a href="ProcessMCMC_8cpp_source.html#l00399">ProcessMCMC.cpp:399</a></div></div>
<div class="ttc" id="aProcessMCMC_8cpp_html_a08adc262bf03d1cb8df996b39404572c"><div class="ttname"><a href="ProcessMCMC_8cpp.html#a08adc262bf03d1cb8df996b39404572c">DiagnoseCovarianceMatrix</a></div><div class="ttdeci">void DiagnoseCovarianceMatrix(MCMCProcessor *Processor, const std::string &amp;inputFile)</div><div class="ttdoc">KS: You validate stability of posterior covariance matrix, you set burn calc cov matrix increase burn...</div><div class="ttdef"><b>Definition:</b> <a href="ProcessMCMC_8cpp_source.html#l00419">ProcessMCMC.cpp:419</a></div></div>
<div class="ttc" id="aProcessMCMC_8cpp_html_a2d9c3cc52d1f5c3cc3e0775ae596e9c7"><div class="ttname"><a href="ProcessMCMC_8cpp.html#a2d9c3cc52d1f5c3cc3e0775ae596e9c7">CalcBipolarPlot</a></div><div class="ttdeci">void CalcBipolarPlot(MCMCProcessor *Processor)</div><div class="ttdef"><b>Definition:</b> <a href="ProcessMCMC_8cpp_source.html#l00383">ProcessMCMC.cpp:383</a></div></div>
<div class="ttc" id="aProcessMCMC_8cpp_html_a32bb8e776bea9a8b778cfece3200932c"><div class="ttname"><a href="ProcessMCMC_8cpp.html#a32bb8e776bea9a8b778cfece3200932c">CalcParameterEvolution</a></div><div class="ttdeci">void CalcParameterEvolution(MCMCProcessor *Processor)</div><div class="ttdef"><b>Definition:</b> <a href="ProcessMCMC_8cpp_source.html#l00366">ProcessMCMC.cpp:366</a></div></div>
<div class="ttc" id="aProcessMCMC_8cpp_html_abbd13994de9f24524b06b19aa901d73f"><div class="ttname"><a href="ProcessMCMC_8cpp.html#abbd13994de9f24524b06b19aa901d73f">ReweightPrior</a></div><div class="ttdeci">void ReweightPrior(MCMCProcessor *Processor)</div><div class="ttdef"><b>Definition:</b> <a href="ProcessMCMC_8cpp_source.html#l00595">ProcessMCMC.cpp:595</a></div></div>
<div class="ttc" id="aProcessMCMC_8cpp_html_ac5381031738b5fa6481d7ac33d2ad854"><div class="ttname"><a href="ProcessMCMC_8cpp.html#ac5381031738b5fa6481d7ac33d2ad854">CalcBayesFactor</a></div><div class="ttdeci">void CalcBayesFactor(MCMCProcessor *Processor)</div><div class="ttdef"><b>Definition:</b> <a href="ProcessMCMC_8cpp_source.html#l00325">ProcessMCMC.cpp:325</a></div></div>
<div class="ttc" id="aProcessMCMC_8cpp_html_af772f7bdfdba080075141597e9c99f79"><div class="ttname"><a href="ProcessMCMC_8cpp.html#af772f7bdfdba080075141597e9c99f79">CalcSavageDickey</a></div><div class="ttdeci">void CalcSavageDickey(MCMCProcessor *Processor)</div><div class="ttdef"><b>Definition:</b> <a href="ProcessMCMC_8cpp_source.html#l00346">ProcessMCMC.cpp:346</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_a04976c69f0ef0b3f39edcf5f25f90981"><div class="ttname"><a href="classMCMCProcessor.html#a04976c69f0ef0b3f39edcf5f25f90981">MCMCProcessor::MakeViolin</a></div><div class="ttdeci">void MakeViolin()</div><div class="ttdoc">Make and Draw Violin.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8cpp_source.html#l00850">MCMCProcessor.cpp:850</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_a17c0f09bfce82d1701a83645f748988a"><div class="ttname"><a href="classMCMCProcessor.html#a17c0f09bfce82d1701a83645f748988a">MCMCProcessor::MakeCredibleIntervals</a></div><div class="ttdeci">void MakeCredibleIntervals(const std::vector&lt; double &gt; &amp;CredibleIntervals={0.99, 0.90, 0.68 }, const std::vector&lt; Color_t &gt; &amp;CredibleIntervalsColours={kCyan+4, kCyan-2, kCyan-10}, const bool CredibleInSigmas=false)</div><div class="ttdoc">Make and Draw Credible intervals.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8cpp_source.html#l00695">MCMCProcessor.cpp:695</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_a304adbe4407166ec42d76329c4bd17ff"><div class="ttname"><a href="classMCMCProcessor.html#a304adbe4407166ec42d76329c4bd17ff">MCMCProcessor::MakeCredibleRegions</a></div><div class="ttdeci">void MakeCredibleRegions(const std::vector&lt; double &gt; &amp;CredibleRegions={0.99, 0.90, 0.68}, const std::vector&lt; Style_t &gt; &amp;CredibleRegionStyle={kDashed, kSolid, kDotted}, const std::vector&lt; Color_t &gt; &amp;CredibleRegionColor={kGreen-3, kGreen-10, kGreen}, const bool CredibleInSigmas=false)</div><div class="ttdoc">Make and Draw Credible Regions.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8cpp_source.html#l01627">MCMCProcessor.cpp:1627</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_a4bec41cdc9af977a51b269e2a07fe961"><div class="ttname"><a href="classMCMCProcessor.html#a4bec41cdc9af977a51b269e2a07fe961">MCMCProcessor::SetSmoothing</a></div><div class="ttdeci">void SetSmoothing(const bool PlotOrNot)</div><div class="ttdoc">Set whether want to use smoothing for histograms using ROOT algorithm.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8h_source.html#l00228">MCMCProcessor.h:228</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_a8d9b9c1c780a51b130fe528583dc5019"><div class="ttname"><a href="classMCMCProcessor.html#a8d9b9c1c780a51b130fe528583dc5019">MCMCProcessor::DrawCovariance</a></div><div class="ttdeci">void DrawCovariance()</div><div class="ttdoc">Draw the post-fit covariances.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8cpp_source.html#l01387">MCMCProcessor.cpp:1387</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_ab367cb5f56606338bb1fce780f2414e8"><div class="ttname"><a href="classMCMCProcessor.html#ab367cb5f56606338bb1fce780f2414e8">MCMCProcessor::MakeCovariance_MP</a></div><div class="ttdeci">void MakeCovariance_MP(const bool Mute=false)</div><div class="ttdoc">Calculate covariance by making 2D projection of each combination of parameters using multithreading.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8cpp_source.html#l01209">MCMCProcessor.cpp:1209</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_ab605f4d7bf4e2b24b4c0b1c5853b479f"><div class="ttname"><a href="classMCMCProcessor.html#ab605f4d7bf4e2b24b4c0b1c5853b479f">MCMCProcessor::SetPost2DPlotThreshold</a></div><div class="ttdeci">void SetPost2DPlotThreshold(const double Threshold)</div><div class="ttdoc">Code will only plot 2D posteriors if Correlation are larger than defined threshold.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8h_source.html#l00231">MCMCProcessor.h:231</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_ace48a54fb08e2a3943d4e2ed1f8c4a4b"><div class="ttname"><a href="classMCMCProcessor.html#ace48a54fb08e2a3943d4e2ed1f8c4a4b">MCMCProcessor::CacheSteps</a></div><div class="ttdeci">void CacheSteps()</div><div class="ttdoc">KS:By caching each step we use multithreading.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8cpp_source.html#l01099">MCMCProcessor.cpp:1099</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_adbe0ec06ce30447cb1c03a961364b929"><div class="ttname"><a href="classMCMCProcessor.html#adbe0ec06ce30447cb1c03a961364b929">MCMCProcessor::SetPlotErrorForFlatPrior</a></div><div class="ttdeci">void SetPlotErrorForFlatPrior(const bool PlotOrNot)</div><div class="ttdoc">Set whether you want to plot error for parameters which have flat prior.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8h_source.html#l00224">MCMCProcessor.h:224</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_aed120fafdfe97615f4c2a30aedde03dd"><div class="ttname"><a href="classMCMCProcessor.html#aed120fafdfe97615f4c2a30aedde03dd">MCMCProcessor::SetPlotBinValue</a></div><div class="ttdeci">void SetPlotBinValue(const bool PlotOrNot)</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8h_source.html#l00225">MCMCProcessor.h:225</a></div></div>
<div class="ttc" id="aclassMCMCProcessor_html_afac304b884238cc3624f5471b43f1a7e"><div class="ttname"><a href="classMCMCProcessor.html#afac304b884238cc3624f5471b43f1a7e">MCMCProcessor::MakeSubOptimality</a></div><div class="ttdeci">void MakeSubOptimality(const int NIntervals=10)</div><div class="ttdoc">Make and Draw SubOptimality .</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8cpp_source.html#l01317">MCMCProcessor.cpp:1317</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abbd13994de9f24524b06b19aa901d73f" name="abbd13994de9f24524b06b19aa901d73f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbd13994de9f24524b06b19aa901d73f">&#9670;&#160;</a></span>ReweightPrior()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ReweightPrior </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMCMCProcessor.html">MCMCProcessor</a> *&#160;</td>
          <td class="paramname"><em>Processor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ProcessMCMC_8cpp_source.html#l00595">595</a> of file <a class="el" href="ProcessMCMC_8cpp_source.html">ProcessMCMC.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  596</span>{</div>
<div class="line"><span class="lineno">  597</span> </div>
<div class="line"><span class="lineno">  598</span>  YAML::Node card_yaml = YAML::LoadFile(<a class="code hl_variable" href="ProcessMCMC_8cpp.html#a13056efd080ab16304b6f7be0ebf0a61">config</a>.c_str());</div>
<div class="line"><span class="lineno">  599</span>  YAML::Node Settings = card_yaml[<span class="stringliteral">&quot;ProcessMCMC&quot;</span>];</div>
<div class="line"><span class="lineno">  600</span> </div>
<div class="line"><span class="lineno">  601</span>  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; Prior = Settings[<span class="stringliteral">&quot;PriorReweighting&quot;</span>];</div>
<div class="line"><span class="lineno">  602</span> </div>
<div class="line"><span class="lineno">  603</span>  std::vector&lt;std::string&gt; Names = Prior[0].as&lt;std::vector&lt;std::string&gt;&gt;();</div>
<div class="line"><span class="lineno">  604</span>  std::vector&lt;double&gt; NewCentral = Prior[1].as&lt;std::vector&lt;double&gt;&gt;();</div>
<div class="line"><span class="lineno">  605</span>  std::vector&lt;double&gt; NewError = Prior[2].as&lt;std::vector&lt;double&gt;&gt;();</div>
<div class="line"><span class="lineno">  606</span> </div>
<div class="line"><span class="lineno">  607</span>  Processor-&gt;<a class="code hl_function" href="classMCMCProcessor.html#ad3b1cfab21c7063bc29d1cf5dcca888c">ReweightPrior</a>(Names, NewCentral, NewError);</div>
<div class="line"><span class="lineno">  608</span>}</div>
<div class="ttc" id="aclassMCMCProcessor_html_ad3b1cfab21c7063bc29d1cf5dcca888c"><div class="ttname"><a href="classMCMCProcessor.html#ad3b1cfab21c7063bc29d1cf5dcca888c">MCMCProcessor::ReweightPrior</a></div><div class="ttdeci">void ReweightPrior(const std::vector&lt; std::string &gt; &amp;Names, const std::vector&lt; double &gt; &amp;NewCentral, const std::vector&lt; double &gt; &amp;NewError)</div><div class="ttdoc">Reweight Prior by giving new central value and new error.</div><div class="ttdef"><b>Definition:</b> <a href="MCMCProcessor_8cpp_source.html#l03039">MCMCProcessor.cpp:3039</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2052da75bc58457dc290c8cbd06efe30" name="a2052da75bc58457dc290c8cbd06efe30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2052da75bc58457dc290c8cbd06efe30">&#9670;&#160;</a></span>TMatrixIntoTH2D()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TH2D * TMatrixIntoTH2D </td>
          <td>(</td>
          <td class="paramtype">TMatrixDSym *&#160;</td>
          <td class="paramname"><em>Matrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>title</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>KS: Convert TMatrix to TH2D, mostly useful for making fancy plots. </p>

<p class="definition">Definition at line <a class="el" href="ProcessMCMC_8cpp_source.html#l00611">611</a> of file <a class="el" href="ProcessMCMC_8cpp_source.html">ProcessMCMC.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  612</span>{</div>
<div class="line"><span class="lineno">  613</span>  TH2D* hMatrix = <span class="keyword">new</span> TH2D(title.c_str(), title.c_str(), Matrix-&gt;GetNrows(), 0.0, Matrix-&gt;GetNrows(), Matrix-&gt;GetNcols(), 0.0, Matrix-&gt;GetNcols());</div>
<div class="line"><span class="lineno">  614</span>  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; Matrix-&gt;GetNrows(); i++)</div>
<div class="line"><span class="lineno">  615</span>  {</div>
<div class="line"><span class="lineno">  616</span>    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j = 0; j &lt; Matrix-&gt;GetNcols(); j++)</div>
<div class="line"><span class="lineno">  617</span>    {</div>
<div class="line"><span class="lineno">  618</span>      <span class="comment">//KS: +1 because there is offset in histogram relative to TMatrix</span></div>
<div class="line"><span class="lineno">  619</span>      hMatrix-&gt;SetBinContent(i+1,j+1, (*Matrix)(i,j));</div>
<div class="line"><span class="lineno">  620</span>    }</div>
<div class="line"><span class="lineno">  621</span>  }</div>
<div class="line"><span class="lineno">  622</span>  <span class="keywordflow">return</span> hMatrix;</div>
<div class="line"><span class="lineno">  623</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a13056efd080ab16304b6f7be0ebf0a61" name="a13056efd080ab16304b6f7be0ebf0a61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13056efd080ab16304b6f7be0ebf0a61">&#9670;&#160;</a></span>config</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string config</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ProcessMCMC_8cpp_source.html#l00024">24</a> of file <a class="el" href="ProcessMCMC_8cpp_source.html">ProcessMCMC.cpp</a>.</p>

</div>
</div>
<a id="a8e90c1478f4be185364988cac765a163" name="a8e90c1478f4be185364988cac765a163"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e90c1478f4be185364988cac765a163">&#9670;&#160;</a></span>FileNames</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; FileNames</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ProcessMCMC_8cpp_source.html#l00022">22</a> of file <a class="el" href="ProcessMCMC_8cpp_source.html">ProcessMCMC.cpp</a>.</p>

</div>
</div>
<a id="a6b25bcddaae9b868109dc98a54476e46" name="a6b25bcddaae9b868109dc98a54476e46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b25bcddaae9b868109dc98a54476e46">&#9670;&#160;</a></span>nFiles</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nFiles</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ProcessMCMC_8cpp_source.html#l00021">21</a> of file <a class="el" href="ProcessMCMC_8cpp_source.html">ProcessMCMC.cpp</a>.</p>

</div>
</div>
<a id="a2bff863f66d44b865ce21762802730c8" name="a2bff863f66d44b865ce21762802730c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bff863f66d44b865ce21762802730c8">&#9670;&#160;</a></span>TitleNames</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; TitleNames</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ProcessMCMC_8cpp_source.html#l00023">23</a> of file <a class="el" href="ProcessMCMC_8cpp_source.html">ProcessMCMC.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>

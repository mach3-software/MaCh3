<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MaCh3: Parameters/PCAHandler.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="MaCh3.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="mach3logo_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MaCh3
   &#160;<span id="projectnumber">2.3.2</span>
   </div>
   <div id="projectbrief">Reference Guide</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e05d56c3c81e8a80e8e7fed7226c4d57.html">Parameters</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">PCAHandler.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="PCAHandler_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// MaCh3 Includes</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Manager_8h.html">Manager/Manager.h</a>&quot;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ParameterHandlerUtils_8h.html">Parameters/ParameterHandlerUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">  #define DEBUG_PCA 1</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#ifdef DEBUG_PCA</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//KS: When debugging we produce some fancy plots, but we don&#39;t need it during normal work flow</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;TCanvas.h&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;TROOT.h&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;TStyle.h&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;TColor.h&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;TLine.h&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;TText.h&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;TLegend.h&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#if DEBUG_PCA == 2</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;Eigen/Eigenvalues&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="classPCAHandler.html">   60</a></span>&#160;<span class="keyword">class </span><a class="code" href="classPCAHandler.html">PCAHandler</a>{</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <a class="code" href="classPCAHandler.html#aabaaecfe5909a6cffbcc0e1a385615fa">PCAHandler</a>();</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classPCAHandler.html#a7f9957719671d1c673c74b5cd003dc76">~PCAHandler</a>();</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classPCAHandler.html#aebcdb9437110e45b8ba844c00f97f184">Print</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="classPCAHandler.html#a68ca4b7ae6ffe46eea112ed22b0d6dcf">   71</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classPCAHandler.html#a68ca4b7ae6ffe46eea112ed22b0d6dcf">GetNumberPCAedParameters</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classPCAHandler.html#a5f08019f3db758953464fb1d0db71ea0">NumParPCA</a>; }</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classPCAHandler.html#a842edaaee2eacb613891ba5bb2f31d9a">SetupPointers</a>(std::vector&lt;double&gt;* fCurr_Val,</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                     std::vector&lt;double&gt;* fProp_Val);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classPCAHandler.html#af7a1ae0e3fcfc6e319c86ae9cec2ac15">ConstructPCA</a>(TMatrixDSym * CovMatrix, <span class="keyword">const</span> <span class="keywordtype">int</span> firstPCAd, <span class="keyword">const</span> <span class="keywordtype">int</span> lastPCAd,</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">double</span> eigen_thresh, <span class="keyword">const</span> <span class="keywordtype">int</span> _fNumPar);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classPCAHandler.html#a7782b7f998d5a53ab88d76a41ff73fe4">TransferToPCA</a>();</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classPCAHandler.html#a93e5548b530c1cc6158e62f497ca3c59">TransferToParam</a>();</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classPCAHandler.html#a1316d16755cb320ea053b4351dbec7b1">ThrowParameters</a>(<span class="keyword">const</span> std::vector&lt;std::unique_ptr&lt;TRandom3&gt;&gt;&amp; random_number,</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                       <span class="keywordtype">double</span>** throwMatrixCholDecomp,</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                       <span class="keywordtype">double</span>* randParams,</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                       <span class="keywordtype">double</span>* corr_throw,</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                       <span class="keyword">const</span> std::vector&lt;double&gt;&amp; fPreFitValue,</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                       <span class="keyword">const</span> std::vector&lt;double&gt;&amp; fLowBound,</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                       <span class="keyword">const</span> std::vector&lt;double&gt;&amp; fUpBound,</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                       <span class="keywordtype">int</span> _fNumPar);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classPCAHandler.html#a7298eb3c337becf349d628c3049834f7">AcceptStep</a>() <a class="code" href="Core_8h.html#a2abc3d82639661d84964bed9e2df0e68">_noexcept_</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classPCAHandler.html#a733d8b6619a657223113f020db1327a7">CorrelateSteps</a>(const std::vector&lt;<span class="keywordtype">double</span>&gt;&amp; IndivStepScale,</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                      const <span class="keywordtype">double</span> GlobalStepScale,</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                      const <span class="keywordtype">double</span>* <a class="code" href="Core_8h.html#ab6a7e23420f0bcfb04f42f45f8283101">_restrict_</a> randParams,</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                      const <span class="keywordtype">double</span>* <a class="code" href="Core_8h.html#ab6a7e23420f0bcfb04f42f45f8283101">_restrict_</a> corr_throw) <a class="code" href="Core_8h.html#a2abc3d82639661d84964bed9e2df0e68">_noexcept_</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classPCAHandler.html#a6394496144bfd3d5c7c9ff84e088c05c">SetInitialParameters</a>();</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="group__ParameterHandlerSetters.html#ga30e81eb270628240460a20e2417a4dfc">SetBranches</a>(TTree &amp;tree, const <span class="keywordtype">bool</span> SaveProposal, const std::vector&lt;std::<span class="keywordtype">string</span>&gt;&amp; Names);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="group__ParameterHandlerSetters.html#ga17507b0213fe0c49a3a8b40dc7d1031e">ToggleFixAllParameters</a>(const std::vector&lt;std::<span class="keywordtype">string</span>&gt;&amp; Names);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="group__ParameterHandlerSetters.html#gac3f1dcc5f5cf931dbfeefa077c8f74ef">ToggleFixParameter</a>(const <span class="keywordtype">int</span> i, const std::vector&lt;std::<span class="keywordtype">string</span>&gt;&amp; Names);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="group__ParameterHandlerSetters.html#gaf50dcfe6ab3715d66c5b26d6c621b7f4">  127</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="group__ParameterHandlerSetters.html#gaf50dcfe6ab3715d66c5b26d6c621b7f4">SetParametersPCA</a>(const std::vector&lt;<span class="keywordtype">double</span>&gt; &amp;pars) {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">if</span> (<span class="keywordtype">int</span>(pars.size()) != <a class="code" href="classPCAHandler.html#a5f08019f3db758953464fb1d0db71ea0">NumParPCA</a>) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      <a class="code" href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a>(<span class="stringliteral">&quot;Parameter arrays of incompatible size! Not changing parameters! has size {} but was expecting {}&quot;</span>, pars.size(), <a class="code" href="classPCAHandler.html#a5f08019f3db758953464fb1d0db71ea0">NumParPCA</a>);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordflow">throw</span> <a class="code" href="classMaCh3Exception.html">MaCh3Exception</a>(__FILE__ , __LINE__ );</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordtype">int</span> parsSize = int(pars.size());</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; parsSize; i++) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      <a class="code" href="classPCAHandler.html#a407f24e3c76f3651a5f20cc2cab274f8">_fParPropPCA</a>(i) = pars[i];</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="comment">//KS: Transfer to normal base</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="classPCAHandler.html#a93e5548b530c1cc6158e62f497ca3c59">TransferToParam</a>();</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="group__ParameterHandlerGetters.html#ga5087aa5aba191f31170c1108210cdb26">  143</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="group__ParameterHandlerGetters.html#ga5087aa5aba191f31170c1108210cdb26">IsParameterFixedPCA</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> i)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classPCAHandler.html#aa9b859239b5e5c8e2bd35ad2118bf2dc">_fErrorPCA</a>[i] &lt; 0) { <span class="keywordflow">return</span> <span class="keyword">true</span>;  }</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">else</span>                   { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="group__ParameterHandlerGetters.html#gafd2534e2f1eb2b54e26af6a6da937b3c">  150</a></span>&#160;  <span class="keyword">const</span> TMatrixD <a class="code" href="group__ParameterHandlerGetters.html#gafd2534e2f1eb2b54e26af6a6da937b3c">GetEigenVectors</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classPCAHandler.html#a3ba9d34343ce0d0eeb4c020fa70486e2">eigen_vectors</a>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="group__ParameterHandlerSetters.html#ga737c5cad5cdff60c0a945aaddd2a6da3">  158</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="group__ParameterHandlerSetters.html#ga737c5cad5cdff60c0a945aaddd2a6da3">SetParPropPCA</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> i, <span class="keyword">const</span> <span class="keywordtype">double</span> value) {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="classPCAHandler.html#a407f24e3c76f3651a5f20cc2cab274f8">_fParPropPCA</a>(i) = value;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="comment">// And then transfer back to the parameter basis</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="classPCAHandler.html#a93e5548b530c1cc6158e62f497ca3c59">TransferToParam</a>();</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  }</div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="group__ParameterHandlerSetters.html#gae232ab07ae839b755912c7e23f3c835f">  167</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="group__ParameterHandlerSetters.html#gae232ab07ae839b755912c7e23f3c835f">SetParCurrPCA</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> i, <span class="keyword">const</span> <span class="keywordtype">double</span> value) {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="classPCAHandler.html#af1cd7c1c4471d99395efe53610a5357a">_fParCurrPCA</a>(i) = value;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="comment">// And then transfer back to the parameter basis</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="classPCAHandler.html#a93e5548b530c1cc6158e62f497ca3c59">TransferToParam</a>();</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="group__ParameterHandlerGetters.html#ga5a42efb45ecf02e0369ca02df5c2d7e7">  176</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="group__ParameterHandlerGetters.html#ga5a42efb45ecf02e0369ca02df5c2d7e7">GetParPropPCA</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> i)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classPCAHandler.html#a407f24e3c76f3651a5f20cc2cab274f8">_fParPropPCA</a>(i);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="group__ParameterHandlerGetters.html#ga86b25b9f099bf94ab18c20857358d9a2">  183</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="group__ParameterHandlerGetters.html#ga86b25b9f099bf94ab18c20857358d9a2">GetPreFitValuePCA</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> i)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classPCAHandler.html#ac0bd8123d71c40d713048ec4131d6b13">_fPreFitValuePCA</a>[i];</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="group__ParameterHandlerGetters.html#ga25aceab12943cd55812e80b64adba9d6">  190</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="group__ParameterHandlerGetters.html#ga25aceab12943cd55812e80b64adba9d6">GetParCurrPCA</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> i)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classPCAHandler.html#af1cd7c1c4471d99395efe53610a5357a">_fParCurrPCA</a>(i);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="group__ParameterHandlerGetters.html#ga2465505aca46f8c0503ad97126684a1e">  196</a></span>&#160;  <span class="keyword">const</span> TMatrixD <a class="code" href="group__ParameterHandlerGetters.html#ga2465505aca46f8c0503ad97126684a1e">GetTransferMatrix</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classPCAHandler.html#a1d9302633ed96ec57fbe26d25cbcee61">TransferMat</a>;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="group__ParameterHandlerGetters.html#gaa56af9e5ecb46813de98c51acb4325a0">  202</a></span>&#160;  <span class="keyword">const</span> TVectorD <a class="code" href="group__ParameterHandlerGetters.html#gaa56af9e5ecb46813de98c51acb4325a0">GetEigenValues</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classPCAHandler.html#a8d95ecb29e091e9b09c5011691516c28">eigen_values</a>;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  }</div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="group__ParameterHandlerGetters.html#ga25852f69dbfb5d9a39e4ef94a660e344">  207</a></span>&#160;  <span class="keyword">const</span> std::vector&lt;double&gt; <a class="code" href="group__ParameterHandlerGetters.html#ga25852f69dbfb5d9a39e4ef94a660e344">GetEigenValuesMaster</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classPCAHandler.html#a2924386fef0cf65215c51b4f81cdb0d1">eigen_values_master</a>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="group__ParameterHandlerGetters.html#ga88a89e8955f06dff98ac343d0f5e84e4">  214</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="group__ParameterHandlerGetters.html#ga88a89e8955f06dff98ac343d0f5e84e4">IsParameterDecomposed</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> i)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classPCAHandler.html#a10fecf91a038d034f55a08332dec0f4a">isDecomposedPCA</a>[i] &gt;= 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="preprocessor">  #ifdef DEBUG_PCA</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordtype">void</span> DebugPCA(<span class="keyword">const</span> <span class="keywordtype">double</span> sum, TMatrixD temp, TMatrixDSym submat, <span class="keywordtype">int</span> NumPar);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="preprocessor">  #endif</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classPCAHandler.html#af4ec4fac1abdd47240f7f5c041f7722a">SanitisePCA</a>(TMatrixDSym* CovMatrix);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="classPCAHandler.html#ac0bd8123d71c40d713048ec4131d6b13">  229</a></span>&#160;  std::vector&lt;double&gt; <a class="code" href="classPCAHandler.html#ac0bd8123d71c40d713048ec4131d6b13">_fPreFitValuePCA</a>;</div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="classPCAHandler.html#a407f24e3c76f3651a5f20cc2cab274f8">  231</a></span>&#160;  TVectorD <a class="code" href="classPCAHandler.html#a407f24e3c76f3651a5f20cc2cab274f8">_fParPropPCA</a>;</div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="classPCAHandler.html#af1cd7c1c4471d99395efe53610a5357a">  233</a></span>&#160;  TVectorD <a class="code" href="classPCAHandler.html#af1cd7c1c4471d99395efe53610a5357a">_fParCurrPCA</a>;</div>
<div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="classPCAHandler.html#aa9b859239b5e5c8e2bd35ad2118bf2dc">  235</a></span>&#160;  std::vector&lt;double&gt; <a class="code" href="classPCAHandler.html#aa9b859239b5e5c8e2bd35ad2118bf2dc">_fErrorPCA</a>;</div>
<div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="classPCAHandler.html#a10fecf91a038d034f55a08332dec0f4a">  237</a></span>&#160;  std::vector&lt;int&gt; <a class="code" href="classPCAHandler.html#a10fecf91a038d034f55a08332dec0f4a">isDecomposedPCA</a>;</div>
<div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="classPCAHandler.html#a5f08019f3db758953464fb1d0db71ea0">  239</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classPCAHandler.html#a5f08019f3db758953464fb1d0db71ea0">NumParPCA</a>;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="classPCAHandler.html#a1d9302633ed96ec57fbe26d25cbcee61">  242</a></span>&#160;  TMatrixD <a class="code" href="classPCAHandler.html#a1d9302633ed96ec57fbe26d25cbcee61">TransferMat</a>;</div>
<div class="line"><a name="l00244"></a><span class="lineno"><a class="line" href="classPCAHandler.html#a6f6443a487bb544e6a6e458d86f35f27">  244</a></span>&#160;  TMatrixD <a class="code" href="classPCAHandler.html#a6f6443a487bb544e6a6e458d86f35f27">TransferMatT</a>;</div>
<div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="classPCAHandler.html#a8d95ecb29e091e9b09c5011691516c28">  246</a></span>&#160;  TVectorD <a class="code" href="classPCAHandler.html#a8d95ecb29e091e9b09c5011691516c28">eigen_values</a>;</div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="classPCAHandler.html#a3ba9d34343ce0d0eeb4c020fa70486e2">  248</a></span>&#160;  TMatrixD <a class="code" href="classPCAHandler.html#a3ba9d34343ce0d0eeb4c020fa70486e2">eigen_vectors</a>;</div>
<div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="classPCAHandler.html#a2924386fef0cf65215c51b4f81cdb0d1">  250</a></span>&#160;  std::vector&lt;double&gt; <a class="code" href="classPCAHandler.html#a2924386fef0cf65215c51b4f81cdb0d1">eigen_values_master</a>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="classPCAHandler.html#aa39db9118399bebcdb784fe9c9fea458">  253</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classPCAHandler.html#aa39db9118399bebcdb784fe9c9fea458">nKeptPCApars</a>;</div>
<div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="classPCAHandler.html#afc00f628b947fd407d05790f4d0eaaec">  255</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classPCAHandler.html#afc00f628b947fd407d05790f4d0eaaec">FirstPCAdpar</a>;</div>
<div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="classPCAHandler.html#a954eeb975f1d7f9528ed7e027a54b21a">  257</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classPCAHandler.html#a954eeb975f1d7f9528ed7e027a54b21a">LastPCAdpar</a>;</div>
<div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="classPCAHandler.html#afdf5f929fe9211a2ce05f6bab2b8633a">  259</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classPCAHandler.html#afdf5f929fe9211a2ce05f6bab2b8633a">eigen_threshold</a>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="classPCAHandler.html#a6bea0a66f8f09ec08ee398a377a1f437">  262</a></span>&#160;  std::vector&lt;double&gt;* <a class="code" href="classPCAHandler.html#a6bea0a66f8f09ec08ee398a377a1f437">_pCurrVal</a>;</div>
<div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="classPCAHandler.html#a86d7b6c405ee97ebad2f5c8fe47ce4ee">  264</a></span>&#160;  std::vector&lt;double&gt;* <a class="code" href="classPCAHandler.html#a86d7b6c405ee97ebad2f5c8fe47ce4ee">_pPropVal</a>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;};</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="ttc" id="aCore_8h_html_a2abc3d82639661d84964bed9e2df0e68"><div class="ttname"><a href="Core_8h.html#a2abc3d82639661d84964bed9e2df0e68">_noexcept_</a></div><div class="ttdeci">#define _noexcept_</div><div class="ttdoc">KS: noexcept can help with performance but is terrible for debugging, this is meant to help easy way ...</div><div class="ttdef"><b>Definition:</b> <a href="Core_8h_source.html#l00096">Core.h:96</a></div></div>
<div class="ttc" id="aCore_8h_html_ab6a7e23420f0bcfb04f42f45f8283101"><div class="ttname"><a href="Core_8h.html#ab6a7e23420f0bcfb04f42f45f8283101">_restrict_</a></div><div class="ttdeci">#define _restrict_</div><div class="ttdoc">KS: Using restrict limits the effects of pointer aliasing, aiding optimizations. While reading I foun...</div><div class="ttdef"><b>Definition:</b> <a href="Core_8h_source.html#l00103">Core.h:103</a></div></div>
<div class="ttc" id="aMaCh3Logger_8h_html_a61052119a625282d0ec6d4a97adf3ee2"><div class="ttname"><a href="MaCh3Logger_8h.html#a61052119a625282d0ec6d4a97adf3ee2">MACH3LOG_ERROR</a></div><div class="ttdeci">#define MACH3LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="MaCh3Logger_8h_source.html#l00037">MaCh3Logger.h:37</a></div></div>
<div class="ttc" id="aManager_8h_html"><div class="ttname"><a href="Manager_8h.html">Manager.h</a></div></div>
<div class="ttc" id="aParameterHandlerUtils_8h_html"><div class="ttname"><a href="ParameterHandlerUtils_8h.html">ParameterHandlerUtils.h</a></div></div>
<div class="ttc" id="aclassMaCh3Exception_html"><div class="ttname"><a href="classMaCh3Exception.html">MaCh3Exception</a></div><div class="ttdoc">Custom exception class used throughout MaCh3.</div><div class="ttdef"><b>Definition:</b> <a href="MaCh3Exception_8h_source.html#l00023">MaCh3Exception.h:23</a></div></div>
<div class="ttc" id="aclassPCAHandler_html"><div class="ttname"><a href="classPCAHandler.html">PCAHandler</a></div><div class="ttdoc">Class responsible for handling Principal Component Analysis (PCA) of covariance matrix.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00060">PCAHandler.h:60</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_a10fecf91a038d034f55a08332dec0f4a"><div class="ttname"><a href="classPCAHandler.html#a10fecf91a038d034f55a08332dec0f4a">PCAHandler::isDecomposedPCA</a></div><div class="ttdeci">std::vector&lt; int &gt; isDecomposedPCA</div><div class="ttdoc">If param is decomposed this will return -1, if not this will return enumerator to param in normal bas...</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00237">PCAHandler.h:237</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_a1316d16755cb320ea053b4351dbec7b1"><div class="ttname"><a href="classPCAHandler.html#a1316d16755cb320ea053b4351dbec7b1">PCAHandler::ThrowParameters</a></div><div class="ttdeci">void ThrowParameters(const std::vector&lt; std::unique_ptr&lt; TRandom3 &gt;&gt; &amp;random_number, double **throwMatrixCholDecomp, double *randParams, double *corr_throw, const std::vector&lt; double &gt; &amp;fPreFitValue, const std::vector&lt; double &gt; &amp;fLowBound, const std::vector&lt; double &gt; &amp;fUpBound, int _fNumPar)</div><div class="ttdoc">Throw the parameters according to the covariance matrix. This shouldn't be used in MCMC code ase it c...</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8cpp_source.html#l00318">PCAHandler.cpp:318</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_a1d9302633ed96ec57fbe26d25cbcee61"><div class="ttname"><a href="classPCAHandler.html#a1d9302633ed96ec57fbe26d25cbcee61">PCAHandler::TransferMat</a></div><div class="ttdeci">TMatrixD TransferMat</div><div class="ttdoc">Matrix used to converting from PCA base to normal base.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00242">PCAHandler.h:242</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_a2924386fef0cf65215c51b4f81cdb0d1"><div class="ttname"><a href="classPCAHandler.html#a2924386fef0cf65215c51b4f81cdb0d1">PCAHandler::eigen_values_master</a></div><div class="ttdeci">std::vector&lt; double &gt; eigen_values_master</div><div class="ttdoc">Eigen values which have dimension equal to _fNumParPCA, and can be used in CorrelateSteps.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00250">PCAHandler.h:250</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_a3ba9d34343ce0d0eeb4c020fa70486e2"><div class="ttname"><a href="classPCAHandler.html#a3ba9d34343ce0d0eeb4c020fa70486e2">PCAHandler::eigen_vectors</a></div><div class="ttdeci">TMatrixD eigen_vectors</div><div class="ttdoc">Eigen vectors only of params which are being decomposed.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00248">PCAHandler.h:248</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_a407f24e3c76f3651a5f20cc2cab274f8"><div class="ttname"><a href="classPCAHandler.html#a407f24e3c76f3651a5f20cc2cab274f8">PCAHandler::_fParPropPCA</a></div><div class="ttdeci">TVectorD _fParPropPCA</div><div class="ttdoc">CW: Current parameter value in PCA base.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00231">PCAHandler.h:231</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_a5f08019f3db758953464fb1d0db71ea0"><div class="ttname"><a href="classPCAHandler.html#a5f08019f3db758953464fb1d0db71ea0">PCAHandler::NumParPCA</a></div><div class="ttdeci">int NumParPCA</div><div class="ttdoc">Number of parameters in PCA base.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00239">PCAHandler.h:239</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_a6394496144bfd3d5c7c9ff84e088c05c"><div class="ttname"><a href="classPCAHandler.html#a6394496144bfd3d5c7c9ff84e088c05c">PCAHandler::SetInitialParameters</a></div><div class="ttdeci">void SetInitialParameters()</div><div class="ttdoc">KS: Transfer the starting parameters to the PCA basis, you don't want to start with zero....</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8cpp_source.html#l00245">PCAHandler.cpp:245</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_a68ca4b7ae6ffe46eea112ed22b0d6dcf"><div class="ttname"><a href="classPCAHandler.html#a68ca4b7ae6ffe46eea112ed22b0d6dcf">PCAHandler::GetNumberPCAedParameters</a></div><div class="ttdeci">int GetNumberPCAedParameters() const</div><div class="ttdoc">Retrieve number of parameters in PCA base.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00071">PCAHandler.h:71</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_a6bea0a66f8f09ec08ee398a377a1f437"><div class="ttname"><a href="classPCAHandler.html#a6bea0a66f8f09ec08ee398a377a1f437">PCAHandler::_pCurrVal</a></div><div class="ttdeci">std::vector&lt; double &gt; * _pCurrVal</div><div class="ttdoc">Pointer to current value of the parameter.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00262">PCAHandler.h:262</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_a6f6443a487bb544e6a6e458d86f35f27"><div class="ttname"><a href="classPCAHandler.html#a6f6443a487bb544e6a6e458d86f35f27">PCAHandler::TransferMatT</a></div><div class="ttdeci">TMatrixD TransferMatT</div><div class="ttdoc">Matrix used to converting from normal base to PCA base.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00244">PCAHandler.h:244</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_a7298eb3c337becf349d628c3049834f7"><div class="ttname"><a href="classPCAHandler.html#a7298eb3c337becf349d628c3049834f7">PCAHandler::AcceptStep</a></div><div class="ttdeci">void AcceptStep() _noexcept_</div><div class="ttdoc">Accepted this step.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8cpp_source.html#l00179">PCAHandler.cpp:179</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_a733d8b6619a657223113f020db1327a7"><div class="ttname"><a href="classPCAHandler.html#a733d8b6619a657223113f020db1327a7">PCAHandler::CorrelateSteps</a></div><div class="ttdeci">void CorrelateSteps(const std::vector&lt; double &gt; &amp;IndivStepScale, const double GlobalStepScale, const double *_restrict_ randParams, const double *_restrict_ corr_throw) _noexcept_</div><div class="ttdoc">Use Cholesky throw matrix for better step proposal.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8cpp_source.html#l00194">PCAHandler.cpp:194</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_a7782b7f998d5a53ab88d76a41ff73fe4"><div class="ttname"><a href="classPCAHandler.html#a7782b7f998d5a53ab88d76a41ff73fe4">PCAHandler::TransferToPCA</a></div><div class="ttdeci">void TransferToPCA()</div><div class="ttdoc">Transfer param values from normal base to PCA base.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8cpp_source.html#l00230">PCAHandler.cpp:230</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_a7f9957719671d1c673c74b5cd003dc76"><div class="ttname"><a href="classPCAHandler.html#a7f9957719671d1c673c74b5cd003dc76">PCAHandler::~PCAHandler</a></div><div class="ttdeci">virtual ~PCAHandler()</div><div class="ttdoc">Destructor.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8cpp_source.html#l00012">PCAHandler.cpp:12</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_a842edaaee2eacb613891ba5bb2f31d9a"><div class="ttname"><a href="classPCAHandler.html#a842edaaee2eacb613891ba5bb2f31d9a">PCAHandler::SetupPointers</a></div><div class="ttdeci">void SetupPointers(std::vector&lt; double &gt; *fCurr_Val, std::vector&lt; double &gt; *fProp_Val)</div><div class="ttdoc">KS: Setup pointers to current and proposed parameter value which we need to convert them to PCA base ...</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8cpp_source.html#l00017">PCAHandler.cpp:17</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_a86d7b6c405ee97ebad2f5c8fe47ce4ee"><div class="ttname"><a href="classPCAHandler.html#a86d7b6c405ee97ebad2f5c8fe47ce4ee">PCAHandler::_pPropVal</a></div><div class="ttdeci">std::vector&lt; double &gt; * _pPropVal</div><div class="ttdoc">Pointer to proposed value of the parameter.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00264">PCAHandler.h:264</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_a8d95ecb29e091e9b09c5011691516c28"><div class="ttname"><a href="classPCAHandler.html#a8d95ecb29e091e9b09c5011691516c28">PCAHandler::eigen_values</a></div><div class="ttdeci">TVectorD eigen_values</div><div class="ttdoc">Eigen value only of particles which are being decomposed.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00246">PCAHandler.h:246</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_a93e5548b530c1cc6158e62f497ca3c59"><div class="ttname"><a href="classPCAHandler.html#a93e5548b530c1cc6158e62f497ca3c59">PCAHandler::TransferToParam</a></div><div class="ttdeci">void TransferToParam()</div><div class="ttdoc">Transfer param values from PCA base to normal base.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8cpp_source.html#l00255">PCAHandler.cpp:255</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_a954eeb975f1d7f9528ed7e027a54b21a"><div class="ttname"><a href="classPCAHandler.html#a954eeb975f1d7f9528ed7e027a54b21a">PCAHandler::LastPCAdpar</a></div><div class="ttdeci">int LastPCAdpar</div><div class="ttdoc">Index of the last param that is being decomposed.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00257">PCAHandler.h:257</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_aa39db9118399bebcdb784fe9c9fea458"><div class="ttname"><a href="classPCAHandler.html#aa39db9118399bebcdb784fe9c9fea458">PCAHandler::nKeptPCApars</a></div><div class="ttdeci">int nKeptPCApars</div><div class="ttdoc">Total number that remained after applying PCA Threshold.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00253">PCAHandler.h:253</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_aa9b859239b5e5c8e2bd35ad2118bf2dc"><div class="ttname"><a href="classPCAHandler.html#aa9b859239b5e5c8e2bd35ad2118bf2dc">PCAHandler::_fErrorPCA</a></div><div class="ttdeci">std::vector&lt; double &gt; _fErrorPCA</div><div class="ttdoc">Tells if parameter is fixed in PCA base or not.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00235">PCAHandler.h:235</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_aabaaecfe5909a6cffbcc0e1a385615fa"><div class="ttname"><a href="classPCAHandler.html#aabaaecfe5909a6cffbcc0e1a385615fa">PCAHandler::PCAHandler</a></div><div class="ttdeci">PCAHandler()</div><div class="ttdoc">Constructor.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8cpp_source.html#l00005">PCAHandler.cpp:5</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_ac0bd8123d71c40d713048ec4131d6b13"><div class="ttname"><a href="classPCAHandler.html#ac0bd8123d71c40d713048ec4131d6b13">PCAHandler::_fPreFitValuePCA</a></div><div class="ttdeci">std::vector&lt; double &gt; _fPreFitValuePCA</div><div class="ttdoc">Prefit value for PCA params.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00229">PCAHandler.h:229</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_aebcdb9437110e45b8ba844c00f97f184"><div class="ttname"><a href="classPCAHandler.html#aebcdb9437110e45b8ba844c00f97f184">PCAHandler::Print</a></div><div class="ttdeci">void Print() const</div><div class="ttdoc">KS: Print info about PCA parameters.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8cpp_source.html#l00270">PCAHandler.cpp:270</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_af1cd7c1c4471d99395efe53610a5357a"><div class="ttname"><a href="classPCAHandler.html#af1cd7c1c4471d99395efe53610a5357a">PCAHandler::_fParCurrPCA</a></div><div class="ttdeci">TVectorD _fParCurrPCA</div><div class="ttdoc">CW: Proposed parameter value in PCA base.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00233">PCAHandler.h:233</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_af4ec4fac1abdd47240f7f5c041f7722a"><div class="ttname"><a href="classPCAHandler.html#af4ec4fac1abdd47240f7f5c041f7722a">PCAHandler::SanitisePCA</a></div><div class="ttdeci">void SanitisePCA(TMatrixDSym *CovMatrix)</div><div class="ttdoc">KS: Make sure decomposed matrix isn't correlated with undecomposed.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8cpp_source.html#l00150">PCAHandler.cpp:150</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_af7a1ae0e3fcfc6e319c86ae9cec2ac15"><div class="ttname"><a href="classPCAHandler.html#af7a1ae0e3fcfc6e319c86ae9cec2ac15">PCAHandler::ConstructPCA</a></div><div class="ttdeci">void ConstructPCA(TMatrixDSym *CovMatrix, const int firstPCAd, const int lastPCAd, const double eigen_thresh, const int _fNumPar)</div><div class="ttdoc">CW: Calculate eigen values, prepare transition matrices and remove param based on defined threshold.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8cpp_source.html#l00025">PCAHandler.cpp:25</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_afc00f628b947fd407d05790f4d0eaaec"><div class="ttname"><a href="classPCAHandler.html#afc00f628b947fd407d05790f4d0eaaec">PCAHandler::FirstPCAdpar</a></div><div class="ttdeci">int FirstPCAdpar</div><div class="ttdoc">Index of the first param that is being decomposed.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00255">PCAHandler.h:255</a></div></div>
<div class="ttc" id="aclassPCAHandler_html_afdf5f929fe9211a2ce05f6bab2b8633a"><div class="ttname"><a href="classPCAHandler.html#afdf5f929fe9211a2ce05f6bab2b8633a">PCAHandler::eigen_threshold</a></div><div class="ttdeci">double eigen_threshold</div><div class="ttdoc">CW: Threshold based on which we remove parameters in eigen base.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00259">PCAHandler.h:259</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_ga2465505aca46f8c0503ad97126684a1e"><div class="ttname"><a href="group__ParameterHandlerGetters.html#ga2465505aca46f8c0503ad97126684a1e">PCAHandler::GetTransferMatrix</a></div><div class="ttdeci">const TMatrixD GetTransferMatrix() const</div><div class="ttdoc">Get transfer matrix allowing to go from PCA base to normal base.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00196">PCAHandler.h:196</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_ga25852f69dbfb5d9a39e4ef94a660e344"><div class="ttname"><a href="group__ParameterHandlerGetters.html#ga25852f69dbfb5d9a39e4ef94a660e344">PCAHandler::GetEigenValuesMaster</a></div><div class="ttdeci">const std::vector&lt; double &gt; GetEigenValuesMaster() const</div><div class="ttdoc">Get eigen value of only decomposed parameters, if you want for all parameters use GetEigenValues.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00207">PCAHandler.h:207</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_ga25aceab12943cd55812e80b64adba9d6"><div class="ttname"><a href="group__ParameterHandlerGetters.html#ga25aceab12943cd55812e80b64adba9d6">PCAHandler::GetParCurrPCA</a></div><div class="ttdeci">double GetParCurrPCA(const int i) const</div><div class="ttdoc">Get current parameter value using PCA.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00190">PCAHandler.h:190</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_ga5087aa5aba191f31170c1108210cdb26"><div class="ttname"><a href="group__ParameterHandlerGetters.html#ga5087aa5aba191f31170c1108210cdb26">PCAHandler::IsParameterFixedPCA</a></div><div class="ttdeci">bool IsParameterFixedPCA(const int i) const</div><div class="ttdoc">Is parameter fixed in PCA base or not.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00143">PCAHandler.h:143</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_ga5a42efb45ecf02e0369ca02df5c2d7e7"><div class="ttname"><a href="group__ParameterHandlerGetters.html#ga5a42efb45ecf02e0369ca02df5c2d7e7">PCAHandler::GetParPropPCA</a></div><div class="ttdeci">double GetParPropPCA(const int i) const</div><div class="ttdoc">Get current parameter value using PCA.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00176">PCAHandler.h:176</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_ga86b25b9f099bf94ab18c20857358d9a2"><div class="ttname"><a href="group__ParameterHandlerGetters.html#ga86b25b9f099bf94ab18c20857358d9a2">PCAHandler::GetPreFitValuePCA</a></div><div class="ttdeci">double GetPreFitValuePCA(const int i) const</div><div class="ttdoc">Get current parameter value using PCA.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00183">PCAHandler.h:183</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_ga88a89e8955f06dff98ac343d0f5e84e4"><div class="ttname"><a href="group__ParameterHandlerGetters.html#ga88a89e8955f06dff98ac343d0f5e84e4">PCAHandler::IsParameterDecomposed</a></div><div class="ttdeci">bool IsParameterDecomposed(const int i) const</div><div class="ttdoc">Check if parameter in PCA base is decomposed or not.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00214">PCAHandler.h:214</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_gaa56af9e5ecb46813de98c51acb4325a0"><div class="ttname"><a href="group__ParameterHandlerGetters.html#gaa56af9e5ecb46813de98c51acb4325a0">PCAHandler::GetEigenValues</a></div><div class="ttdeci">const TVectorD GetEigenValues() const</div><div class="ttdoc">Get eigen values for all parameters, if you want for decomposed only parameters use GetEigenValuesMas...</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00202">PCAHandler.h:202</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerGetters_html_gafd2534e2f1eb2b54e26af6a6da937b3c"><div class="ttname"><a href="group__ParameterHandlerGetters.html#gafd2534e2f1eb2b54e26af6a6da937b3c">PCAHandler::GetEigenVectors</a></div><div class="ttdeci">const TMatrixD GetEigenVectors() const</div><div class="ttdoc">Get eigen vectors of covariance matrix, only works with PCA.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00150">PCAHandler.h:150</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerSetters_html_ga17507b0213fe0c49a3a8b40dc7d1031e"><div class="ttname"><a href="group__ParameterHandlerSetters.html#ga17507b0213fe0c49a3a8b40dc7d1031e">PCAHandler::ToggleFixAllParameters</a></div><div class="ttdeci">void ToggleFixAllParameters(const std::vector&lt; std::string &gt; &amp;Names)</div><div class="ttdoc">fix parameters at prior values</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8cpp_source.html#l00294">PCAHandler.cpp:294</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerSetters_html_ga30e81eb270628240460a20e2417a4dfc"><div class="ttname"><a href="group__ParameterHandlerSetters.html#ga30e81eb270628240460a20e2417a4dfc">PCAHandler::SetBranches</a></div><div class="ttdeci">void SetBranches(TTree &amp;tree, const bool SaveProposal, const std::vector&lt; std::string &gt; &amp;Names)</div><div class="ttdoc">set branches for output file</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8cpp_source.html#l00279">PCAHandler.cpp:279</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerSetters_html_ga737c5cad5cdff60c0a945aaddd2a6da3"><div class="ttname"><a href="group__ParameterHandlerSetters.html#ga737c5cad5cdff60c0a945aaddd2a6da3">PCAHandler::SetParPropPCA</a></div><div class="ttdeci">void SetParPropPCA(const int i, const double value)</div><div class="ttdoc">Set proposed value for parameter in PCA base.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00158">PCAHandler.h:158</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerSetters_html_gac3f1dcc5f5cf931dbfeefa077c8f74ef"><div class="ttname"><a href="group__ParameterHandlerSetters.html#gac3f1dcc5f5cf931dbfeefa077c8f74ef">PCAHandler::ToggleFixParameter</a></div><div class="ttdeci">void ToggleFixParameter(const int i, const std::vector&lt; std::string &gt; &amp;Names)</div><div class="ttdoc">fix parameters at prior values</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8cpp_source.html#l00300">PCAHandler.cpp:300</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerSetters_html_gae232ab07ae839b755912c7e23f3c835f"><div class="ttname"><a href="group__ParameterHandlerSetters.html#gae232ab07ae839b755912c7e23f3c835f">PCAHandler::SetParCurrPCA</a></div><div class="ttdeci">void SetParCurrPCA(const int i, const double value)</div><div class="ttdoc">Set current value for parameter in PCA base.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00167">PCAHandler.h:167</a></div></div>
<div class="ttc" id="agroup__ParameterHandlerSetters_html_gaf50dcfe6ab3715d66c5b26d6c621b7f4"><div class="ttname"><a href="group__ParameterHandlerSetters.html#gaf50dcfe6ab3715d66c5b26d6c621b7f4">PCAHandler::SetParametersPCA</a></div><div class="ttdeci">void SetParametersPCA(const std::vector&lt; double &gt; &amp;pars)</div><div class="ttdoc">Set values for PCA parameters in PCA base.</div><div class="ttdef"><b>Definition:</b> <a href="PCAHandler_8h_source.html#l00127">PCAHandler.h:127</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- Footer for MaCh3 Doxygen documentation -->
<footer class="mach3-footer" style="text-align: center;">
    <div style="margin-bottom: 15px;">
        <span style="font-weight: bold;">The MaCh3 Collaboration</span>
    </div>
    <!-- Dropdown to jump between doc versions -->
    <div style="margin-bottom: 10px;">
        <span>Select Software Version: </span>
        <select id="versionSelector" onchange="window.location.href=this.value" style="padding: 5px; border-radius: 4px; border: 1px solid #ccc;">
            <option value="">-- Select --</option>
            <option value="https://mach3-software.github.io/MaCh3/">develop</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v2.3.0/index.html">v2.3.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v2.2.0/index.html">v2.2.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v2.1.0/index.html">v2.1.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v2.0.0/index.html">v2.0.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v1.5.0/index.html">v1.5.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v1.4.0/index.html">v1.4.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v1.3.0/index.html">v1.3.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v1.2.0/index.html">v1.2.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v1.1.0/index.html">v1.1.0</option>
        </select>
    </div>
    <!-- Footer info about doxygen -->
    <div style="font-size: 0.9em; color: #666; margin-top: 10px;">
        Documentation generated with
        <a href="https://www.doxygen.nl/" target="_blank" style="color: #666;">Doxygen</a>
        <span id="doxygenVersion"></span>
    </div>
    <!-- Now grab doxygen version from metadata -->
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        const meta = document.querySelector('meta[name="generator"]');
        if (meta) {
            const version = meta.getAttribute("content").replace("Doxygen ", "");
            document.getElementById("doxygenVersion").textContent = " " + version;
        }
    });
    </script>
</footer>

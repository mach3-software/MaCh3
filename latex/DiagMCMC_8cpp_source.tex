\hypertarget{DiagMCMC_8cpp_source}{}\doxysection{Diag\+MCMC.\+cpp}
\label{DiagMCMC_8cpp_source}\index{/home/runner/work/MaCh3/MaCh3/Diagnostics/DiagMCMC.cpp@{/home/runner/work/MaCh3/MaCh3/Diagnostics/DiagMCMC.cpp}}
\mbox{\hyperlink{DiagMCMC_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00001}00001\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{MCMCProcessor_8h}{mcmc/MCMCProcessor.h}}"{}}}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00003}00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{manager_8h}{manager/manager.h}}"{}}}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00008}\mbox{\hyperlink{DiagMCMC_8cpp_ae234755b7b483f97d2a48d8959e90a18}{00008}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{DiagMCMC_8cpp_ae234755b7b483f97d2a48d8959e90a18}{DiagMCMC}}(\textcolor{keyword}{const}\ std::string\&\ inputFile,\ \textcolor{keyword}{const}\ std::string\&\ \mbox{\hyperlink{ProcessMCMC_8cpp_a13056efd080ab16304b6f7be0ebf0a61}{config}})}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00009}00009\ \{}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00010}00010\ \ \ \mbox{\hyperlink{MaCh3Logger_8h_a95fa4dffc648e4c5536c9292c2bdcac3}{MACH3LOG\_INFO}}(\textcolor{stringliteral}{"{}File\ for\ study:\ \{\}"{}},\ inputFile);}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00012}00012\ \ \ YAML::Node\ Settings\ =\ YAML::LoadFile(\mbox{\hyperlink{ProcessMCMC_8cpp_a13056efd080ab16304b6f7be0ebf0a61}{config}});}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00014}00014\ \ \ \textcolor{comment}{//\ Make\ the\ processor}}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00015}00015\ \ \ \mbox{\hyperlink{classMCMCProcessor}{MCMCProcessor}}*\ Processor\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classMCMCProcessor}{MCMCProcessor}}(inputFile);}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00017}00017\ \ \ Processor-\/>\mbox{\hyperlink{classMCMCProcessor_a2f4bf14c95b830c457a73be5399403ad}{SetOutputSuffix}}(\textcolor{stringliteral}{"{}\_MCMC\_Diag"{}});}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00018}00018\ \ \ \textcolor{comment}{//KS:Turn\ off\ plotting\ detector\ and\ some\ other\ setting}}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00019}00019\ \ \ Processor-\/>\mbox{\hyperlink{classMCMCProcessor_a4364a8ab084906c8925c9db9dc110485}{SetExcludedTypes}}(\mbox{\hyperlink{YamlHelper_8h_a1a6adcb8b24bfbdcb936ced6812e1b0c}{GetFromManager}}<std::vector<std::string>>(Settings[\textcolor{stringliteral}{"{}DiagMCMC"{}}][\textcolor{stringliteral}{"{}ExcludedTypes"{}}],\ \{\textcolor{stringliteral}{"{}"{}}\}));}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00020}00020\ \ \ Processor-\/>\mbox{\hyperlink{classMCMCProcessor_a09a6fa6cefcb20c00bee22c1dc5718c5}{SetExcludedNames}}(\mbox{\hyperlink{YamlHelper_8h_a1a6adcb8b24bfbdcb936ced6812e1b0c}{GetFromManager}}<std::vector<std::string>>(Settings[\textcolor{stringliteral}{"{}DiagMCMC"{}}][\textcolor{stringliteral}{"{}ExcludedNames"{}}],\ \{\textcolor{stringliteral}{"{}"{}}\}));}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00021}00021\ \ \ Processor-\/>\mbox{\hyperlink{classMCMCProcessor_a6ea549289949ac19d2fc768d82c8f1c9}{SetPlotRelativeToPrior}}(GetFromManager<bool>(Settings[\textcolor{stringliteral}{"{}DiagMCMC"{}}][\textcolor{stringliteral}{"{}PlotRelativeToPrior"{}}],\ \textcolor{keyword}{false}));}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00022}00022\ \ \ \textcolor{comment}{//KS:\ Use\ 20\ batches\ for\ batched\ means}}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00023}00023\ \ \ Processor-\/>\mbox{\hyperlink{classMCMCProcessor_a5b13f1879f84d13b7d139432a9b993c6}{SetnBatches}}(GetFromManager<int>(Settings[\textcolor{stringliteral}{"{}DiagMCMC"{}}][\textcolor{stringliteral}{"{}nBatches"{}}],\ 20));}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00024}00024\ \ \ Processor-\/>\mbox{\hyperlink{classMCMCProcessor_a173d37d528ff201e66db8f92c156e3bb}{SetnLags}}(GetFromManager<int>(Settings[\textcolor{stringliteral}{"{}DiagMCMC"{}}][\textcolor{stringliteral}{"{}nLags"{}}],\ 25000));}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00025}00025\ \ \ Processor-\/>\mbox{\hyperlink{classMCMCProcessor_a9db87211d9f066011daed18af7f4631e}{SetPrintToPDF}}(GetFromManager<bool>(Settings[\textcolor{stringliteral}{"{}PrintToPDF"{}}],\ \textcolor{keyword}{true}));}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00026}00026\ \ \ Processor-\/>\mbox{\hyperlink{classMCMCProcessor_a224995a0b47bd9cbd04e099cc3ca634c}{Initialise}}();}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00028}00028\ \ \ \textcolor{comment}{//KS:\ finally\ call\ main\ method}}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00029}00029\ \ \ Processor-\/>\mbox{\hyperlink{classMCMCProcessor_a7f8faecae63616ba100cf24ae42ecc08}{DiagMCMC}}();}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00031}00031\ \ \ \textcolor{keyword}{delete}\ Processor;}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00032}00032\ \}}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00034}\mbox{\hyperlink{DiagMCMC_8cpp_a0ddf1224851353fc92bfbff6f499fa97}{00034}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{DiagMCMC_8cpp_a0ddf1224851353fc92bfbff6f499fa97}{main}}(\textcolor{keywordtype}{int}\ argc,\ \textcolor{keywordtype}{char}\ *argv[])\ \{}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00035}00035\ \ \ \mbox{\hyperlink{MaCh3Logger_8h_aa603c55ea73cd86d1994901227883e1e}{SetMaCh3LoggerFormat}}();}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00036}00036\ \ \ \textcolor{keywordflow}{if}\ (argc\ !=\ 3)}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00037}00037\ \ \ \{}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00038}00038\ \ \ \ \ \mbox{\hyperlink{MaCh3Logger_8h_a61052119a625282d0ec6d4a97adf3ee2}{MACH3LOG\_ERROR}}(\textcolor{stringliteral}{"{}How\ to\ use:\ DiagMCMC\ MCMC\_Output.root\ config"{}});}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00039}00039\ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{classMaCh3Exception}{MaCh3Exception}}(\_\_FILE\_\_\ ,\ \_\_LINE\_\_\ );}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00040}00040\ \ \ \}}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00041}00041\ \ \ \mbox{\hyperlink{MaCh3Logger_8h_a95fa4dffc648e4c5536c9292c2bdcac3}{MACH3LOG\_INFO}}(\textcolor{stringliteral}{"{}Producing\ single\ fit\ output"{}});}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00042}00042\ \ \ std::string\ filename\ =\ argv[1];}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00043}00043\ \ \ std::string\ \mbox{\hyperlink{ProcessMCMC_8cpp_a13056efd080ab16304b6f7be0ebf0a61}{config}}\ =\ argv[2];}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00044}00044\ \ \ \mbox{\hyperlink{DiagMCMC_8cpp_ae234755b7b483f97d2a48d8959e90a18}{DiagMCMC}}(filename,\ \mbox{\hyperlink{ProcessMCMC_8cpp_a13056efd080ab16304b6f7be0ebf0a61}{config}});}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00046}00046\ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\Hypertarget{DiagMCMC_8cpp_source_l00047}00047\ \}}

\end{DoxyCode}

\hypertarget{classadaptive__mcmc_1_1AdaptiveMCMCHandler}{}\doxysection{adaptive\+\_\+mcmc\+::Adaptive\+MCMCHandler Class Reference}
\label{classadaptive__mcmc_1_1AdaptiveMCMCHandler}\index{adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}}


Contains information about adaptive covariance matrix.  




{\ttfamily \#include $<$/home/runner/work/\+Ma\+Ch3/\+Ma\+Ch3/covariance/\+Adaptive\+MCMCHandler.\+h$>$}



Collaboration diagram for adaptive\+\_\+mcmc\+::Adaptive\+MCMCHandler\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=326pt]{classadaptive__mcmc_1_1AdaptiveMCMCHandler__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a8c1c9c62865ad7e2a9c9bdfa24ad54be}{Adaptive\+MCMCHandler}} ()
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a6b2d0d2f6dab5b6dc2b60cbe8f673cb7}{$\sim$\+Adaptive\+MCMCHandler}} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a5997a813faf68d891c62cbaf65984aca}{Print}} ()
\begin{DoxyCompactList}\small\item\em Print all class members. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a192304475bc377ef975ef40d2bd2b254}{Init\+From\+Config}} (const YAML\+::\+Node \&adapt\+\_\+manager, const std\+::string \&matrix\+\_\+name\+\_\+str, const int Npars)
\begin{DoxyCompactList}\small\item\em Read initial values from config file. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_ad7df80045651df99c2d1c375fea4ac74}{Create\+New\+Adaptive\+Covariance}} (const int Npars)
\begin{DoxyCompactList}\small\item\em If we don\textquotesingle{}t have a covariance matrix to start from for adaptive tune we need to make one! \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_ac47f80e6e94cbeb1cdb1a72563f35fe6}{Set\+Adaptive\+Blocks}} (std\+::vector$<$ std\+::vector$<$ int $>$ $>$ block\+\_\+indices, const int Npars)
\begin{DoxyCompactList}\small\item\em HW\+: sets adaptive block matrix. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a752d312d5fdd755af88b58880a9845ec}{Save\+Adaptive\+To\+File}} (const TString \&out\+File\+Name, const TString \&systematic\+Name)
\begin{DoxyCompactList}\small\item\em HW\+: Save adaptive throw matrix to file. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_aebd1df26766a9f106fe6ce4255ceb0d9}{Set\+Throw\+Matrix\+From\+File}} (const std\+::string \&matrix\+\_\+file\+\_\+name, const std\+::string \&matrix\+\_\+name, const std\+::string \&means\+\_\+name, bool \&use\+\_\+adaptive, const int Npars)
\begin{DoxyCompactList}\small\item\em sets throw matrix from a file \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a828e12f4ecb82252341af5f5e54f7ad3}{Update\+Adaptive\+Covariance}} (const std\+::vector$<$ double $>$ \&\+\_\+f\+Curr\+Val, const int Npars)
\begin{DoxyCompactList}\small\item\em Method to update adaptive MCMC. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a77726d0255edf32a817339fcbac30bee}{Indiv\+Step\+Scale\+Adapt}} ()
\begin{DoxyCompactList}\small\item\em Tell whether we want reset step scale or not. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a217c72a492c9d3e1b3a7b14626d19ab2}{Update\+Matrix\+Adapt}} ()
\begin{DoxyCompactList}\small\item\em Tell whether matrix should be updated. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a39a099e5712cf605190a53a4355c700c}{Adaption\+Update}} ()
\begin{DoxyCompactList}\small\item\em To be fair not a clue... \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_af797ab969eb8c1802afa12df8c2106d8}{Skip\+Adaption}} ()
\begin{DoxyCompactList}\small\item\em Tell if we are Skipping Adaption. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a9708ad2c46d0e7a9ac78f5377fbf8839}{start\+\_\+adaptive\+\_\+throw}}
\item 
int \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a59d194f84b46b159d367477f3d436e10}{start\+\_\+adaptive\+\_\+update}}
\begin{DoxyCompactList}\small\item\em When do we stop update the adaptive matrix. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_aa7d3703d1de3c3fbf32f37cadf58be08}{end\+\_\+adaptive\+\_\+update}}
\begin{DoxyCompactList}\small\item\em Steps between changing throw matrix. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_ac29758f6988af2d8271fe9950989baf4}{adaptive\+\_\+update\+\_\+step}}
\begin{DoxyCompactList}\small\item\em Steps between changing throw matrix. \end{DoxyCompactList}\item 
std\+::vector$<$ int $>$ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a23d17e906a663e2b48dd4dfc96300b02}{adapt\+\_\+block\+\_\+matrix\+\_\+indices}}
\begin{DoxyCompactList}\small\item\em Indices for block-\/matrix adaption. \end{DoxyCompactList}\item 
std\+::vector$<$ int $>$ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a639f1d4935965556ce4e3d36aef844ec}{adapt\+\_\+block\+\_\+sizes}}
\begin{DoxyCompactList}\small\item\em Size of blocks for adaption. \end{DoxyCompactList}\item 
std\+::vector$<$ double $>$ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a066984e9598e073d04edec51511cdf0a}{par\+\_\+means}}
\begin{DoxyCompactList}\small\item\em Mean values for all parameters. \end{DoxyCompactList}\item 
TMatrix\+DSym $\ast$ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_afd61e64f18f5c25dbbd6bb2bd619a268}{adaptive\+\_\+covariance}}
\begin{DoxyCompactList}\small\item\em Full adaptive covariance matrix. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_ab2837af4566e2d62db7b76f9527fb6d7}{total\+\_\+steps}}
\begin{DoxyCompactList}\small\item\em Total number of MCMC steps. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Contains information about adaptive covariance matrix. 

\begin{DoxySeeAlso}{See also}
An adaptive Metropolis algorithm, H.\+Haario et al., 2001 for more info!
\end{DoxySeeAlso}
struct encapsulating all adaptive MCMC information 

Definition at line \mbox{\hyperlink{AdaptiveMCMCHandler_8h_source_l00012}{12}} of file \mbox{\hyperlink{AdaptiveMCMCHandler_8h_source}{Adaptive\+MCMCHandler.\+h}}.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a8c1c9c62865ad7e2a9c9bdfa24ad54be}\label{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a8c1c9c62865ad7e2a9c9bdfa24ad54be}} 
\index{adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}!AdaptiveMCMCHandler@{AdaptiveMCMCHandler}}
\index{AdaptiveMCMCHandler@{AdaptiveMCMCHandler}!adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}}
\doxysubsubsection{\texorpdfstring{AdaptiveMCMCHandler()}{AdaptiveMCMCHandler()}}
{\footnotesize\ttfamily adaptive\+\_\+mcmc\+::\+Adaptive\+MCMCHandler\+::\+Adaptive\+MCMCHandler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Constructor. 



Definition at line \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source_l00006}{6}} of file \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source}{Adaptive\+MCMCHandler.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00006\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ ********************************************}}
\DoxyCodeLine{00008\ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a9708ad2c46d0e7a9ac78f5377fbf8839}{start\_adaptive\_throw}}\ \ =\ 0;}
\DoxyCodeLine{00009\ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a59d194f84b46b159d367477f3d436e10}{start\_adaptive\_update}}\ =\ 0;}
\DoxyCodeLine{00010\ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_aa7d3703d1de3c3fbf32f37cadf58be08}{end\_adaptive\_update}}\ \ \ =\ 1;}
\DoxyCodeLine{00011\ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_ac29758f6988af2d8271fe9950989baf4}{adaptive\_update\_step}}\ \ =\ 1000;}
\DoxyCodeLine{00012\ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_ab2837af4566e2d62db7b76f9527fb6d7}{total\_steps}}\ =\ 0;}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a066984e9598e073d04edec51511cdf0a}{par\_means}}\ =\ \{\};}
\DoxyCodeLine{00015\ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_afd61e64f18f5c25dbbd6bb2bd619a268}{adaptive\_covariance}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00016\ \}}

\end{DoxyCode}
\mbox{\Hypertarget{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a6b2d0d2f6dab5b6dc2b60cbe8f673cb7}\label{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a6b2d0d2f6dab5b6dc2b60cbe8f673cb7}} 
\index{adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}!````~AdaptiveMCMCHandler@{$\sim$AdaptiveMCMCHandler}}
\index{````~AdaptiveMCMCHandler@{$\sim$AdaptiveMCMCHandler}!adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}}
\doxysubsubsection{\texorpdfstring{$\sim$AdaptiveMCMCHandler()}{~AdaptiveMCMCHandler()}}
{\footnotesize\ttfamily adaptive\+\_\+mcmc\+::\+Adaptive\+MCMCHandler\+::$\sim$\+Adaptive\+MCMCHandler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Destructor. 



Definition at line \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source_l00019}{19}} of file \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source}{Adaptive\+MCMCHandler.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00020\ \textcolor{comment}{//\ ********************************************}}
\DoxyCodeLine{00021\ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_afd61e64f18f5c25dbbd6bb2bd619a268}{adaptive\_covariance}}\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keyword}{delete}\ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_afd61e64f18f5c25dbbd6bb2bd619a268}{adaptive\_covariance}};}
\DoxyCodeLine{00023\ \ \ \}}
\DoxyCodeLine{00024\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a39a099e5712cf605190a53a4355c700c}\label{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a39a099e5712cf605190a53a4355c700c}} 
\index{adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}!AdaptionUpdate@{AdaptionUpdate}}
\index{AdaptionUpdate@{AdaptionUpdate}!adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}}
\doxysubsubsection{\texorpdfstring{AdaptionUpdate()}{AdaptionUpdate()}}
{\footnotesize\ttfamily bool adaptive\+\_\+mcmc\+::\+Adaptive\+MCMCHandler\+::\+Adaption\+Update (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



To be fair not a clue... 



Definition at line \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source_l00260}{260}} of file \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source}{Adaptive\+MCMCHandler.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00261\ \textcolor{comment}{//\ ********************************************}}
\DoxyCodeLine{00262\ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_ab2837af4566e2d62db7b76f9527fb6d7}{total\_steps}}\ <=\ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a9708ad2c46d0e7a9ac78f5377fbf8839}{start\_adaptive\_throw}})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00263\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00264\ \}}

\end{DoxyCode}
\mbox{\Hypertarget{classadaptive__mcmc_1_1AdaptiveMCMCHandler_ad7df80045651df99c2d1c375fea4ac74}\label{classadaptive__mcmc_1_1AdaptiveMCMCHandler_ad7df80045651df99c2d1c375fea4ac74}} 
\index{adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}!CreateNewAdaptiveCovariance@{CreateNewAdaptiveCovariance}}
\index{CreateNewAdaptiveCovariance@{CreateNewAdaptiveCovariance}!adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}}
\doxysubsubsection{\texorpdfstring{CreateNewAdaptiveCovariance()}{CreateNewAdaptiveCovariance()}}
{\footnotesize\ttfamily void adaptive\+\_\+mcmc\+::\+Adaptive\+MCMCHandler\+::\+Create\+New\+Adaptive\+Covariance (\begin{DoxyParamCaption}\item[{const int}]{Npars }\end{DoxyParamCaption})}



If we don\textquotesingle{}t have a covariance matrix to start from for adaptive tune we need to make one! 



Definition at line \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source_l00075}{75}} of file \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source}{Adaptive\+MCMCHandler.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00076\ \textcolor{comment}{//\ ********************************************}}
\DoxyCodeLine{00077\ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_afd61e64f18f5c25dbbd6bb2bd619a268}{adaptive\_covariance}}\ =\ \textcolor{keyword}{new}\ TMatrixDSym(Npars);}
\DoxyCodeLine{00078\ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_afd61e64f18f5c25dbbd6bb2bd619a268}{adaptive\_covariance}}-\/>Zero();}
\DoxyCodeLine{00079\ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a066984e9598e073d04edec51511cdf0a}{par\_means}}\ =\ std::vector<double>(Npars,\ 0);}
\DoxyCodeLine{00080\ \}}

\end{DoxyCode}
\mbox{\Hypertarget{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a77726d0255edf32a817339fcbac30bee}\label{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a77726d0255edf32a817339fcbac30bee}} 
\index{adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}!IndivStepScaleAdapt@{IndivStepScaleAdapt}}
\index{IndivStepScaleAdapt@{IndivStepScaleAdapt}!adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}}
\doxysubsubsection{\texorpdfstring{IndivStepScaleAdapt()}{IndivStepScaleAdapt()}}
{\footnotesize\ttfamily bool adaptive\+\_\+mcmc\+::\+Adaptive\+MCMCHandler\+::\+Indiv\+Step\+Scale\+Adapt (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Tell whether we want reset step scale or not. 



Definition at line \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source_l00237}{237}} of file \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source}{Adaptive\+MCMCHandler.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00238\ \textcolor{comment}{//\ ********************************************}}
\DoxyCodeLine{00239\ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_ab2837af4566e2d62db7b76f9527fb6d7}{total\_steps}}\ ==\ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a9708ad2c46d0e7a9ac78f5377fbf8839}{start\_adaptive\_throw}})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00240\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00241\ \}}

\end{DoxyCode}
\mbox{\Hypertarget{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a192304475bc377ef975ef40d2bd2b254}\label{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a192304475bc377ef975ef40d2bd2b254}} 
\index{adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}!InitFromConfig@{InitFromConfig}}
\index{InitFromConfig@{InitFromConfig}!adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}}
\doxysubsubsection{\texorpdfstring{InitFromConfig()}{InitFromConfig()}}
{\footnotesize\ttfamily bool adaptive\+\_\+mcmc\+::\+Adaptive\+MCMCHandler\+::\+Init\+From\+Config (\begin{DoxyParamCaption}\item[{const YAML\+::\+Node \&}]{adapt\+\_\+manager,  }\item[{const std\+::string \&}]{matrix\+\_\+name\+\_\+str,  }\item[{const int}]{Npars }\end{DoxyParamCaption})}



Read initial values from config file. 


\begin{DoxyParams}{Parameters}
{\em adapt\+\_\+manager} & Config file from which we update matrix \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source_l00027}{27}} of file \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source}{Adaptive\+MCMCHandler.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00028\ \textcolor{comment}{//\ ********************************************}}
\DoxyCodeLine{00029\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00030\ \textcolor{comment}{\ \ \ *\ HW:\ Idea\ is\ that\ adaption\ can\ simply\ read\ the\ YAML\ config}}
\DoxyCodeLine{00031\ \textcolor{comment}{\ \ \ *\ Options\ :}}
\DoxyCodeLine{00032\ \textcolor{comment}{\ \ \ *\ \ \ \ \ \ \ \ \ External\ Info:}}
\DoxyCodeLine{00033\ \textcolor{comment}{\ \ \ *\ UseExternalMatrix\ [bool]\ \ \ \ \ :\ \ \ \ Use\ an\ external\ matrix}}
\DoxyCodeLine{00034\ \textcolor{comment}{\ \ \ *\ ExternalMatrixFileName\ [str]\ :\ \ \ \ Name\ of\ file\ containing\ external\ info}}
\DoxyCodeLine{00035\ \textcolor{comment}{\ \ \ *\ ExternalMatrixName\ [str]\ \ \ \ \ :\ \ \ \ Name\ of\ external\ Matrix}}
\DoxyCodeLine{00036\ \textcolor{comment}{\ \ \ *\ ExternalMeansName\ [str]\ \ \ \ \ \ :\ \ \ \ Name\ of\ external\ means\ vector\ [for\ updates]}}
\DoxyCodeLine{00037\ \textcolor{comment}{\ \ \ *}}
\DoxyCodeLine{00038\ \textcolor{comment}{\ \ \ *\ \ \ \ \ \ \ \ \ General\ Info:}}
\DoxyCodeLine{00039\ \textcolor{comment}{\ \ \ *\ DoAdaption\ [bool]\ \ \ \ \ \ \ \ \ \ \ \ :\ \ \ \ Do\ we\ want\ to\ do\ adaption?}}
\DoxyCodeLine{00040\ \textcolor{comment}{\ \ \ *\ AdaptionStartThrow\ [int]\ \ \ \ \ :\ \ \ \ Step\ we\ start\ throwing\ adaptive\ matrix\ from}}
\DoxyCodeLine{00041\ \textcolor{comment}{\ \ \ *\ AdaptionEndUpdate\ [int]\ \ \ \ \ \ :\ \ \ \ Step\ we\ stop\ updating\ adaptive\ matrix}}
\DoxyCodeLine{00042\ \textcolor{comment}{\ \ \ *\ AdaptionStartUpdate\ [int]\ \ \ \ :\ \ \ \ Do\ we\ skip\ the\ first\ N\ steps?}}
\DoxyCodeLine{00043\ \textcolor{comment}{\ \ \ *\ AdaptionUpdateStep\ [int]\ \ \ \ \ :\ \ \ \ Number\ of\ steps\ between\ matrix\ updates}}
\DoxyCodeLine{00044\ \textcolor{comment}{\ \ \ *\ Adaption\ blocks\ [vector<vector<int>>]\ :\ Splits\ the\ throw\ matrix\ into\ several\ block\ matrices}}
\DoxyCodeLine{00045\ \textcolor{comment}{\ \ \ */}}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \textcolor{comment}{//\ setAdaptionDefaults();}}
\DoxyCodeLine{00048\ \ \ \textcolor{keywordflow}{if}(!adapt\_manager[\textcolor{stringliteral}{"{}AdaptionOptions"{}}][\textcolor{stringliteral}{"{}Covariance"{}}][matrix\_name\_str])\ \{}
\DoxyCodeLine{00049\ \ \ \ \ \mbox{\hyperlink{MaCh3Logger_8h_ad5b2eb6377721e3ac95def22c2386bb1}{MACH3LOG\_WARN}}(\textcolor{stringliteral}{"{}Adaptive\ Settings\ not\ found\ for\ \{\},\ this\ is\ fine\ if\ you\ don't\ want\ adaptive\ MCMC"{}},\ matrix\_name\_str);}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00051\ \ \ \}}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \textcolor{comment}{//\ We"{}re\ going\ to\ grab\ this\ info\ from\ the\ YAML\ manager}}
\DoxyCodeLine{00054\ \ \ \textcolor{keywordflow}{if}(!GetFromManager<bool>(adapt\_manager[\textcolor{stringliteral}{"{}AdaptionOptions"{}}][\textcolor{stringliteral}{"{}Covariance"{}}][matrix\_name\_str][\textcolor{stringliteral}{"{}DoAdaption"{}}],\ \textcolor{keyword}{false}))\ \{}
\DoxyCodeLine{00055\ \ \ \ \ \mbox{\hyperlink{MaCh3Logger_8h_ad5b2eb6377721e3ac95def22c2386bb1}{MACH3LOG\_WARN}}(\textcolor{stringliteral}{"{}Not\ using\ adaption\ for\ \{\}"{}},\ matrix\_name\_str);}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00057\ \ \ \}}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a9708ad2c46d0e7a9ac78f5377fbf8839}{start\_adaptive\_throw}}\ \ =\ GetFromManager<int>(adapt\_manager[\textcolor{stringliteral}{"{}AdaptionOptions"{}}][\textcolor{stringliteral}{"{}Settings"{}}][\textcolor{stringliteral}{"{}AdaptionStartThrow"{}}],\ 10);}
\DoxyCodeLine{00060\ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a59d194f84b46b159d367477f3d436e10}{start\_adaptive\_update}}\ =\ GetFromManager<int>(adapt\_manager[\textcolor{stringliteral}{"{}AdaptionOptions"{}}][\textcolor{stringliteral}{"{}Settings"{}}][\textcolor{stringliteral}{"{}AdaptionStartUpdate"{}}],\ 0);}
\DoxyCodeLine{00061\ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_aa7d3703d1de3c3fbf32f37cadf58be08}{end\_adaptive\_update}}\ \ \ =\ GetFromManager<int>(adapt\_manager[\textcolor{stringliteral}{"{}AdaptionOptions"{}}][\textcolor{stringliteral}{"{}Settings"{}}][\textcolor{stringliteral}{"{}AdaptionEndUpdate"{}}],\ 10000);}
\DoxyCodeLine{00062\ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_ac29758f6988af2d8271fe9950989baf4}{adaptive\_update\_step}}\ \ =\ GetFromManager<int>(adapt\_manager[\textcolor{stringliteral}{"{}AdaptionOptions"{}}][\textcolor{stringliteral}{"{}Settings"{}}][\textcolor{stringliteral}{"{}AdaptionUpdateStep"{}}],\ 100);}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \textcolor{comment}{//\ We\ also\ want\ to\ check\ for\ "{}blocks"{}\ by\ default\ all\ parameters\ "{}know"{}\ about\ each\ other}}
\DoxyCodeLine{00065\ \ \ \textcolor{comment}{//\ but\ we\ can\ split\ the\ matrix\ into\ independent\ block\ matrices}}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \textcolor{comment}{//\ We"{}ll\ set\ a\ dummy\ variable\ here}}
\DoxyCodeLine{00068\ \ \ \textcolor{keyword}{auto}\ matrix\_blocks\ =\ GetFromManager<std::vector<std::vector<int>>>(adapt\_manager[\textcolor{stringliteral}{"{}AdaptionOptions"{}}][\textcolor{stringliteral}{"{}Settings"{}}][matrix\_name\_str][\textcolor{stringliteral}{"{}MatrixBlocks"{}}],\ \{\{\}\});}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_ac47f80e6e94cbeb1cdb1a72563f35fe6}{SetAdaptiveBlocks}}(matrix\_blocks,\ Npars);}
\DoxyCodeLine{00071\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00072\ \}}

\end{DoxyCode}
\mbox{\Hypertarget{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a5997a813faf68d891c62cbaf65984aca}\label{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a5997a813faf68d891c62cbaf65984aca}} 
\index{adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}!Print@{Print}}
\index{Print@{Print}!adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}}
\doxysubsubsection{\texorpdfstring{Print()}{Print()}}
{\footnotesize\ttfamily void adaptive\+\_\+mcmc\+::\+Adaptive\+MCMCHandler\+::\+Print (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Print all class members. 



Definition at line \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source_l00267}{267}} of file \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source}{Adaptive\+MCMCHandler.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00268\ \textcolor{comment}{//\ ********************************************}}
\DoxyCodeLine{00269\ \ \ \mbox{\hyperlink{MaCh3Logger_8h_a95fa4dffc648e4c5536c9292c2bdcac3}{MACH3LOG\_INFO}}(\textcolor{stringliteral}{"{}Adaptive\ MCMC\ Info:"{}});}
\DoxyCodeLine{00270\ \ \ \mbox{\hyperlink{MaCh3Logger_8h_a95fa4dffc648e4c5536c9292c2bdcac3}{MACH3LOG\_INFO}}(\textcolor{stringliteral}{"{}Throwing\ from\ New\ Matrix\ from\ Step\ :\ \{\}"{}},\ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a9708ad2c46d0e7a9ac78f5377fbf8839}{start\_adaptive\_throw}});}
\DoxyCodeLine{00271\ \ \ \mbox{\hyperlink{MaCh3Logger_8h_a95fa4dffc648e4c5536c9292c2bdcac3}{MACH3LOG\_INFO}}(\textcolor{stringliteral}{"{}Adaption\ Matrix\ Start\ Update\ \ \ \ \ \ \ :\ \{\}"{}},\ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a59d194f84b46b159d367477f3d436e10}{start\_adaptive\_update}});}
\DoxyCodeLine{00272\ \ \ \mbox{\hyperlink{MaCh3Logger_8h_a95fa4dffc648e4c5536c9292c2bdcac3}{MACH3LOG\_INFO}}(\textcolor{stringliteral}{"{}Adaption\ Matrix\ Ending\ Updates\ \ \ \ \ :\ \{\}"{}},\ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_aa7d3703d1de3c3fbf32f37cadf58be08}{end\_adaptive\_update}});}
\DoxyCodeLine{00273\ \ \ \mbox{\hyperlink{MaCh3Logger_8h_a95fa4dffc648e4c5536c9292c2bdcac3}{MACH3LOG\_INFO}}(\textcolor{stringliteral}{"{}Steps\ Between\ Updates\ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ \{\}"{}},\ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_ac29758f6988af2d8271fe9950989baf4}{adaptive\_update\_step}});}
\DoxyCodeLine{00274\ \}}

\end{DoxyCode}
\mbox{\Hypertarget{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a752d312d5fdd755af88b58880a9845ec}\label{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a752d312d5fdd755af88b58880a9845ec}} 
\index{adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}!SaveAdaptiveToFile@{SaveAdaptiveToFile}}
\index{SaveAdaptiveToFile@{SaveAdaptiveToFile}!adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}}
\doxysubsubsection{\texorpdfstring{SaveAdaptiveToFile()}{SaveAdaptiveToFile()}}
{\footnotesize\ttfamily void adaptive\+\_\+mcmc\+::\+Adaptive\+MCMCHandler\+::\+Save\+Adaptive\+To\+File (\begin{DoxyParamCaption}\item[{const TString \&}]{out\+File\+Name,  }\item[{const TString \&}]{systematic\+Name }\end{DoxyParamCaption})}



HW\+: Save adaptive throw matrix to file. 



Definition at line \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source_l00123}{123}} of file \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source}{Adaptive\+MCMCHandler.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00124\ \textcolor{comment}{//\ ********************************************}}
\DoxyCodeLine{00125\ \ \ TFile*\ outFile\ =\ \textcolor{keyword}{new}\ TFile(outFileName,\ \textcolor{stringliteral}{"{}UPDATE"{}});}
\DoxyCodeLine{00126\ \ \ \textcolor{keywordflow}{if}(outFile-\/>IsZombie())\{}
\DoxyCodeLine{00127\ \ \ \ \ \mbox{\hyperlink{MaCh3Logger_8h_a61052119a625282d0ec6d4a97adf3ee2}{MACH3LOG\_ERROR}}(\textcolor{stringliteral}{"{}Couldn't\ find\ \{\}"{}},\ outFileName);}
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{classMaCh3Exception}{MaCh3Exception}}(\_\_FILE\_\_\ ,\ \_\_LINE\_\_\ );}
\DoxyCodeLine{00129\ \ \ \}}
\DoxyCodeLine{00130\ \ \ TVectorD*\ outMeanVec\ =\ \textcolor{keyword}{new}\ TVectorD(\textcolor{keywordtype}{int}(\mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a066984e9598e073d04edec51511cdf0a}{par\_means}}.size()));}
\DoxyCodeLine{00131\ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ int(\mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a066984e9598e073d04edec51511cdf0a}{par\_means}}.size());\ i++)\{}
\DoxyCodeLine{00132\ \ \ \ \ (*outMeanVec)(i)\ =\ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a066984e9598e073d04edec51511cdf0a}{par\_means}}[i];}
\DoxyCodeLine{00133\ \ \ \}}
\DoxyCodeLine{00134\ \ \ outFile-\/>cd();}
\DoxyCodeLine{00135\ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_afd61e64f18f5c25dbbd6bb2bd619a268}{adaptive\_covariance}}-\/>Write(systematicName+\textcolor{stringliteral}{"{}\_postfit\_matrix"{}});}
\DoxyCodeLine{00136\ \ \ outMeanVec-\/>Write(systematicName+\textcolor{stringliteral}{"{}\_mean\_vec"{}});}
\DoxyCodeLine{00137\ \ \ outFile-\/>Close();}
\DoxyCodeLine{00138\ \ \ \textcolor{keyword}{delete}\ outMeanVec;}
\DoxyCodeLine{00139\ \ \ \textcolor{keyword}{delete}\ outFile;}
\DoxyCodeLine{00140\ \}}

\end{DoxyCode}
\mbox{\Hypertarget{classadaptive__mcmc_1_1AdaptiveMCMCHandler_ac47f80e6e94cbeb1cdb1a72563f35fe6}\label{classadaptive__mcmc_1_1AdaptiveMCMCHandler_ac47f80e6e94cbeb1cdb1a72563f35fe6}} 
\index{adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}!SetAdaptiveBlocks@{SetAdaptiveBlocks}}
\index{SetAdaptiveBlocks@{SetAdaptiveBlocks}!adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}}
\doxysubsubsection{\texorpdfstring{SetAdaptiveBlocks()}{SetAdaptiveBlocks()}}
{\footnotesize\ttfamily void adaptive\+\_\+mcmc\+::\+Adaptive\+MCMCHandler\+::\+Set\+Adaptive\+Blocks (\begin{DoxyParamCaption}\item[{std\+::vector$<$ std\+::vector$<$ int $>$ $>$}]{block\+\_\+indices,  }\item[{const int}]{Npars }\end{DoxyParamCaption})}



HW\+: sets adaptive block matrix. 


\begin{DoxyParams}{Parameters}
{\em block\+\_\+indices} & Values for sub-\/matrix blocks \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source_l00083}{83}} of file \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source}{Adaptive\+MCMCHandler.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00084\ \textcolor{comment}{//\ ********************************************}}
\DoxyCodeLine{00085\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00086\ \textcolor{comment}{\ \ \ *\ \ \ In\ order\ to\ adapt\ efficient\ we\ want\ to\ setup\ our\ throw\ matrix\ to\ be\ a\ serious\ of\ block-\/diagonal\ (ish)\ matrices}}
\DoxyCodeLine{00087\ \textcolor{comment}{\ \ \ *}}
\DoxyCodeLine{00088\ \textcolor{comment}{\ \ \ *\ \ \ To\ do\ this\ we\ set\ sub-\/block\ in\ the\ config\ by\ parameter\ index.\ For\ example\ having}}
\DoxyCodeLine{00089\ \textcolor{comment}{\ \ \ *\ \ \ [[0,4],[4,\ 6]]\ in\ your\ config\ will\ set\ up\ two\ blocks\ one\ with\ all\ indices\ 0<=i<4\ and\ the\ other\ with\ 4<=i<6}}
\DoxyCodeLine{00090\ \textcolor{comment}{\ \ \ */}}
\DoxyCodeLine{00091\ \ \ \textcolor{comment}{//\ Set\ up\ block\ regions}}
\DoxyCodeLine{00092\ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a23d17e906a663e2b48dd4dfc96300b02}{adapt\_block\_matrix\_indices}}\ =\ std::vector<int>(Npars,\ 0);}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \textcolor{comment}{//\ Should\ also\ make\ a\ matrix\ of\ block\ sizes}}
\DoxyCodeLine{00095\ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a639f1d4935965556ce4e3d36aef844ec}{adapt\_block\_sizes}}\ =\ std::vector<int>(block\_indices.size()+1,\ 0);}
\DoxyCodeLine{00096\ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a639f1d4935965556ce4e3d36aef844ec}{adapt\_block\_sizes}}[0]\ =\ Npars;}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \ \ \textcolor{keywordflow}{if}(block\_indices.size()==0\ ||\ block\_indices[0].size()==0)\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ \textcolor{comment}{//\ Now\ we\ loop\ over\ our\ blocks}}
\DoxyCodeLine{00101\ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ iblock=0;\ iblock<int(block\_indices.size());\ iblock++)\{}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{comment}{//\ Loop\ over\ blocks\ in\ the\ block}}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ isubblock=0;\ isubblock<int(block\_indices[iblock].\mbox{\hyperlink{GetPenaltyTerm_8cpp_a439227feff9d7f55384e8780cfc2eb82}{size}}())-\/1;\ isubblock+=2)\{}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ block\_lb\ =\ block\_indices[iblock][isubblock];}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ block\_ub\ =\ block\_indices[iblock][isubblock+1];}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(block\_lb\ >\ Npars\ ||\ block\_ub\ >\ Npars)\{}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{MaCh3Logger_8h_a61052119a625282d0ec6d4a97adf3ee2}{MACH3LOG\_ERROR}}(\textcolor{stringliteral}{"{}Cannot\ set\ matrix\ block\ with\ edges\ \{\},\ \{\}\ for\ matrix\ of\ size\ \{\}"{}},}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ block\_lb,\ block\_ub,\ Npars);}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{classMaCh3Exception}{MaCh3Exception}}(\_\_FILE\_\_,\ \_\_LINE\_\_);;}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ ipar\ =\ block\_lb;\ ipar\ <\ block\_ub;\ ipar++)\{}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a23d17e906a663e2b48dd4dfc96300b02}{adapt\_block\_matrix\_indices}}[ipar]\ =\ iblock+1;}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a639f1d4935965556ce4e3d36aef844ec}{adapt\_block\_sizes}}[iblock+1]\ +=\ 1;}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a639f1d4935965556ce4e3d36aef844ec}{adapt\_block\_sizes}}[0]\ -\/=\ 1;}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00117\ \ \ \ \ \}}
\DoxyCodeLine{00118\ \ \ \}}
\DoxyCodeLine{00119\ \}}

\end{DoxyCode}
\mbox{\Hypertarget{classadaptive__mcmc_1_1AdaptiveMCMCHandler_aebd1df26766a9f106fe6ce4255ceb0d9}\label{classadaptive__mcmc_1_1AdaptiveMCMCHandler_aebd1df26766a9f106fe6ce4255ceb0d9}} 
\index{adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}!SetThrowMatrixFromFile@{SetThrowMatrixFromFile}}
\index{SetThrowMatrixFromFile@{SetThrowMatrixFromFile}!adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}}
\doxysubsubsection{\texorpdfstring{SetThrowMatrixFromFile()}{SetThrowMatrixFromFile()}}
{\footnotesize\ttfamily void adaptive\+\_\+mcmc\+::\+Adaptive\+MCMCHandler\+::\+Set\+Throw\+Matrix\+From\+File (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{matrix\+\_\+file\+\_\+name,  }\item[{const std\+::string \&}]{matrix\+\_\+name,  }\item[{const std\+::string \&}]{means\+\_\+name,  }\item[{bool \&}]{use\+\_\+adaptive,  }\item[{const int}]{Npars }\end{DoxyParamCaption})}



sets throw matrix from a file 


\begin{DoxyParams}{Parameters}
{\em matrix\+\_\+file\+\_\+name} & name of file matrix lives in \\
\hline
{\em matrix\+\_\+name} & name of matrix in file \\
\hline
{\em means\+\_\+name} & name of means vec in file \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source_l00145}{145}} of file \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source}{Adaptive\+MCMCHandler.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00150\ \textcolor{comment}{//\ ********************************************}}
\DoxyCodeLine{00151\ \ \ \textcolor{comment}{//\ Lets\ you\ set\ the\ throw\ matrix\ externally}}
\DoxyCodeLine{00152\ \ \ \textcolor{comment}{//\ Open\ file}}
\DoxyCodeLine{00153\ \ \ std::unique\_ptr<TFile>matrix\_file(\textcolor{keyword}{new}\ TFile(matrix\_file\_name.c\_str()));}
\DoxyCodeLine{00154\ \ \ use\_adaptive\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \ \ \textcolor{keywordflow}{if}(matrix\_file-\/>IsZombie())\{}
\DoxyCodeLine{00157\ \ \ \ \ \mbox{\hyperlink{MaCh3Logger_8h_a61052119a625282d0ec6d4a97adf3ee2}{MACH3LOG\_ERROR}}(\textcolor{stringliteral}{"{}Couldn't\ find\ \{\}"{}},\ matrix\_file\_name);}
\DoxyCodeLine{00158\ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{classMaCh3Exception}{MaCh3Exception}}(\_\_FILE\_\_\ ,\ \_\_LINE\_\_\ );}
\DoxyCodeLine{00159\ \ \ \}}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00161\ \ \ \textcolor{comment}{//\ Next\ we\ grab\ our\ matrix}}
\DoxyCodeLine{00162\ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_afd61e64f18f5c25dbbd6bb2bd619a268}{adaptive\_covariance}}\ =\ \textcolor{keyword}{static\_cast<}TMatrixDSym*\textcolor{keyword}{>}(matrix\_file-\/>Get(matrix\_name.c\_str()));}
\DoxyCodeLine{00163\ \ \ \textcolor{keywordflow}{if}(!\mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_afd61e64f18f5c25dbbd6bb2bd619a268}{adaptive\_covariance}})\{}
\DoxyCodeLine{00164\ \ \ \ \ \mbox{\hyperlink{MaCh3Logger_8h_a61052119a625282d0ec6d4a97adf3ee2}{MACH3LOG\_ERROR}}(\textcolor{stringliteral}{"{}Couldn't\ find\ \{\}\ in\ \{\}"{}},\ matrix\_name,\ matrix\_file\_name);}
\DoxyCodeLine{00165\ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{classMaCh3Exception}{MaCh3Exception}}(\_\_FILE\_\_\ ,\ \_\_LINE\_\_\ );}
\DoxyCodeLine{00166\ \ \ \}}
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00168\ \ \ \textcolor{comment}{//\ Finally\ we\ grab\ the\ means\ vector}}
\DoxyCodeLine{00169\ \ \ TVectorD*\ means\_vector\ =\ \textcolor{keyword}{static\_cast<}TVectorD*\textcolor{keyword}{>}(matrix\_file-\/>Get(means\_name.c\_str()));}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00171\ \ \ \textcolor{comment}{//\ This\ is\ fine\ to\ not\ exist!}}
\DoxyCodeLine{00172\ \ \ \textcolor{keywordflow}{if}(means\_vector)\{}
\DoxyCodeLine{00173\ \ \ \ \ \textcolor{comment}{//\ Yay\ our\ vector\ exists!\ Let's\ loop\ and\ fill\ it}}
\DoxyCodeLine{00174\ \ \ \ \ \textcolor{comment}{//\ Should\ check\ this\ is\ done}}
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{keywordflow}{if}(means\_vector-\/>GetNrows())\{}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \mbox{\hyperlink{MaCh3Logger_8h_a61052119a625282d0ec6d4a97adf3ee2}{MACH3LOG\_ERROR}}(\textcolor{stringliteral}{"{}External\ means\ vec\ size\ (\{\})\ !=\ matrix\ size\ (\{\})"{}},\ means\_vector-\/>GetNrows(),\ Npars);}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{classMaCh3Exception}{MaCh3Exception}}(\_\_FILE\_\_,\ \_\_LINE\_\_);}
\DoxyCodeLine{00178\ \ \ \ \ \}}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a066984e9598e073d04edec51511cdf0a}{par\_means}}\ =\ std::vector<double>(Npars);}
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ Npars;\ i++)\{}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a066984e9598e073d04edec51511cdf0a}{par\_means}}[i]\ =\ (*means\_vector)(i);}
\DoxyCodeLine{00183\ \ \ \ \ \}}
\DoxyCodeLine{00184\ \ \ \ \ \mbox{\hyperlink{MaCh3Logger_8h_a95fa4dffc648e4c5536c9292c2bdcac3}{MACH3LOG\_INFO}}(\textcolor{stringliteral}{"{}Found\ Means\ in\ External\ File,\ Will\ be\ able\ to\ adapt"{}});}
\DoxyCodeLine{00185\ \ \ \}}
\DoxyCodeLine{00186\ \ \ \textcolor{comment}{//\ Totally\ fine\ if\ it\ doesn't\ exist,\ we\ just\ can't\ do\ adaption}}
\DoxyCodeLine{00187\ \ \ \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{comment}{//\ We\ don't\ need\ a\ means\ vector,\ set\ the\ adaption=false}}
\DoxyCodeLine{00189\ \ \ \ \ \mbox{\hyperlink{MaCh3Logger_8h_ad5b2eb6377721e3ac95def22c2386bb1}{MACH3LOG\_WARN}}(\textcolor{stringliteral}{"{}Cannot\ find\ means\ vector\ in\ \{\},\ therefore\ I\ will\ not\ be\ able\ to\ adapt!"{}},\ matrix\_file\_name);}
\DoxyCodeLine{00190\ \ \ \ \ use\_adaptive\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00191\ \ \ \}}
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00193\ \ \ matrix\_file-\/>Close();}
\DoxyCodeLine{00194\ \ \ \mbox{\hyperlink{MaCh3Logger_8h_a95fa4dffc648e4c5536c9292c2bdcac3}{MACH3LOG\_INFO}}(\textcolor{stringliteral}{"{}Set\ up\ matrix\ from\ external\ file"{}});}
\DoxyCodeLine{00195\ \}}

\end{DoxyCode}
\mbox{\Hypertarget{classadaptive__mcmc_1_1AdaptiveMCMCHandler_af797ab969eb8c1802afa12df8c2106d8}\label{classadaptive__mcmc_1_1AdaptiveMCMCHandler_af797ab969eb8c1802afa12df8c2106d8}} 
\index{adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}!SkipAdaption@{SkipAdaption}}
\index{SkipAdaption@{SkipAdaption}!adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}}
\doxysubsubsection{\texorpdfstring{SkipAdaption()}{SkipAdaption()}}
{\footnotesize\ttfamily bool adaptive\+\_\+mcmc\+::\+Adaptive\+MCMCHandler\+::\+Skip\+Adaption (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Tell if we are Skipping Adaption. 



Definition at line \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source_l00252}{252}} of file \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source}{Adaptive\+MCMCHandler.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00253\ \textcolor{comment}{//\ ********************************************}}
\DoxyCodeLine{00254\ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_ab2837af4566e2d62db7b76f9527fb6d7}{total\_steps}}\ >\ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_aa7d3703d1de3c3fbf32f37cadf58be08}{end\_adaptive\_update}}\ ||}
\DoxyCodeLine{00255\ \ \ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_ab2837af4566e2d62db7b76f9527fb6d7}{total\_steps}}<\ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a59d194f84b46b159d367477f3d436e10}{start\_adaptive\_update}})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00256\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00257\ \}}

\end{DoxyCode}
\mbox{\Hypertarget{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a828e12f4ecb82252341af5f5e54f7ad3}\label{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a828e12f4ecb82252341af5f5e54f7ad3}} 
\index{adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}!UpdateAdaptiveCovariance@{UpdateAdaptiveCovariance}}
\index{UpdateAdaptiveCovariance@{UpdateAdaptiveCovariance}!adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}}
\doxysubsubsection{\texorpdfstring{UpdateAdaptiveCovariance()}{UpdateAdaptiveCovariance()}}
{\footnotesize\ttfamily void adaptive\+\_\+mcmc\+::\+Adaptive\+MCMCHandler\+::\+Update\+Adaptive\+Covariance (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ double $>$ \&}]{\+\_\+f\+Curr\+Val,  }\item[{const int}]{Npars }\end{DoxyParamCaption})}



Method to update adaptive MCMC. 

\begin{DoxySeeAlso}{See also}
\href{https://projecteuclid.org/journals/bernoulli/volume-7/issue-2/An-adaptive-Metropolis-algorithm/bj/1080222083.full}{\texttt{ https\+://projecteuclid.\+org/journals/bernoulli/volume-\/7/issue-\/2/\+An-\/adaptive-\/\+Metropolis-\/algorithm/bj/1080222083.\+full}} 
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em \+\_\+f\+Curr\+Val} & Value of each parameter necessary for updating throw matrix \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source_l00198}{198}} of file \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source}{Adaptive\+MCMCHandler.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00199\ \textcolor{comment}{//\ ********************************************}}
\DoxyCodeLine{00200\ \ \ std::vector<double>\ par\_means\_prev\ =\ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a066984e9598e073d04edec51511cdf0a}{par\_means}};}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ \ \ \textcolor{keywordtype}{int}\ steps\_post\_burn\ =\ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_ab2837af4566e2d62db7b76f9527fb6d7}{total\_steps}}\ -\/\ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a59d194f84b46b159d367477f3d436e10}{start\_adaptive\_update}};}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \textcolor{preprocessor}{\ \ \#ifdef\ MULTITHREAD}}
\DoxyCodeLine{00205\ \textcolor{preprocessor}{\ \ \#pragma\ omp\ parallel\ for}}
\DoxyCodeLine{00206\ \textcolor{preprocessor}{\ \ \#endif}}
\DoxyCodeLine{00207\ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ iRow\ =\ 0;\ iRow\ <\ Npars;\ iRow++)\ \{}
\DoxyCodeLine{00208\ \ \ \ \ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a066984e9598e073d04edec51511cdf0a}{par\_means}}[iRow]\ =\ (\_fCurrVal[iRow]+\mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a066984e9598e073d04edec51511cdf0a}{par\_means}}[iRow]*steps\_post\_burn)/(steps\_post\_burn+1);}
\DoxyCodeLine{00209\ \ \ \}}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \ \ \textcolor{comment}{//Now\ we\ update\ the\ covariances\ using\ cov(x,y)=E(xy)-\/E(x)E(y)}}
\DoxyCodeLine{00212\ \textcolor{preprocessor}{\ \ \#ifdef\ MULTITHREAD}}
\DoxyCodeLine{00213\ \textcolor{preprocessor}{\ \ \#pragma\ omp\ parallel\ for}}
\DoxyCodeLine{00214\ \textcolor{preprocessor}{\ \ \#endif}}
\DoxyCodeLine{00215\ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ irow\ =\ 0;\ irow\ <\ Npars;\ irow++)\{}
\DoxyCodeLine{00216\ \ \ \ \ \textcolor{keywordtype}{int}\ block\ =\ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a23d17e906a663e2b48dd4dfc96300b02}{adapt\_block\_matrix\_indices}}[irow];}
\DoxyCodeLine{00217\ \ \ \ \ \textcolor{comment}{//\ int\ scale\_factor\ =\ 5.76/double(adapt\_block\_sizes[block]);}}
\DoxyCodeLine{00218\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ icol\ =\ 0;\ icol\ <=\ irow;\ icol++)\{}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ cov\_val=0;}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \textcolor{comment}{//\ Not\ in\ the\ same\ blocks}}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a23d17e906a663e2b48dd4dfc96300b02}{adapt\_block\_matrix\_indices}}[icol]\ ==\ block)\{}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Calculate\ Covariance\ for\ block}}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ https://projecteuclid.org/journals/bernoulli/volume-\/7/issue-\/2/An-\/adaptive-\/Metropolis-\/algorithm/bj/1080222083.full}}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ cov\_val\ =\ (*adaptive\_covariance)(irow,\ icol)*Npars/5.6644;}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ cov\_val\ +=\ par\_means\_prev[irow]*par\_means\_prev[icol];\ \textcolor{comment}{//First\ we\ remove\ the\ current\ means}}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ cov\_val\ =\ (cov\_val*steps\_post\_burn+\_fCurrVal[irow]*\_fCurrVal[icol])/(steps\_post\_burn+1);\ \textcolor{comment}{//Now\ get\ mean(iRow*iCol)}}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ cov\_val\ -\/=\ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a066984e9598e073d04edec51511cdf0a}{par\_means}}[icol]*\mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a066984e9598e073d04edec51511cdf0a}{par\_means}}[irow];}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ cov\_val*=5.6644/Npars;}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00230\ \ \ \ \ \ \ (*adaptive\_covariance)(icol,\ irow)\ =\ cov\_val;}
\DoxyCodeLine{00231\ \ \ \ \ \ \ (*adaptive\_covariance)(irow,\ icol)\ =\ cov\_val;}
\DoxyCodeLine{00232\ \ \ \ \ \}}
\DoxyCodeLine{00233\ \ \ \}}
\DoxyCodeLine{00234\ \}}

\end{DoxyCode}
\mbox{\Hypertarget{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a217c72a492c9d3e1b3a7b14626d19ab2}\label{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a217c72a492c9d3e1b3a7b14626d19ab2}} 
\index{adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}!UpdateMatrixAdapt@{UpdateMatrixAdapt}}
\index{UpdateMatrixAdapt@{UpdateMatrixAdapt}!adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}}
\doxysubsubsection{\texorpdfstring{UpdateMatrixAdapt()}{UpdateMatrixAdapt()}}
{\footnotesize\ttfamily bool adaptive\+\_\+mcmc\+::\+Adaptive\+MCMCHandler\+::\+Update\+Matrix\+Adapt (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Tell whether matrix should be updated. 



Definition at line \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source_l00244}{244}} of file \mbox{\hyperlink{AdaptiveMCMCHandler_8cpp_source}{Adaptive\+MCMCHandler.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00245\ \textcolor{comment}{//\ ********************************************}}
\DoxyCodeLine{00246\ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_ab2837af4566e2d62db7b76f9527fb6d7}{total\_steps}}\ >=\ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a9708ad2c46d0e7a9ac78f5377fbf8839}{start\_adaptive\_throw}}\ \&\&}
\DoxyCodeLine{00247\ \ \ \ \ (\mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_ab2837af4566e2d62db7b76f9527fb6d7}{total\_steps}}\ -\/\ \mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a9708ad2c46d0e7a9ac78f5377fbf8839}{start\_adaptive\_throw}})\%\mbox{\hyperlink{classadaptive__mcmc_1_1AdaptiveMCMCHandler_ac29758f6988af2d8271fe9950989baf4}{adaptive\_update\_step}}\ ==\ 0)\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00248\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00249\ \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a23d17e906a663e2b48dd4dfc96300b02}\label{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a23d17e906a663e2b48dd4dfc96300b02}} 
\index{adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}!adapt\_block\_matrix\_indices@{adapt\_block\_matrix\_indices}}
\index{adapt\_block\_matrix\_indices@{adapt\_block\_matrix\_indices}!adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}}
\doxysubsubsection{\texorpdfstring{adapt\_block\_matrix\_indices}{adapt\_block\_matrix\_indices}}
{\footnotesize\ttfamily std\+::vector$<$int$>$ adaptive\+\_\+mcmc\+::\+Adaptive\+MCMCHandler\+::adapt\+\_\+block\+\_\+matrix\+\_\+indices}



Indices for block-\/matrix adaption. 



Definition at line \mbox{\hyperlink{AdaptiveMCMCHandler_8h_source_l00079}{79}} of file \mbox{\hyperlink{AdaptiveMCMCHandler_8h_source}{Adaptive\+MCMCHandler.\+h}}.

\mbox{\Hypertarget{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a639f1d4935965556ce4e3d36aef844ec}\label{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a639f1d4935965556ce4e3d36aef844ec}} 
\index{adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}!adapt\_block\_sizes@{adapt\_block\_sizes}}
\index{adapt\_block\_sizes@{adapt\_block\_sizes}!adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}}
\doxysubsubsection{\texorpdfstring{adapt\_block\_sizes}{adapt\_block\_sizes}}
{\footnotesize\ttfamily std\+::vector$<$int$>$ adaptive\+\_\+mcmc\+::\+Adaptive\+MCMCHandler\+::adapt\+\_\+block\+\_\+sizes}



Size of blocks for adaption. 



Definition at line \mbox{\hyperlink{AdaptiveMCMCHandler_8h_source_l00082}{82}} of file \mbox{\hyperlink{AdaptiveMCMCHandler_8h_source}{Adaptive\+MCMCHandler.\+h}}.

\mbox{\Hypertarget{classadaptive__mcmc_1_1AdaptiveMCMCHandler_afd61e64f18f5c25dbbd6bb2bd619a268}\label{classadaptive__mcmc_1_1AdaptiveMCMCHandler_afd61e64f18f5c25dbbd6bb2bd619a268}} 
\index{adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}!adaptive\_covariance@{adaptive\_covariance}}
\index{adaptive\_covariance@{adaptive\_covariance}!adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}}
\doxysubsubsection{\texorpdfstring{adaptive\_covariance}{adaptive\_covariance}}
{\footnotesize\ttfamily TMatrix\+DSym$\ast$ adaptive\+\_\+mcmc\+::\+Adaptive\+MCMCHandler\+::adaptive\+\_\+covariance}



Full adaptive covariance matrix. 



Definition at line \mbox{\hyperlink{AdaptiveMCMCHandler_8h_source_l00089}{89}} of file \mbox{\hyperlink{AdaptiveMCMCHandler_8h_source}{Adaptive\+MCMCHandler.\+h}}.

\mbox{\Hypertarget{classadaptive__mcmc_1_1AdaptiveMCMCHandler_ac29758f6988af2d8271fe9950989baf4}\label{classadaptive__mcmc_1_1AdaptiveMCMCHandler_ac29758f6988af2d8271fe9950989baf4}} 
\index{adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}!adaptive\_update\_step@{adaptive\_update\_step}}
\index{adaptive\_update\_step@{adaptive\_update\_step}!adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}}
\doxysubsubsection{\texorpdfstring{adaptive\_update\_step}{adaptive\_update\_step}}
{\footnotesize\ttfamily int adaptive\+\_\+mcmc\+::\+Adaptive\+MCMCHandler\+::adaptive\+\_\+update\+\_\+step}



Steps between changing throw matrix. 



Definition at line \mbox{\hyperlink{AdaptiveMCMCHandler_8h_source_l00076}{76}} of file \mbox{\hyperlink{AdaptiveMCMCHandler_8h_source}{Adaptive\+MCMCHandler.\+h}}.

\mbox{\Hypertarget{classadaptive__mcmc_1_1AdaptiveMCMCHandler_aa7d3703d1de3c3fbf32f37cadf58be08}\label{classadaptive__mcmc_1_1AdaptiveMCMCHandler_aa7d3703d1de3c3fbf32f37cadf58be08}} 
\index{adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}!end\_adaptive\_update@{end\_adaptive\_update}}
\index{end\_adaptive\_update@{end\_adaptive\_update}!adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}}
\doxysubsubsection{\texorpdfstring{end\_adaptive\_update}{end\_adaptive\_update}}
{\footnotesize\ttfamily int adaptive\+\_\+mcmc\+::\+Adaptive\+MCMCHandler\+::end\+\_\+adaptive\+\_\+update}



Steps between changing throw matrix. 



Definition at line \mbox{\hyperlink{AdaptiveMCMCHandler_8h_source_l00073}{73}} of file \mbox{\hyperlink{AdaptiveMCMCHandler_8h_source}{Adaptive\+MCMCHandler.\+h}}.

\mbox{\Hypertarget{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a066984e9598e073d04edec51511cdf0a}\label{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a066984e9598e073d04edec51511cdf0a}} 
\index{adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}!par\_means@{par\_means}}
\index{par\_means@{par\_means}!adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}}
\doxysubsubsection{\texorpdfstring{par\_means}{par\_means}}
{\footnotesize\ttfamily std\+::vector$<$double$>$ adaptive\+\_\+mcmc\+::\+Adaptive\+MCMCHandler\+::par\+\_\+means}



Mean values for all parameters. 



Definition at line \mbox{\hyperlink{AdaptiveMCMCHandler_8h_source_l00086}{86}} of file \mbox{\hyperlink{AdaptiveMCMCHandler_8h_source}{Adaptive\+MCMCHandler.\+h}}.

\mbox{\Hypertarget{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a9708ad2c46d0e7a9ac78f5377fbf8839}\label{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a9708ad2c46d0e7a9ac78f5377fbf8839}} 
\index{adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}!start\_adaptive\_throw@{start\_adaptive\_throw}}
\index{start\_adaptive\_throw@{start\_adaptive\_throw}!adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}}
\doxysubsubsection{\texorpdfstring{start\_adaptive\_throw}{start\_adaptive\_throw}}
{\footnotesize\ttfamily int adaptive\+\_\+mcmc\+::\+Adaptive\+MCMCHandler\+::start\+\_\+adaptive\+\_\+throw}

Meta variables related to adaption run time When do we start throwing 

Definition at line \mbox{\hyperlink{AdaptiveMCMCHandler_8h_source_l00067}{67}} of file \mbox{\hyperlink{AdaptiveMCMCHandler_8h_source}{Adaptive\+MCMCHandler.\+h}}.

\mbox{\Hypertarget{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a59d194f84b46b159d367477f3d436e10}\label{classadaptive__mcmc_1_1AdaptiveMCMCHandler_a59d194f84b46b159d367477f3d436e10}} 
\index{adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}!start\_adaptive\_update@{start\_adaptive\_update}}
\index{start\_adaptive\_update@{start\_adaptive\_update}!adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}}
\doxysubsubsection{\texorpdfstring{start\_adaptive\_update}{start\_adaptive\_update}}
{\footnotesize\ttfamily int adaptive\+\_\+mcmc\+::\+Adaptive\+MCMCHandler\+::start\+\_\+adaptive\+\_\+update}



When do we stop update the adaptive matrix. 



Definition at line \mbox{\hyperlink{AdaptiveMCMCHandler_8h_source_l00070}{70}} of file \mbox{\hyperlink{AdaptiveMCMCHandler_8h_source}{Adaptive\+MCMCHandler.\+h}}.

\mbox{\Hypertarget{classadaptive__mcmc_1_1AdaptiveMCMCHandler_ab2837af4566e2d62db7b76f9527fb6d7}\label{classadaptive__mcmc_1_1AdaptiveMCMCHandler_ab2837af4566e2d62db7b76f9527fb6d7}} 
\index{adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}!total\_steps@{total\_steps}}
\index{total\_steps@{total\_steps}!adaptive\_mcmc::AdaptiveMCMCHandler@{adaptive\_mcmc::AdaptiveMCMCHandler}}
\doxysubsubsection{\texorpdfstring{total\_steps}{total\_steps}}
{\footnotesize\ttfamily int adaptive\+\_\+mcmc\+::\+Adaptive\+MCMCHandler\+::total\+\_\+steps}



Total number of MCMC steps. 



Definition at line \mbox{\hyperlink{AdaptiveMCMCHandler_8h_source_l00092}{92}} of file \mbox{\hyperlink{AdaptiveMCMCHandler_8h_source}{Adaptive\+MCMCHandler.\+h}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/runner/work/\+Ma\+Ch3/\+Ma\+Ch3/covariance/\mbox{\hyperlink{AdaptiveMCMCHandler_8h}{Adaptive\+MCMCHandler.\+h}}\item 
/home/runner/work/\+Ma\+Ch3/\+Ma\+Ch3/covariance/\mbox{\hyperlink{AdaptiveMCMCHandler_8cpp}{Adaptive\+MCMCHandler.\+cpp}}\end{DoxyCompactItemize}

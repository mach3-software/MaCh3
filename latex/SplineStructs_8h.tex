\hypertarget{SplineStructs_8h}{}\doxysection{/home/runner/work/\+Ma\+Ch3/\+Ma\+Ch3/splines/\+Spline\+Structs.h File Reference}
\label{SplineStructs_8h}\index{/home/runner/work/MaCh3/MaCh3/splines/SplineStructs.h@{/home/runner/work/MaCh3/MaCh3/splines/SplineStructs.h}}


Contains structures and helper functions for handling spline representations of systematic parameters in the Ma\+Ch3.  


{\ttfamily \#include \char`\"{}covariance/covariance\+Xsec.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}sample\+PDF/\+Structs.\+h\char`\"{}}\newline
{\ttfamily \#include $<$cmath$>$}\newline
Include dependency graph for Spline\+Structs.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{SplineStructs_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{SplineStructs_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structFastSplineInfo}{Fast\+Spline\+Info}}
\begin{DoxyCompactList}\small\item\em CW\+: Add a struct to hold info about the splinified xsec parameters and help with Find\+Spline\+Segment. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classTResponseFunction__red}{TResponse\+Function\+\_\+red}}
\begin{DoxyCompactList}\small\item\em KS\+: A reduced Response\+Function Generic function used for evaluating weight. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classTF1__red}{TF1\+\_\+red}}
\begin{DoxyCompactList}\small\item\em CW\+: A reduced TF1 class only. Only saves parameters for each TF1 and how many parameters each parameter set has. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classTSpline3__red}{TSpline3\+\_\+red}}
\begin{DoxyCompactList}\small\item\em CW\+: Reduced TSpline3 class. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{SplineStructs_8h_ab440d2db15109691e0f68d55a4fb9c7d}{Apply\+Knot\+Weight\+Cap}} (TGraph $\ast$xsecgraph, int spline\+Pars\+Index, \mbox{\hyperlink{classcovarianceXsec}{covariance\+Xsec}} $\ast$Xsec\+Cov)
\begin{DoxyCompactList}\small\item\em EM\+: Apply capping to knot weight for specified spline parameter. param graph needs to have been set in xsecgraph array first. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{SplineStructs_8h_aee66563def836e531cda07c5efa45d87}{is\+Flat}} (\mbox{\hyperlink{classTSpline3__red}{TSpline3\+\_\+red}} $\ast$\&spl)
\begin{DoxyCompactList}\small\item\em CW\+: Helper function used in the constructor, tests to see if the spline is flat. \end{DoxyCompactList}\item 
std\+::vector$<$ std\+::vector$<$ \mbox{\hyperlink{classTSpline3__red}{TSpline3\+\_\+red}} $\ast$ $>$ $>$ \mbox{\hyperlink{SplineStructs_8h_a02798d50f282b82a68b58d672dcb2472}{Reduce\+TSpline3}} (std\+::vector$<$ std\+::vector$<$ TSpline3 $\ast$ $>$ $>$ \&Master\+Spline)
\begin{DoxyCompactList}\small\item\em CW\+: Reduced the TSpline3 to \mbox{\hyperlink{classTSpline3__red}{TSpline3\+\_\+red}}. \end{DoxyCompactList}\item 
std\+::vector$<$ std\+::vector$<$ \mbox{\hyperlink{classTF1__red}{TF1\+\_\+red}} $\ast$ $>$ $>$ \mbox{\hyperlink{SplineStructs_8h_adb758df8e7abdf29f474bf643da0efd2}{Reduce\+TF1}} (std\+::vector$<$ std\+::vector$<$ TF1 $\ast$ $>$ $>$ \&Master\+Spline)
\begin{DoxyCompactList}\small\item\em CW\+: Reduced the TF1 to \mbox{\hyperlink{classTF1__red}{TF1\+\_\+red}}. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Contains structures and helper functions for handling spline representations of systematic parameters in the Ma\+Ch3. 



Definition in file \mbox{\hyperlink{SplineStructs_8h_source}{Spline\+Structs.\+h}}.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{SplineStructs_8h_ab440d2db15109691e0f68d55a4fb9c7d}\label{SplineStructs_8h_ab440d2db15109691e0f68d55a4fb9c7d}} 
\index{SplineStructs.h@{SplineStructs.h}!ApplyKnotWeightCap@{ApplyKnotWeightCap}}
\index{ApplyKnotWeightCap@{ApplyKnotWeightCap}!SplineStructs.h@{SplineStructs.h}}
\doxysubsubsection{\texorpdfstring{ApplyKnotWeightCap()}{ApplyKnotWeightCap()}}
{\footnotesize\ttfamily void Apply\+Knot\+Weight\+Cap (\begin{DoxyParamCaption}\item[{TGraph $\ast$}]{xsecgraph,  }\item[{int}]{spline\+Pars\+Index,  }\item[{\mbox{\hyperlink{classcovarianceXsec}{covariance\+Xsec}} $\ast$}]{Xsec\+Cov }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



EM\+: Apply capping to knot weight for specified spline parameter. param graph needs to have been set in xsecgraph array first. 



Definition at line \mbox{\hyperlink{SplineStructs_8h_source_l00051}{51}} of file \mbox{\hyperlink{SplineStructs_8h_source}{Spline\+Structs.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00052\ \textcolor{comment}{//\ ***************************************************************************}}
\DoxyCodeLine{00053\ \ \ \textcolor{keywordflow}{if}(xsecgraph\ ==\ NULL)\{}
\DoxyCodeLine{00054\ \ \ \ \ \mbox{\hyperlink{MaCh3Logger_8h_a61052119a625282d0ec6d4a97adf3ee2}{MACH3LOG\_ERROR}}(\textcolor{stringliteral}{"{}ERROR:\ hmmm\ looks\ like\ you're\ trying\ to\ apply\ capping\ for\ spline\ parameter\ \{\}\ but\ it\ hasn't\ been\ set\ in\ xsecgraph\ yet"{}},\ XsecCov-\/>\mbox{\hyperlink{classcovarianceBase_a6a46b5fed3e7feb6e9e151e90927bdbc}{GetParFancyName}}(splineParsIndex));}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{classMaCh3Exception}{MaCh3Exception}}(\_\_FILE\_\_\ ,\ \_\_LINE\_\_\ );}
\DoxyCodeLine{00056\ \ \ \}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \textcolor{comment}{//\ EM:\ cap\ the\ weights\ of\ the\ knots\ if\ specified\ in\ the\ config}}
\DoxyCodeLine{00059\ \ \ \textcolor{keywordflow}{if}(}
\DoxyCodeLine{00060\ \ \ \ \ (XsecCov-\/>\mbox{\hyperlink{classcovarianceXsec_ac612a0f939f2f070906af574f98590d6}{GetParSplineKnotUpperBound}}(splineParsIndex)\ !=\ 9999)}
\DoxyCodeLine{00061\ \ \ \ \ ||\ (XsecCov-\/>\mbox{\hyperlink{classcovarianceXsec_a9ea6bd6b0e021f154ebd1f23605ff3e5}{GetParSplineKnotLowerBound}}(splineParsIndex)\ !=\ -\/9999))}
\DoxyCodeLine{00062\ \ \ \{}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ knotId\ =\ 0;\ knotId\ <\ xsecgraph-\/>GetN();\ knotId++)\{}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ x,y;}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \ \ \ \ \ \ \textcolor{comment}{//\ EM:\ get\ the\ x\ and\ y\ of\ the\ point.\ Also\ double\ check\ that\ the\ requested\ point\ was\ valid\ just\ to\ be\ super\ safe}}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ xsecgraph-\/>GetPoint(knotId,\ x,\ y)\ ==\ -\/1)\ \{}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{MaCh3Logger_8h_a61052119a625282d0ec6d4a97adf3ee2}{MACH3LOG\_ERROR}}(\textcolor{stringliteral}{"{}Invalid\ knot\ requested:\ \{\}"{}},\ knotId);}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{classMaCh3Exception}{MaCh3Exception}}(\_\_FILE\_\_\ ,\ \_\_LINE\_\_\ );}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \ \ \ \ y\ =\ std::min(y,\ XsecCov-\/>\mbox{\hyperlink{classcovarianceXsec_ac612a0f939f2f070906af574f98590d6}{GetParSplineKnotUpperBound}}(splineParsIndex));}
\DoxyCodeLine{00073\ \ \ \ \ \ \ y\ =\ std::max(y,\ XsecCov-\/>\mbox{\hyperlink{classcovarianceXsec_a9ea6bd6b0e021f154ebd1f23605ff3e5}{GetParSplineKnotLowerBound}}(splineParsIndex));}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \ \ \ \ xsecgraph-\/>SetPoint(knotId,\ x,\ y);}
\DoxyCodeLine{00076\ \ \ \ \ \}}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{comment}{//\ EM:\ check\ if\ our\ cap\ made\ the\ spline\ flat,\ if\ so\ we\ set\ to\ 1\ knot\ to\ avoid\ problems\ later\ on}}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{GetPenaltyTerm_8cpp_ae7c3a438d4508eba7ac26e26135b2c17}{isFlat}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ knotId\ =\ 0;\ knotId\ <\ xsecgraph-\/>GetN();\ knotId++)\{}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ x,y;}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \ \ \ \ \textcolor{comment}{//\ EM:\ get\ the\ x\ and\ y\ of\ the\ point.\ Also\ double\ check\ that\ the\ requested\ point\ was\ valid\ just\ to\ be\ super\ safe}}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ xsecgraph-\/>GetPoint(knotId,\ x,\ y)\ ==\ -\/1)\ \{}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{MaCh3Logger_8h_a61052119a625282d0ec6d4a97adf3ee2}{MACH3LOG\_ERROR}}(\textcolor{stringliteral}{"{}Invalid\ knot\ requested:\ \{\}"{}},\ knotId);}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{classMaCh3Exception}{MaCh3Exception}}(\_\_FILE\_\_\ ,\ \_\_LINE\_\_\ );}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(std::abs(y\ -\/\ 1.0)\ >\ 1e-\/5)\ \mbox{\hyperlink{GetPenaltyTerm_8cpp_ae7c3a438d4508eba7ac26e26135b2c17}{isFlat}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00091\ \ \ \ \ \}}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{GetPenaltyTerm_8cpp_ae7c3a438d4508eba7ac26e26135b2c17}{isFlat}})\{}
\DoxyCodeLine{00094\ \ \ \ \ \ \ xsecgraph-\/>Set(1);}
\DoxyCodeLine{00095\ \ \ \ \ \ \ xsecgraph-\/>SetPoint(0,\ 0.0,\ 1.0);}
\DoxyCodeLine{00096\ \ \ \ \ \}}
\DoxyCodeLine{00097\ \ \ \}}
\DoxyCodeLine{00098\ \}}

\end{DoxyCode}
\mbox{\Hypertarget{SplineStructs_8h_aee66563def836e531cda07c5efa45d87}\label{SplineStructs_8h_aee66563def836e531cda07c5efa45d87}} 
\index{SplineStructs.h@{SplineStructs.h}!isFlat@{isFlat}}
\index{isFlat@{isFlat}!SplineStructs.h@{SplineStructs.h}}
\doxysubsubsection{\texorpdfstring{isFlat()}{isFlat()}}
{\footnotesize\ttfamily bool is\+Flat (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classTSpline3__red}{TSpline3\+\_\+red}} $\ast$\&}]{spl }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



CW\+: Helper function used in the constructor, tests to see if the spline is flat. 


\begin{DoxyParams}{Parameters}
{\em spl} & pointer to \mbox{\hyperlink{classTSpline3__red}{TSpline3\+\_\+red}} that will be checked \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{SplineStructs_8h_source_l00670}{670}} of file \mbox{\hyperlink{SplineStructs_8h_source}{Spline\+Structs.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00670\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00671\ \textcolor{comment}{//\ *****************************************}}
\DoxyCodeLine{00672\ \ \ \textcolor{keywordtype}{int}\ Np\ =\ spl-\/>\mbox{\hyperlink{classTSpline3__red_a6b680cfb96e11c55b8325e1274251b91}{GetNp}}();}
\DoxyCodeLine{00673\ \ \ \mbox{\hyperlink{namespaceM3_a1f95274549f25fc19fe7db343c8a7a68}{M3::float\_t}}\ x,\ y,\ b,\ c,\ d;}
\DoxyCodeLine{00674\ \ \ \textcolor{comment}{//\ Go\ through\ spline\ segment\ parameters,}}
\DoxyCodeLine{00675\ \ \ \textcolor{comment}{//\ Get\ y\ values\ for\ each\ spline\ knot,}}
\DoxyCodeLine{00676\ \ \ \textcolor{comment}{//\ Every\ knot\ must\ evaluate\ to\ 1.0\ to\ create\ a\ flat\ spline}}
\DoxyCodeLine{00677\ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ Np;\ i++)\ \{}
\DoxyCodeLine{00678\ \ \ \ \ spl-\/>\mbox{\hyperlink{classTSpline3__red_a74d108b99a9060ab85c22343fa4a4532}{GetCoeff}}(i,\ x,\ y,\ b,\ c,\ d);}
\DoxyCodeLine{00679\ \ \ \ \ \textcolor{keywordflow}{if}\ (y\ !=\ 1)\ \{}
\DoxyCodeLine{00680\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00681\ \ \ \ \ \}}
\DoxyCodeLine{00682\ \ \ \}}
\DoxyCodeLine{00683\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00684\ \}}

\end{DoxyCode}
\mbox{\Hypertarget{SplineStructs_8h_adb758df8e7abdf29f474bf643da0efd2}\label{SplineStructs_8h_adb758df8e7abdf29f474bf643da0efd2}} 
\index{SplineStructs.h@{SplineStructs.h}!ReduceTF1@{ReduceTF1}}
\index{ReduceTF1@{ReduceTF1}!SplineStructs.h@{SplineStructs.h}}
\doxysubsubsection{\texorpdfstring{ReduceTF1()}{ReduceTF1()}}
{\footnotesize\ttfamily std\+::vector$<$ std\+::vector$<$ \mbox{\hyperlink{classTF1__red}{TF1\+\_\+red}} $\ast$ $>$ $>$ Reduce\+TF1 (\begin{DoxyParamCaption}\item[{std\+::vector$<$ std\+::vector$<$ TF1 $\ast$ $>$ $>$ \&}]{Master\+Spline }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



CW\+: Reduced the TF1 to \mbox{\hyperlink{classTF1__red}{TF1\+\_\+red}}. 


\begin{DoxyParams}{Parameters}
{\em Master\+Spline} & Vector of \mbox{\hyperlink{classTF1__red}{TF1\+\_\+red}} pointers which we strip back \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{SplineStructs_8h_source_l00727}{727}} of file \mbox{\hyperlink{SplineStructs_8h_source}{Spline\+Structs.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00727\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00728\ \textcolor{comment}{//\ *********************************}}
\DoxyCodeLine{00729\ \ \ std::vector<std::vector<TF1*>\ >::iterator\ OuterIt;}
\DoxyCodeLine{00730\ \ \ std::vector<TF1*>::iterator\ InnerIt;}
\DoxyCodeLine{00731\ }
\DoxyCodeLine{00732\ \ \ \textcolor{comment}{//\ The\ return\ vector}}
\DoxyCodeLine{00733\ \ \ std::vector<std::vector<TF1\_red*>\ >\ ReducedVector;}
\DoxyCodeLine{00734\ \ \ ReducedVector.reserve(MasterSpline.size());}
\DoxyCodeLine{00735\ }
\DoxyCodeLine{00736\ \ \ \textcolor{comment}{//\ Loop\ over\ each\ parameter}}
\DoxyCodeLine{00737\ \ \ \textcolor{keywordtype}{int}\ OuterCounter\ =\ 0;}
\DoxyCodeLine{00738\ \ \ \textcolor{keywordflow}{for}\ (OuterIt\ =\ MasterSpline.begin();\ OuterIt\ !=\ MasterSpline.end();\ ++OuterIt,\ ++OuterCounter)\ \{}
\DoxyCodeLine{00739\ \ \ \ \ \textcolor{comment}{//\ Make\ the\ temp\ vector}}
\DoxyCodeLine{00740\ \ \ \ \ std::vector<TF1\_red*>\ TempVector;}
\DoxyCodeLine{00741\ \ \ \ \ TempVector.reserve(OuterIt-\/>size());}
\DoxyCodeLine{00742\ \ \ \ \ \textcolor{keywordtype}{int}\ InnerCounter\ =\ 0;}
\DoxyCodeLine{00743\ \ \ \ \ \textcolor{comment}{//\ Loop\ over\ each\ TSpline3\ pointer}}
\DoxyCodeLine{00744\ \ \ \ \ \textcolor{keywordflow}{for}\ (InnerIt\ =\ OuterIt-\/>begin();\ InnerIt\ !=\ OuterIt-\/>end();\ ++InnerIt,\ ++InnerCounter)\ \{}
\DoxyCodeLine{00745\ \ \ \ \ \ \ \textcolor{comment}{//\ Here's\ our\ delicious\ TSpline3\ object}}
\DoxyCodeLine{00746\ \ \ \ \ \ \ TF1*\ spline\ =\ (*InnerIt);}
\DoxyCodeLine{00747\ \ \ \ \ \ \ \textcolor{comment}{//\ Now\ make\ the\ reduced\ TSpline3\ pointer\ (which\ deleted\ TSpline3)}}
\DoxyCodeLine{00748\ \ \ \ \ \ \ \mbox{\hyperlink{classTF1__red}{TF1\_red}}*\ red\ =\ NULL;}
\DoxyCodeLine{00749\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (spline\ !=\ NULL)\ \{}
\DoxyCodeLine{00750\ \ \ \ \ \ \ \ \ red\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classTF1__red}{TF1\_red}}(spline);}
\DoxyCodeLine{00751\ \ \ \ \ \ \ \ \ (*InnerIt)\ =\ spline;}
\DoxyCodeLine{00752\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00753\ \ \ \ \ \ \ \textcolor{comment}{//\ Push\ back\ onto\ new\ vector}}
\DoxyCodeLine{00754\ \ \ \ \ \ \ TempVector.push\_back(red);}
\DoxyCodeLine{00755\ \ \ \ \ \}\ \textcolor{comment}{//\ End\ inner\ for\ loop}}
\DoxyCodeLine{00756\ \ \ \ \ ReducedVector.push\_back(TempVector);}
\DoxyCodeLine{00757\ \ \ \}\ \textcolor{comment}{//\ End\ outer\ for\ loop}}
\DoxyCodeLine{00758\ \ \ \textcolor{comment}{//\ Now\ have\ the\ reduced\ vector}}
\DoxyCodeLine{00759\ \ \ \textcolor{keywordflow}{return}\ ReducedVector;}
\DoxyCodeLine{00760\ \}}

\end{DoxyCode}
\mbox{\Hypertarget{SplineStructs_8h_a02798d50f282b82a68b58d672dcb2472}\label{SplineStructs_8h_a02798d50f282b82a68b58d672dcb2472}} 
\index{SplineStructs.h@{SplineStructs.h}!ReduceTSpline3@{ReduceTSpline3}}
\index{ReduceTSpline3@{ReduceTSpline3}!SplineStructs.h@{SplineStructs.h}}
\doxysubsubsection{\texorpdfstring{ReduceTSpline3()}{ReduceTSpline3()}}
{\footnotesize\ttfamily std\+::vector$<$ std\+::vector$<$ \mbox{\hyperlink{classTSpline3__red}{TSpline3\+\_\+red}} $\ast$ $>$ $>$ Reduce\+TSpline3 (\begin{DoxyParamCaption}\item[{std\+::vector$<$ std\+::vector$<$ TSpline3 $\ast$ $>$ $>$ \&}]{Master\+Spline }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



CW\+: Reduced the TSpline3 to \mbox{\hyperlink{classTSpline3__red}{TSpline3\+\_\+red}}. 


\begin{DoxyParams}{Parameters}
{\em Master\+Spline} & Vector of \mbox{\hyperlink{classTSpline3__red}{TSpline3\+\_\+red}} pointers which we strip back \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{SplineStructs_8h_source_l00689}{689}} of file \mbox{\hyperlink{SplineStructs_8h_source}{Spline\+Structs.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00689\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00690\ \textcolor{comment}{//\ *********************************}}
\DoxyCodeLine{00691\ \ \ std::vector<std::vector<TSpline3*>\ >::iterator\ OuterIt;}
\DoxyCodeLine{00692\ \ \ std::vector<TSpline3*>::iterator\ InnerIt;}
\DoxyCodeLine{00693\ }
\DoxyCodeLine{00694\ \ \ \textcolor{comment}{//\ The\ return\ vector}}
\DoxyCodeLine{00695\ \ \ std::vector<std::vector<TSpline3\_red*>\ >\ ReducedVector;}
\DoxyCodeLine{00696\ \ \ ReducedVector.reserve(MasterSpline.size());}
\DoxyCodeLine{00697\ }
\DoxyCodeLine{00698\ \ \ \textcolor{comment}{//\ Loop\ over\ each\ parameter}}
\DoxyCodeLine{00699\ \ \ \textcolor{keywordtype}{int}\ OuterCounter\ =\ 0;}
\DoxyCodeLine{00700\ \ \ \textcolor{keywordflow}{for}\ (OuterIt\ =\ MasterSpline.begin();\ OuterIt\ !=\ MasterSpline.end();\ ++OuterIt,\ ++OuterCounter)\ \{}
\DoxyCodeLine{00701\ \ \ \ \ \textcolor{comment}{//\ Make\ the\ temp\ vector}}
\DoxyCodeLine{00702\ \ \ \ \ std::vector<TSpline3\_red*>\ TempVector;}
\DoxyCodeLine{00703\ \ \ \ \ TempVector.reserve(OuterIt-\/>size());}
\DoxyCodeLine{00704\ \ \ \ \ \textcolor{keywordtype}{int}\ InnerCounter\ =\ 0;}
\DoxyCodeLine{00705\ \ \ \ \ \textcolor{comment}{//\ Loop\ over\ each\ TSpline3\ pointer}}
\DoxyCodeLine{00706\ \ \ \ \ \textcolor{keywordflow}{for}\ (InnerIt\ =\ OuterIt-\/>begin();\ InnerIt\ !=\ OuterIt-\/>end();\ ++InnerIt,\ ++InnerCounter)\ \{}
\DoxyCodeLine{00707\ \ \ \ \ \ \ \textcolor{comment}{//\ Here's\ our\ delicious\ TSpline3\ object}}
\DoxyCodeLine{00708\ \ \ \ \ \ \ TSpline3\ *spline\ =\ (*InnerIt);}
\DoxyCodeLine{00709\ \ \ \ \ \ \ \textcolor{comment}{//\ Now\ make\ the\ reduced\ TSpline3\ pointer}}
\DoxyCodeLine{00710\ \ \ \ \ \ \ \mbox{\hyperlink{classTSpline3__red}{TSpline3\_red}}\ *red\ =\ NULL;}
\DoxyCodeLine{00711\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (spline\ !=\ NULL)\ \{}
\DoxyCodeLine{00712\ \ \ \ \ \ \ \ \ red\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classTSpline3__red}{TSpline3\_red}}(spline);}
\DoxyCodeLine{00713\ \ \ \ \ \ \ \ \ (*InnerIt)\ =\ spline;}
\DoxyCodeLine{00714\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00715\ \ \ \ \ \ \ \textcolor{comment}{//\ Push\ back\ onto\ new\ vector}}
\DoxyCodeLine{00716\ \ \ \ \ \ \ TempVector.push\_back(red);}
\DoxyCodeLine{00717\ \ \ \ \ \}\ \textcolor{comment}{//\ End\ inner\ for\ loop}}
\DoxyCodeLine{00718\ \ \ \ \ ReducedVector.push\_back(TempVector);}
\DoxyCodeLine{00719\ \ \ \}\ \textcolor{comment}{//\ End\ outer\ for\ loop}}
\DoxyCodeLine{00720\ \ \ \textcolor{comment}{//\ Now\ have\ the\ reduced\ vector}}
\DoxyCodeLine{00721\ \ \ \textcolor{keywordflow}{return}\ ReducedVector;}
\DoxyCodeLine{00722\ \}}

\end{DoxyCode}

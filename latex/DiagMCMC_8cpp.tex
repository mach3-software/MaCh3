\hypertarget{DiagMCMC_8cpp}{}\doxysection{/home/runner/work/\+Ma\+Ch3/\+Ma\+Ch3/\+Diagnostics/\+Diag\+MCMC.cpp File Reference}
\label{DiagMCMC_8cpp}\index{/home/runner/work/MaCh3/MaCh3/Diagnostics/DiagMCMC.cpp@{/home/runner/work/MaCh3/MaCh3/Diagnostics/DiagMCMC.cpp}}
{\ttfamily \#include \char`\"{}mcmc/\+MCMCProcessor.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}manager/manager.\+h\char`\"{}}\newline
Include dependency graph for Diag\+MCMC.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{DiagMCMC_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{DiagMCMC_8cpp_ae234755b7b483f97d2a48d8959e90a18}{Diag\+MCMC}} (const std\+::string \&input\+File, const std\+::string \&\mbox{\hyperlink{ProcessMCMC_8cpp_a13056efd080ab16304b6f7be0ebf0a61}{config}})
\begin{DoxyCompactList}\small\item\em Main function creating \mbox{\hyperlink{classMCMCProcessor}{MCMCProcessor}} and calling MCMC Diagnostic. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{DiagMCMC_8cpp_a0ddf1224851353fc92bfbff6f499fa97}{main}} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{DiagMCMC_8cpp_ae234755b7b483f97d2a48d8959e90a18}\label{DiagMCMC_8cpp_ae234755b7b483f97d2a48d8959e90a18}} 
\index{DiagMCMC.cpp@{DiagMCMC.cpp}!DiagMCMC@{DiagMCMC}}
\index{DiagMCMC@{DiagMCMC}!DiagMCMC.cpp@{DiagMCMC.cpp}}
\doxysubsubsection{\texorpdfstring{DiagMCMC()}{DiagMCMC()}}
{\footnotesize\ttfamily void Diag\+MCMC (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{input\+File,  }\item[{const std\+::string \&}]{config }\end{DoxyParamCaption})}



Main function creating \mbox{\hyperlink{classMCMCProcessor}{MCMCProcessor}} and calling MCMC Diagnostic. 


\begin{DoxyParams}{Parameters}
{\em input\+File} & MCMC Chain \\
\hline
{\em config} & Config file with settings \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{DiagMCMC_8cpp_source_l00008}{8}} of file \mbox{\hyperlink{DiagMCMC_8cpp_source}{Diag\+MCMC.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00009\ \{}
\DoxyCodeLine{00010\ \ \ \mbox{\hyperlink{MaCh3Logger_8h_a95fa4dffc648e4c5536c9292c2bdcac3}{MACH3LOG\_INFO}}(\textcolor{stringliteral}{"{}File\ for\ study:\ \{\}"{}},\ inputFile);}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \ \ YAML::Node\ Settings\ =\ YAML::LoadFile(\mbox{\hyperlink{ProcessMCMC_8cpp_a13056efd080ab16304b6f7be0ebf0a61}{config}});}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \ \ \textcolor{comment}{//\ Make\ the\ processor}}
\DoxyCodeLine{00015\ \ \ \mbox{\hyperlink{classMCMCProcessor}{MCMCProcessor}}*\ Processor\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classMCMCProcessor}{MCMCProcessor}}(inputFile);}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \ \ Processor-\/>\mbox{\hyperlink{classMCMCProcessor_a2f4bf14c95b830c457a73be5399403ad}{SetOutputSuffix}}(\textcolor{stringliteral}{"{}\_MCMC\_Diag"{}});}
\DoxyCodeLine{00018\ \ \ \textcolor{comment}{//KS:Turn\ off\ plotting\ detector\ and\ some\ other\ setting}}
\DoxyCodeLine{00019\ \ \ Processor-\/>\mbox{\hyperlink{classMCMCProcessor_a4364a8ab084906c8925c9db9dc110485}{SetExcludedTypes}}(\mbox{\hyperlink{YamlHelper_8h_a1a6adcb8b24bfbdcb936ced6812e1b0c}{GetFromManager}}<std::vector<std::string>>(Settings[\textcolor{stringliteral}{"{}DiagMCMC"{}}][\textcolor{stringliteral}{"{}ExcludedTypes"{}}],\ \{\textcolor{stringliteral}{"{}"{}}\}));}
\DoxyCodeLine{00020\ \ \ Processor-\/>\mbox{\hyperlink{classMCMCProcessor_a09a6fa6cefcb20c00bee22c1dc5718c5}{SetExcludedNames}}(\mbox{\hyperlink{YamlHelper_8h_a1a6adcb8b24bfbdcb936ced6812e1b0c}{GetFromManager}}<std::vector<std::string>>(Settings[\textcolor{stringliteral}{"{}DiagMCMC"{}}][\textcolor{stringliteral}{"{}ExcludedNames"{}}],\ \{\textcolor{stringliteral}{"{}"{}}\}));}
\DoxyCodeLine{00021\ \ \ Processor-\/>\mbox{\hyperlink{classMCMCProcessor_a6ea549289949ac19d2fc768d82c8f1c9}{SetPlotRelativeToPrior}}(GetFromManager<bool>(Settings[\textcolor{stringliteral}{"{}DiagMCMC"{}}][\textcolor{stringliteral}{"{}PlotRelativeToPrior"{}}],\ \textcolor{keyword}{false}));}
\DoxyCodeLine{00022\ \ \ \textcolor{comment}{//KS:\ Use\ 20\ batches\ for\ batched\ means}}
\DoxyCodeLine{00023\ \ \ Processor-\/>\mbox{\hyperlink{classMCMCProcessor_a5b13f1879f84d13b7d139432a9b993c6}{SetnBatches}}(GetFromManager<int>(Settings[\textcolor{stringliteral}{"{}DiagMCMC"{}}][\textcolor{stringliteral}{"{}nBatches"{}}],\ 20));}
\DoxyCodeLine{00024\ \ \ Processor-\/>\mbox{\hyperlink{classMCMCProcessor_a173d37d528ff201e66db8f92c156e3bb}{SetnLags}}(GetFromManager<int>(Settings[\textcolor{stringliteral}{"{}DiagMCMC"{}}][\textcolor{stringliteral}{"{}nLags"{}}],\ 25000));}
\DoxyCodeLine{00025\ \ \ Processor-\/>\mbox{\hyperlink{classMCMCProcessor_a9db87211d9f066011daed18af7f4631e}{SetPrintToPDF}}(GetFromManager<bool>(Settings[\textcolor{stringliteral}{"{}PrintToPDF"{}}],\ \textcolor{keyword}{true}));}
\DoxyCodeLine{00026\ \ \ Processor-\/>\mbox{\hyperlink{classMCMCProcessor_a224995a0b47bd9cbd04e099cc3ca634c}{Initialise}}();}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \ \ \textcolor{comment}{//KS:\ finally\ call\ main\ method}}
\DoxyCodeLine{00029\ \ \ Processor-\/>\mbox{\hyperlink{classMCMCProcessor_a7f8faecae63616ba100cf24ae42ecc08}{DiagMCMC}}();}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \textcolor{keyword}{delete}\ Processor;}
\DoxyCodeLine{00032\ \}}

\end{DoxyCode}
\mbox{\Hypertarget{DiagMCMC_8cpp_a0ddf1224851353fc92bfbff6f499fa97}\label{DiagMCMC_8cpp_a0ddf1224851353fc92bfbff6f499fa97}} 
\index{DiagMCMC.cpp@{DiagMCMC.cpp}!main@{main}}
\index{main@{main}!DiagMCMC.cpp@{DiagMCMC.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{DiagMCMC_8cpp_source_l00034}{34}} of file \mbox{\hyperlink{DiagMCMC_8cpp_source}{Diag\+MCMC.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00035\ \ \ \mbox{\hyperlink{MaCh3Logger_8h_aa603c55ea73cd86d1994901227883e1e}{SetMaCh3LoggerFormat}}();}
\DoxyCodeLine{00036\ \ \ \textcolor{keywordflow}{if}\ (argc\ !=\ 3)}
\DoxyCodeLine{00037\ \ \ \{}
\DoxyCodeLine{00038\ \ \ \ \ \mbox{\hyperlink{MaCh3Logger_8h_a61052119a625282d0ec6d4a97adf3ee2}{MACH3LOG\_ERROR}}(\textcolor{stringliteral}{"{}How\ to\ use:\ DiagMCMC\ MCMC\_Output.root\ config"{}});}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{classMaCh3Exception}{MaCh3Exception}}(\_\_FILE\_\_\ ,\ \_\_LINE\_\_\ );}
\DoxyCodeLine{00040\ \ \ \}}
\DoxyCodeLine{00041\ \ \ \mbox{\hyperlink{MaCh3Logger_8h_a95fa4dffc648e4c5536c9292c2bdcac3}{MACH3LOG\_INFO}}(\textcolor{stringliteral}{"{}Producing\ single\ fit\ output"{}});}
\DoxyCodeLine{00042\ \ \ std::string\ filename\ =\ argv[1];}
\DoxyCodeLine{00043\ \ \ std::string\ \mbox{\hyperlink{ProcessMCMC_8cpp_a13056efd080ab16304b6f7be0ebf0a61}{config}}\ =\ argv[2];}
\DoxyCodeLine{00044\ \ \ \mbox{\hyperlink{DiagMCMC_8cpp_ae234755b7b483f97d2a48d8959e90a18}{DiagMCMC}}(filename,\ \mbox{\hyperlink{ProcessMCMC_8cpp_a13056efd080ab16304b6f7be0ebf0a61}{config}});}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00047\ \}}

\end{DoxyCode}

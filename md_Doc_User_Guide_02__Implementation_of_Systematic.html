<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MaCh3: WARNING TO BECOME DEPRECATED</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="MaCh3.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="mach3logo_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MaCh3
   &#160;<span id="projectnumber">2.4.2</span>
   </div>
   <div id="projectbrief">Reference Guide</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">WARNING TO BECOME DEPRECATED </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Most of the implementation is being handled via config which is being passed to the covariance object. It contains information like the name of the parameter, prior value prior error and type of systematic.</p>
<h1><a class="anchor" id="autotoc_md102"></a>
Special Proposals</h1>
<h2><a class="anchor" id="autotoc_md103"></a>
CircularBounds</h2>
<div class="fragment"><div class="line">- Systematic:</div>
<div class="line">    Names:</div>
<div class="line">      FancyName: delta_cp</div>
<div class="line">    SpecialProposal:</div>
<div class="line">        CircularBounds: [-3.141592, 3.141592]</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md104"></a>
Flipping</h2>
<div class="fragment"><div class="line">- Systematic:</div>
<div class="line">    Names:</div>
<div class="line">      FancyName: sin2th_23</div>
<div class="line"> </div>
<div class="line">    # flip octant around point of maximal disappearance (0.5112)</div>
<div class="line">    # this ensures we move to a parameter value which has the same oscillation probability</div>
<div class="line">    SpecialProposal:</div>
<div class="line">        FlipParameter: 0.5112</div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md105"></a>
Types</h1>
<p>There are four types of systematic within MaCh3 framework: </p><ol>
<li>
Splines  </li>
<li>
Normalisation  </li>
<li>
Function  </li>
<li>
Oscillation  </li>
</ol>
<h2><a class="anchor" id="autotoc_md106"></a>
Splines</h2>
<p>Splines are being handled via a dedicated spline class. The most important thing is to ensure the correct name of the spline which will be loaded via input file. </p><div class="fragment"><div class="line">- Systematic:</div>
<div class="line">    SampleNames: [&quot;ND&quot;]</div>
<div class="line">    Error: 0.06</div>
<div class="line">    FlatPrior: false</div>
<div class="line">    IsFixed: false</div>
<div class="line">    Mode: []</div>
<div class="line">    Names:</div>
<div class="line">      FancyName: MaQE</div>
<div class="line">    ParameterBounds: [0.0, 9999]</div>
<div class="line">    ParameterGroup: Xsec</div>
<div class="line">    ParameterValues:</div>
<div class="line">      Generated: 1.21</div>
<div class="line">      PreFitValue: 1.03</div>
<div class="line">    SplineInformation:</div>
<div class="line">      Mode: [0]</div>
<div class="line">      SplineName: MaCCQE</div>
<div class="line">      InterpolationType: TSpline3</div>
<div class="line">    StepScale:</div>
<div class="line">      MCMC: 0.4</div>
<div class="line">    Type: Spline</div>
</div><!-- fragment --><p> You can select multiple interpolation types: <img src="https://github.com/user-attachments/assets/04dc2a6e-d599-4eae-a299-4cf04c3017c0" alt="image" class="inline"/></p>
<p>In addition, you can cap spline knots. If for example there was a mistake in production and some knots have weights at 1000, and you don't want to remake spines: </p><div class="fragment"><div class="line">SplineInformation:</div>
<div class="line">  SplineKnotUpBound: 10</div>
<div class="line">  SplineKnotLowBound: 0</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md107"></a>
Normalisation</h2>
<p>Implementation of these relies on <em>KinematicCuts</em>. Based on which event is affected by a given norm param or not.</p>
<div class="fragment"><div class="line">- Systematic:</div>
<div class="line">    DetID: 985</div>
<div class="line">    Error: 0.11</div>
<div class="line">    FlatPrior: false</div>
<div class="line">    IsFixed: false</div>
<div class="line">    Mode: [ 0 ]</div>
<div class="line">    Names:</div>
<div class="line">      FancyName: Q2_norm_5</div>
<div class="line">      ParameterName: Q2_norm_5</div>
<div class="line">    ParameterBounds:</div>
<div class="line">      - 0</div>
<div class="line">      - 999.</div>
<div class="line">    ParameterGroup: Xsec</div>
<div class="line">    TargetNuclei: [12, 16]</div>
<div class="line">    KinematicCuts:</div>
<div class="line">      - TrueQ2:</div>
<div class="line">        - 0.25</div>
<div class="line">        - 0.5</div>
<div class="line">    ParameterValues:</div>
<div class="line">      Generated: 1.</div>
<div class="line">      PreFitValue: 1.</div>
<div class="line">    StepScale:</div>
<div class="line">      MCMC: 0.2</div>
<div class="line">    Type: Norm</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md108"></a>
KinematicCuts</h3>
<p>TODO!!!</p>
<h2><a class="anchor" id="autotoc_md109"></a>
Functional</h2>
<p>These need to be implemented in experiment specific SamplePDF via <em>CalcXsecWeightFunc</em>. </p><div class="fragment"><div class="line">- Systematic:</div>
<div class="line">    DetID: 1</div>
<div class="line">    Error: 6</div>
<div class="line">    FlatPrior: false</div>
<div class="line">    IsFixed: false</div>
<div class="line">    Names:</div>
<div class="line">      FancyName: EB_dial_C_nu</div>
<div class="line">      ParameterName: EB_dial_C_nu</div>
<div class="line">    ParameterBounds:</div>
<div class="line">      - -10.</div>
<div class="line">      - 15.</div>
<div class="line">    ParameterGroup: Xsec</div>
<div class="line">    ParameterValues:</div>
<div class="line">      Generated: 0</div>
<div class="line">      PreFitValue: 2.</div>
<div class="line">    Correlations:</div>
<div class="line">      - EB_dial_C_nubar: 0.778</div>
<div class="line">      - EB_dial_O_nu: 0.870</div>
<div class="line">      - EB_dial_O_nubar: 0.653</div>
<div class="line">    StepScale:</div>
<div class="line">      MCMC: 0.2</div>
<div class="line">    Type: Functional</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md110"></a>
Oscillation</h2>
<p>Oscillation parameters don't have any special fields compared with other types. However, order and number are crucial here. This is what is being passed to the NuOscillator framework. Therefore you must be careful to pass them properly.</p>
<h1><a class="anchor" id="autotoc_md111"></a>
Parameter Tunes</h1>
<p>TODO!!! </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- Footer for MaCh3 Doxygen documentation -->
<footer class="mach3-footer" style="text-align: center;">
    <div style="margin-bottom: 15px;">
        <span style="font-weight: bold;">The MaCh3 Collaboration</span>
    </div>
    <!-- Dropdown to jump between doc versions -->
    <div style="margin-bottom: 10px;">
        <span>Select Software Version: </span>
        <select id="versionSelector" onchange="window.location.href=this.value" style="padding: 5px; border-radius: 4px; border: 1px solid #ccc;">
            <option value="">-- Select --</option>
            <option value="https://mach3-software.github.io/MaCh3/">develop</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v2.4.0/index.html">v2.4.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v2.3.0/index.html">v2.3.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v2.2.0/index.html">v2.2.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v2.1.0/index.html">v2.1.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v2.0.0/index.html">v2.0.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v1.5.0/index.html">v1.5.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v1.4.0/index.html">v1.4.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v1.3.0/index.html">v1.3.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v1.2.0/index.html">v1.2.0</option>
            <option value="https://mach3-software.github.io/MaCh3/.Archive/v1.1.0/index.html">v1.1.0</option>
        </select>
    </div>
    <!-- Footer info about doxygen -->
    <div style="font-size: 0.9em; color: #666; margin-top: 10px;">
        Documentation generated with
        <a href="https://www.doxygen.nl/" target="_blank" style="color: #666;">Doxygen</a>
        <span id="doxygenVersion"></span>
    </div>
    <!-- Now grab doxygen version from metadata -->
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        const meta = document.querySelector('meta[name="generator"]');
        if (meta) {
            const version = meta.getAttribute("content").replace("Doxygen ", "");
            document.getElementById("doxygenVersion").textContent = " " + version;
        }
    });
    </script>
</footer>
